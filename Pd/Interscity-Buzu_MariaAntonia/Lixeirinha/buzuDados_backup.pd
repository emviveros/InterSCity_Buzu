#N canvas 134 139 805 464 10;
#X obj 57 21 inlet mensagem_de_entrada;
#X obj 358 21 inlet dia_da_semana;
#X obj 169 177 list prepend 8;
#X obj 169 226 route 0 1 2 3 4 5 6 7, f 44;
#X text 454 212 seleciona o dia da semana que fornecerá os dados,
f 25;
#X msg 595 312 dia da semana inválido;
#X obj 595 333 print ERRO;
#N canvas 126 81 1059 625 pascoa 0;
#N canvas 300 106 710 536 buzu 0;
#X text 433 107 aponta para o indexador numérico e retorna a linha
de ônibus associada, f 35;
#X text 13 86 indexadores negativos retornam a quantidade total de
linhas de onibus cadastradas, f 21;
#X obj 173 414 outlet saída_de_dados;
#X obj 377 414 outlet bang_de_fim;
#X obj 174 118 moses 0, f 41;
#X floatatom 174 93 5 0 0 0 - - -;
#X msg 174 139 bang;
#X obj 174 243 t b f;
#X msg 417 244 \$1;
#X obj 417 265 t b a;
#X obj 174 22 inlet mensagem_de_entrada;
#X obj 174 222 text size onibus_pascoa;
#X obj 417 223 text get onibus_pascoa;
#X connect 4 0 6 0;
#X connect 4 1 12 0;
#X connect 5 0 4 0;
#X connect 6 0 11 0;
#X connect 7 0 3 0;
#X connect 7 1 2 0;
#X connect 8 0 9 0;
#X connect 9 0 3 0;
#X connect 9 1 2 0;
#X connect 10 0 5 0;
#X connect 11 0 7 0;
#X connect 12 0 8 0;
#X restore 127 312 pd buzu;
#N canvas 201 136 445 535 zona 0;
#X obj 242 415 outlet bang_de_fim;
#X obj 45 415 outlet saída_de_dados;
#X obj 63 68 list prepend symbol;
#X obj 63 89 list trim;
#X obj 39 35 inlet identificador;
#X obj 100 318 t b a;
#X text 221 90 envia o dado de zona referente ao identificador, f
31;
#X obj 98 243 list split 3;
#X obj 98 164 text search coordenadas_pascoa;
#X obj 98 202 text get coordenadas_pascoa;
#X connect 2 0 3 0;
#X connect 3 0 8 0;
#X connect 4 0 2 0;
#X connect 5 0 0 0;
#X connect 5 1 1 0;
#X connect 7 1 5 0;
#X connect 8 0 9 0;
#X connect 9 0 7 0;
#X restore 590 312 pd zona;
#X obj 779 223 print Erro;
#X obj 118 162 route linhas buzu start_time interval stops coordenadas
zona trajeto avgspeed, f 103;
#X msg 779 202 Verifique a formatação da mensagem no Help;
#X obj 196 544 outlet saída_de_dados;
#X obj 626 544 outlet bang_de_fim;
#X obj 118 66 inlet mensagem_de_entrada;
#N canvas 219 100 627 313 linhas 0;
#X text 342 89 Retorna todas as linhas de ônibus sequencialmente a
um intervalo de tempo definido, f 37;
#X obj 57 227 outlet dados;
#X obj 228 227 outlet bang_de_fim;
#X obj 127 19 inlet mensagem_de_entrada;
#N canvas 188 68 799 658 linhas_de_ônibus 0;
#X msg 172 408 line 0;
#X obj 367 125 t b b b;
#X obj 192 52 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 172 475 \$1;
#X floatatom 430 421 5 0 0 0 - - -;
#X msg 424 284 stop;
#X floatatom 525 231 5 0 0 0 - - -;
#N canvas 116 209 348 228 contador 0;
#X obj 32 117 f;
#X obj 75 117 + 1;
#X msg 141 84 -1;
#X text 69 5 CONTADOR COM RESET;
#X obj 32 144 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X text 27 206 bang de saída;
#X obj 32 188 outlet bang;
#X obj 152 188 outlet contagem;
#X text 146 206 contagem de saída;
#X obj 32 33 inlet bang;
#X text 64 48 bang de contagem, f 9;
#X obj 141 33 inlet reset;
#X text 194 48 reinicia contagem;
#X connect 0 0 1 0;
#X connect 0 0 4 0;
#X connect 0 0 7 0;
#X connect 1 0 0 1;
#X connect 2 0 1 0;
#X connect 4 0 6 0;
#X connect 9 0 0 0;
#X connect 11 0 2 0;
#X restore 367 380 pd contador;
#X obj 367 208 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 533 203 total de linhas de ônibus no dia, f 16;
#X obj 492 308 sel 10;
#N canvas 667 298 399 318 seletor 0;
#X obj 109 60 inlet;
#X obj 109 143 f;
#X obj 147 143 + 1;
#X obj 129 185 sel 1 2, f 15;
#X obj 109 112 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 89 217 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 172 217 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 214 102 1;
#X obj 89 282 outlet;
#X obj 172 282 outlet;
#X text 241 104 reseta contagem;
#X text 20 12 SELETOR - A cada bang recebido \, alterna bangs pelas
saídas.;
#X obj 214 81 loadbang;
#X connect 0 0 4 0;
#X connect 1 0 2 0;
#X connect 1 0 3 0;
#X connect 2 0 1 1;
#X connect 3 0 5 0;
#X connect 3 1 6 0;
#X connect 4 0 1 0;
#X connect 5 0 8 0;
#X connect 6 0 7 0;
#X connect 6 0 9 0;
#X connect 7 0 1 1;
#X connect 12 0 7 0;
#X restore 367 228 pd seletor;
#X obj 430 344 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 367 283 t b b b;
#X text 506 324 ao atingir o total de linhas de ônibus no dia \, o
[metro] é interrompido, f 22;
#X text 134 25 liga/desl;
#X text 380 25 tempo de leitura;
#X text 462 418 índice da linha a ser recuperada, f 11;
#X text 289 15 1;
#X text 553 17 2;
#X msg 367 408 step;
#X obj 367 350 metro 18;
#X obj 192 24 inlet liga/desl;
#X obj 480 24 inlet tempo;
#X msg 238 408 bang;
#X obj 172 544 outlet linhas;
#X obj 331 543 outlet acabou;
#X text 85 564 retorna linhas de ônibus no tempo determinado, f 24
;
#X text 363 560 bang ao terminar de retornar dados, f 18;
#X obj 238 343 t b b;
#X obj 385 104 t b f;
#X text 17 87 Máquina que retorna as linhas de ônibus a um intervalo
de tempo determinado no inlet 2 de um determinado dia, f 32;
#X floatatom 462 253 5 0 0 0 - - -;
#X obj 403 432 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#N canvas 537 137 539 406 processamento_de_dados 0;
#X floatatom 217 58 5 0 0 0 - - -;
#X obj 196 265 f, f 4;
#X floatatom 196 294 5 0 0 0 - - -;
#X obj 217 23 inlet tempo;
#X text 292 22 tempo em ms;
#X obj 196 344 outlet tempo;
#X obj 39 344 outlet zero;
#X obj 39 23 inlet bang;
#X obj 39 185 spigot 1;
#X obj 84 165 <= 0;
#X obj 39 49 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 217 78 t f f, f 8;
#X obj 39 82 t b b;
#X obj 262 99 > 0;
#X obj 196 120 spigot 0, f 12;
#X obj 39 323 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 196 241 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 311 219 Este subpatch retornará um bang pelo outlet esquerdo
sempre que o tempo de retorno fornecido entre cada linha de ônibus
seja igual ou menor que zero \, caso contrário \, retorna o tempo
pelo outlet direito para setar o [metro], f 34;
#X connect 0 0 11 0;
#X connect 1 0 2 0;
#X connect 2 0 5 0;
#X connect 3 0 0 0;
#X connect 7 0 10 0;
#X connect 8 0 15 0;
#X connect 9 0 8 1;
#X connect 10 0 12 0;
#X connect 11 0 9 0;
#X connect 11 0 1 1;
#X connect 11 1 13 0;
#X connect 12 0 8 0;
#X connect 12 1 14 0;
#X connect 13 0 14 1;
#X connect 14 0 16 0;
#X connect 15 0 6 0;
#X connect 16 0 1 0;
#X restore 238 82 pd processamento_de_dados;
#X obj 525 186 text size onibus_pascoa;
#X obj 172 454 text sequence onibus_pascoa;
#X connect 0 0 36 0;
#X connect 1 0 8 0;
#X connect 1 1 35 0;
#X connect 1 2 0 0;
#X connect 2 0 34 0;
#X connect 3 0 25 0;
#X connect 5 0 21 0;
#X connect 6 0 10 1;
#X connect 7 0 20 0;
#X connect 7 0 33 0;
#X connect 7 1 10 0;
#X connect 7 1 4 0;
#X connect 8 0 11 0;
#X connect 10 0 8 0;
#X connect 11 0 13 0;
#X connect 11 1 5 0;
#X connect 12 0 7 1;
#X connect 13 0 21 0;
#X connect 13 1 12 0;
#X connect 20 0 36 0;
#X connect 21 0 7 0;
#X connect 22 0 2 0;
#X connect 23 0 34 1;
#X connect 24 0 36 0;
#X connect 29 0 24 0;
#X connect 29 1 0 0;
#X connect 30 0 1 0;
#X connect 30 1 21 1;
#X connect 30 1 32 0;
#X connect 34 0 29 0;
#X connect 34 1 30 0;
#X connect 35 0 6 0;
#X connect 36 0 3 0;
#X connect 36 1 26 0;
#X restore 87 172 pd linhas_de_ônibus;
#X obj 127 97 t b f;
#X connect 3 0 5 0;
#X connect 4 0 1 0;
#X connect 4 1 2 0;
#X connect 5 0 4 0;
#X connect 5 1 4 1;
#X restore 57 312 pd linhas;
#N canvas 66 147 556 410 start_time 0;
#X text 332 54 Retorna o valor de start_time a partir do nome da linha
de ônibus, f 35;
#X obj 112 320 outlet saída_de_dados;
#X obj 302 320 outlet bang_de_fim;
#X msg 197 243 \$2;
#X obj 142 68 list prepend symbol;
#X obj 142 89 list trim;
#X obj 197 264 t b a;
#X obj 124 19 inlet linha_de_ônibus;
#X obj 46 182 sel -1;
#X msg 46 203 linha não encontrada;
#X obj 197 134 text search onibus_pascoa;
#X obj 197 222 text get onibus_pascoa;
#X connect 3 0 6 0;
#X connect 4 0 5 0;
#X connect 5 0 10 0;
#X connect 6 0 2 0;
#X connect 6 1 1 0;
#X connect 7 0 4 0;
#X connect 8 0 9 0;
#X connect 9 0 6 0;
#X connect 10 0 8 0;
#X connect 10 0 11 0;
#X connect 11 0 3 0;
#X restore 185 312 pd start_time;
#N canvas 278 73 722 691 interval 0;
#X obj 492 626 outlet bang_de_fim;
#X obj 219 626 outlet saída_de_dados;
#X obj 158 358 list split 2;
#X obj 192 389 list split 24;
#X obj 192 545 t b a;
#X obj 158 131 list split 1;
#X obj 351 98 list length;
#X obj 158 84 t a a;
#X obj 492 287 list split 1;
#X obj 19 317 sel -1;
#X msg 19 338 linha não encontrada;
#N canvas 615 290 542 370 seletor_de_modo_de_saída 0;
#X obj 321 102 sel 0, f 16;
#X obj 82 211 spigot 1;
#X obj 82 70 t a a, f 32;
#X obj 271 251 spigot 1;
#X msg 321 147 1;
#X obj 321 127 t b b, f 8;
#X msg 366 147 0;
#X obj 414 157 t b b, f 8;
#X msg 414 177 0;
#X msg 459 177 1;
#X obj 82 17 inlet lista;
#X obj 321 17 inlet tamanho_da_lista;
#X obj 82 325 outlet sai_lista_completa;
#X obj 321 84 > 1;
#X obj 271 325 outlet mandar_lista_para_fatiamento;
#X connect 0 0 5 0;
#X connect 0 1 7 0;
#X connect 1 0 12 0;
#X connect 2 0 1 0;
#X connect 2 1 3 0;
#X connect 3 0 14 0;
#X connect 4 0 1 1;
#X connect 5 0 4 0;
#X connect 5 1 6 0;
#X connect 6 0 3 1;
#X connect 7 0 8 0;
#X connect 7 1 9 0;
#X connect 8 0 1 1;
#X connect 9 0 3 1;
#X connect 10 0 2 0;
#X connect 11 0 13 0;
#X connect 13 0 0 0;
#X restore 192 440 pd seletor_de_modo_de_saída;
#X text 503 303 argumento tempo, f 9;
#X text 96 134 argumento linha de ônibus, f 9;
#N canvas 733 62 502 514 fatiar_lista_no_tempo 0;
#X obj 37 37 inlet lista;
#X obj 271 37 inlet tempo;
#X text 342 38 (ms);
#X obj 37 452 outlet saída_elemento_a_elemento;
#X obj 37 225 spigot 0;
#X obj 271 109 t a a, f 11;
#N canvas 456 120 471 263 disparador_de_dados 0;
#X obj 89 17 inlet lista_de_dados;
#X obj 310 17 inlet tempo;
#X obj 89 200 outlet saída_dado_a_dado;
#X obj 89 68 list split 1, f 41;
#X obj 147 142 list append;
#X obj 28 128 del;
#X msg 28 102 bang;
#X obj 332 200 outlet bang_de_fim;
#X connect 0 0 3 0;
#X connect 1 0 5 1;
#X connect 3 0 6 0;
#X connect 3 0 2 0;
#X connect 3 1 4 1;
#X connect 3 2 7 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 6 0 5 0;
#X restore 169 267 pd disparador_de_dados;
#X f 28;
#X obj 37 111 t a a, f 8;
#N canvas 162 87 537 382 se_tempo_é_menor_que_0 0;
#X obj 35 20 inlet lista;
#X obj 194 20 inlet tempo;
#X obj 75 320 outlet libera_lista_completa;
#X obj 45 183 sel 1, f 11;
#X msg 45 205 1;
#X msg 108 205 0;
#X obj 28 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 133 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 301 256 spigot 1;
#X msg 313 205 1;
#X msg 376 205 0;
#X obj 292 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 405 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 313 183 sel 0, f 11;
#X obj 301 321 outlet libera_lista_pra_ser_fatiada;
#X obj 194 75 < 0;
#X text 354 58 Se o tempo é maior ou igual a zero \, este subpatch
libera os dados para serem fatiados, f 25;
#X connect 0 0 8 0;
#X connect 1 0 15 0;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 4 0 2 0;
#X connect 4 0 6 0;
#X connect 5 0 2 0;
#X connect 5 0 7 0;
#X connect 8 0 14 0;
#X connect 9 0 11 0;
#X connect 9 0 8 1;
#X connect 10 0 12 0;
#X connect 10 0 8 1;
#X connect 13 0 9 0;
#X connect 13 1 10 0;
#X connect 15 0 3 0;
#X connect 15 0 13 0;
#X restore 82 158 pd se_tempo_é_menor_que_0;
#X f 32;
#X obj 334 451 outlet bang_de_fim;
#X connect 0 0 7 0;
#X connect 1 0 5 0;
#X connect 4 0 3 0;
#X connect 5 0 8 1;
#X connect 5 1 6 1;
#X connect 6 0 3 0;
#X connect 6 1 9 0;
#X connect 7 0 4 0;
#X connect 7 1 8 0;
#X connect 8 0 4 1;
#X connect 8 1 6 0;
#X restore 351 488 pd fatiar_lista_no_tempo;
#X text 528 62 envia todos os dados de interval referentes a linha
requerida, f 22;
#X obj 158 9 inlet mensagem_de_entrada;
#X obj 158 254 text search onibus_pascoa;
#X obj 158 277 text get onibus_pascoa;
#X connect 2 1 3 0;
#X connect 3 0 11 0;
#X connect 4 0 0 0;
#X connect 4 1 1 0;
#X connect 5 0 17 0;
#X connect 5 1 8 0;
#X connect 6 0 11 1;
#X connect 7 0 5 0;
#X connect 7 1 6 0;
#X connect 8 0 14 1;
#X connect 9 0 10 0;
#X connect 10 0 4 0;
#X connect 11 0 4 0;
#X connect 11 1 14 0;
#X connect 14 0 1 0;
#X connect 14 1 0 0;
#X connect 16 0 7 0;
#X connect 17 0 9 0;
#X connect 17 0 18 0;
#X connect 18 0 2 0;
#X restore 276 312 pd interval;
#N canvas 51 126 480 585 coordenadas 0;
#X obj 272 475 outlet bang_de_fim;
#X obj 75 475 outlet saída_de_dados;
#X obj 63 68 list prepend symbol;
#X obj 63 89 list trim;
#X obj 39 35 inlet identificador;
#X text 243 321 envia os dados de coordenadas referentes ao identificador
, f 31;
#X obj 98 243 list split 1;
#X obj 132 270 list split 2;
#X obj 100 318 t b a;
#X obj 98 164 text search coordenadas_pascoa;
#X obj 98 202 text get coordenadas_pascoa;
#X connect 2 0 3 0;
#X connect 3 0 9 0;
#X connect 4 0 2 0;
#X connect 6 1 7 0;
#X connect 7 0 8 0;
#X connect 8 0 0 0;
#X connect 8 1 1 0;
#X connect 9 0 10 0;
#X connect 10 0 6 0;
#X restore 492 312 pd coordenadas;
#N canvas 84 68 712 602 avgspeed 0;
#X obj 398 538 outlet bang_de_fim;
#X obj 231 538 outlet saída_de_dados;
#X text 487 61 envia todos os dados de velocidade média referentes
ao identificador de trajeto, f 29;
#X obj 170 24 inlet identificador_de_trajeto;
#X obj 204 399 t b a;
#X obj 19 257 sel -1;
#X msg 19 278 linha não encontrada;
#N canvas 615 290 542 370 seletor_de_modo_de_saída 0;
#X obj 321 102 sel 0, f 16;
#X obj 82 211 spigot 1;
#X obj 82 70 t a a, f 32;
#X obj 271 251 spigot 1;
#X msg 321 147 1;
#X obj 321 127 t b b, f 8;
#X msg 366 147 0;
#X obj 414 157 t b b, f 8;
#X msg 414 177 0;
#X msg 459 177 1;
#X obj 82 17 inlet lista;
#X obj 321 17 inlet tamanho_da_lista;
#X obj 82 325 outlet sai_lista_completa;
#X obj 321 84 > 1;
#X obj 271 325 outlet manda_lista_para_fatiamento;
#X connect 0 0 5 0;
#X connect 0 1 7 0;
#X connect 1 0 12 0;
#X connect 2 0 1 0;
#X connect 2 1 3 0;
#X connect 3 0 14 0;
#X connect 4 0 1 1;
#X connect 5 0 4 0;
#X connect 5 1 6 0;
#X connect 6 0 3 1;
#X connect 7 0 8 0;
#X connect 7 1 9 0;
#X connect 8 0 1 1;
#X connect 9 0 3 1;
#X connect 10 0 2 0;
#X connect 11 0 13 0;
#X connect 13 0 0 0;
#X restore 204 347 pd seletor_de_modo_de_saída;
#X obj 363 99 list length;
#X obj 170 85 t a a;
#X obj 170 115 list split 1;
#X obj 504 244 list split 1;
#N canvas 733 62 502 514 fatiar_lista_no_tempo 0;
#X obj 37 37 inlet lista;
#X obj 271 37 inlet tempo;
#X text 342 38 (ms);
#X obj 37 452 outlet saída_elemento_a_elemento;
#X obj 37 225 spigot 0;
#X obj 271 109 t a a, f 11;
#N canvas 456 120 471 263 disparador_de_dados 0;
#X obj 89 17 inlet lista_de_dados;
#X obj 310 17 inlet tempo;
#X obj 89 200 outlet saída_dado_a_dado;
#X obj 89 68 list split 1, f 41;
#X obj 147 142 list append;
#X obj 28 128 del;
#X msg 28 102 bang;
#X obj 332 200 outlet bang_de_fim;
#X connect 0 0 3 0;
#X connect 1 0 5 1;
#X connect 3 0 6 0;
#X connect 3 0 2 0;
#X connect 3 1 4 1;
#X connect 3 2 7 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 6 0 5 0;
#X restore 169 267 pd disparador_de_dados;
#X f 28;
#X obj 37 111 t a a, f 8;
#N canvas 162 87 537 382 se_tempo_é_menor_que_0 0;
#X obj 35 20 inlet lista;
#X obj 194 20 inlet tempo;
#X obj 75 320 outlet libera_lista_completa;
#X obj 45 183 sel 1, f 11;
#X msg 45 205 1;
#X msg 108 205 0;
#X obj 28 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 133 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 301 256 spigot 1;
#X msg 313 205 1;
#X msg 376 205 0;
#X obj 292 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 405 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 313 183 sel 0, f 11;
#X obj 301 321 outlet libera_lista_pra_ser_fatiada;
#X obj 194 75 < 0;
#X text 354 58 Se o tempo é maior ou igual a zero \, este subpatch
libera os dados para serem fatiados, f 25;
#X connect 0 0 8 0;
#X connect 1 0 15 0;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 4 0 2 0;
#X connect 4 0 6 0;
#X connect 5 0 2 0;
#X connect 5 0 7 0;
#X connect 8 0 14 0;
#X connect 9 0 11 0;
#X connect 9 0 8 1;
#X connect 10 0 12 0;
#X connect 10 0 8 1;
#X connect 13 0 9 0;
#X connect 13 1 10 0;
#X connect 15 0 3 0;
#X connect 15 0 13 0;
#X restore 82 158 pd se_tempo_é_menor_que_0;
#X f 32;
#X obj 334 451 outlet bang_de_fim;
#X connect 0 0 7 0;
#X connect 1 0 5 0;
#X connect 4 0 3 0;
#X connect 5 0 8 1;
#X connect 5 1 6 1;
#X connect 6 0 3 0;
#X connect 6 1 9 0;
#X connect 7 0 4 0;
#X connect 7 1 8 0;
#X connect 8 0 4 1;
#X connect 8 1 6 0;
#X restore 363 381 pd fatiar_lista_no_tempo;
#X text 583 242 tempo, f 6;
#X text 24 131 identificador de trajeto;
#X obj 170 204 text search trajetos_pascoa;
#X obj 170 232 text get trajetos_pascoa;
#X obj 170 313 list split 2;
#X connect 3 0 9 0;
#X connect 4 0 0 0;
#X connect 4 1 1 0;
#X connect 5 0 6 0;
#X connect 6 0 4 0;
#X connect 7 0 4 0;
#X connect 7 1 12 0;
#X connect 8 0 7 1;
#X connect 9 0 10 0;
#X connect 9 1 8 0;
#X connect 10 0 15 0;
#X connect 10 1 11 0;
#X connect 11 0 12 1;
#X connect 12 0 1 0;
#X connect 12 1 0 0;
#X connect 15 0 5 0;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 17 1 7 0;
#X restore 761 312 pd avgspeed;
#N canvas 122 28 757 674 stops 0;
#X text 547 153 envia todos os dados de stops referentes à linha requerida
, f 25;
#X obj 531 631 outlet bang_de_fim;
#X obj 258 631 outlet saída_de_dados;
#X obj 160 363 list split 2;
#X obj 194 394 list split 24;
#X obj 231 550 t b a;
#X obj 160 136 list split 1;
#X obj 390 103 list length;
#X obj 160 89 t a a;
#X obj 531 292 list split 1;
#X obj 21 322 sel -1;
#X msg 21 343 linha não encontrada;
#N canvas 615 290 542 370 seletor_de_modo_de_saída 0;
#X obj 321 102 sel 0, f 16;
#X obj 82 211 spigot 1;
#X obj 82 70 t a a, f 32;
#X obj 271 251 spigot 1;
#X msg 321 147 1;
#X obj 321 127 t b b, f 8;
#X msg 366 147 0;
#X obj 414 157 t b b, f 8;
#X msg 414 177 0;
#X msg 459 177 1;
#X obj 82 17 inlet lista;
#X obj 321 17 inlet tamanho_da_lista;
#X obj 82 325 outlet sai_lista_completa;
#X obj 271 325 outlet sair_lista_elemento_a_elemento;
#X obj 321 84 > 1;
#X connect 0 0 5 0;
#X connect 0 1 7 0;
#X connect 1 0 12 0;
#X connect 2 0 1 0;
#X connect 2 1 3 0;
#X connect 3 0 13 0;
#X connect 4 0 1 1;
#X connect 5 0 4 0;
#X connect 5 1 6 0;
#X connect 6 0 3 1;
#X connect 7 0 8 0;
#X connect 7 1 9 0;
#X connect 8 0 1 1;
#X connect 9 0 3 1;
#X connect 10 0 2 0;
#X connect 11 0 14 0;
#X connect 14 0 0 0;
#X restore 231 445 pd seletor_de_modo_de_saída;
#X text 542 308 argumento tempo, f 9;
#X text 98 139 argumento linha de ônibus, f 9;
#N canvas 733 62 502 514 fatiar_lista_no_tempo 0;
#X obj 37 37 inlet lista;
#X obj 271 37 inlet tempo;
#X text 342 38 (ms);
#X obj 37 452 outlet saída_elemento_a_elemento;
#X obj 37 225 spigot 0;
#X obj 271 109 t a a, f 11;
#N canvas 456 120 471 263 disparador_de_dados 0;
#X obj 89 17 inlet lista_de_dados;
#X obj 310 17 inlet tempo;
#X obj 89 200 outlet saída_dado_a_dado;
#X obj 89 68 list split 1, f 41;
#X obj 147 142 list append;
#X obj 28 128 del;
#X msg 28 102 bang;
#X obj 332 200 outlet bang_de_fim;
#X connect 0 0 3 0;
#X connect 1 0 5 1;
#X connect 3 0 6 0;
#X connect 3 0 2 0;
#X connect 3 1 4 1;
#X connect 3 2 7 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 6 0 5 0;
#X restore 169 267 pd disparador_de_dados;
#X f 28;
#X obj 37 111 t a a, f 8;
#N canvas 162 87 537 382 se_tempo_é_menor_que_0 0;
#X obj 35 20 inlet lista;
#X obj 194 20 inlet tempo;
#X obj 75 320 outlet libera_lista_completa;
#X obj 45 183 sel 1, f 11;
#X msg 45 205 1;
#X msg 108 205 0;
#X obj 28 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 133 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 301 256 spigot 1;
#X msg 313 205 1;
#X msg 376 205 0;
#X obj 292 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 405 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 313 183 sel 0, f 11;
#X obj 301 321 outlet libera_lista_pra_ser_fatiada;
#X obj 194 75 < 0;
#X text 354 58 Se o tempo é maior ou igual a zero \, este subpatch
libera os dados para serem fatiados, f 25;
#X connect 0 0 8 0;
#X connect 1 0 15 0;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 4 0 2 0;
#X connect 4 0 6 0;
#X connect 5 0 2 0;
#X connect 5 0 7 0;
#X connect 8 0 14 0;
#X connect 9 0 11 0;
#X connect 9 0 8 1;
#X connect 10 0 12 0;
#X connect 10 0 8 1;
#X connect 13 0 9 0;
#X connect 13 1 10 0;
#X connect 15 0 3 0;
#X connect 15 0 13 0;
#X restore 82 158 pd se_tempo_é_menor_que_0;
#X f 32;
#X obj 334 451 outlet bang_de_fim;
#X connect 0 0 7 0;
#X connect 1 0 5 0;
#X connect 4 0 3 0;
#X connect 5 0 8 1;
#X connect 5 1 6 1;
#X connect 6 0 3 0;
#X connect 6 1 9 0;
#X connect 7 0 4 0;
#X connect 7 1 8 0;
#X connect 8 0 4 1;
#X connect 8 1 6 0;
#X restore 390 493 pd fatiar_lista_no_tempo;
#X obj 160 14 inlet mensagem_de_entrada;
#X obj 160 259 text search onibus_pascoa;
#X obj 160 282 text get onibus_pascoa;
#X connect 3 1 4 0;
#X connect 4 1 12 0;
#X connect 5 0 1 0;
#X connect 5 1 2 0;
#X connect 6 0 17 0;
#X connect 6 1 9 0;
#X connect 7 0 12 1;
#X connect 8 0 6 0;
#X connect 8 1 7 0;
#X connect 9 0 15 1;
#X connect 10 0 11 0;
#X connect 11 0 5 0;
#X connect 12 0 5 0;
#X connect 12 1 15 0;
#X connect 15 0 2 0;
#X connect 15 1 1 0;
#X connect 16 0 8 0;
#X connect 17 0 10 0;
#X connect 17 0 18 0;
#X connect 18 0 3 0;
#X restore 356 312 pd stops;
#N canvas 112 123 555 508 trajeto 0;
#X obj 139 27 inlet;
#X obj 285 400 outlet bang_de_fim;
#X obj 88 400 outlet saída_de_dados;
#N canvas 313 189 495 459 saída_trajeto 0;
#X text 300 17 Separa e retorna dados referentes ao primeiro e último
indicador de ponto de parada de ônibus, f 25;
#X obj 260 135 list length;
#X obj 203 174 list split;
#X obj 203 113 t l l;
#X obj 260 155 - 1;
#X msg 82 313 set symbol \$1-\$2;
#X msg 55 359 symbol 640000518id-920016702id;
#X obj 55 292 t b l;
#X obj 55 271 pack s s;
#X obj 55 59 list split 26;
#X obj 55 86 list split 1, f 50;
#X obj 55 238 list trim;
#X obj 231 238 list trim;
#X obj 55 207 list prepend symbol;
#X obj 231 207 list prepend symbol;
#X obj 55 18 inlet pontos_de_parada;
#X obj 55 408 outlet identificador_de_trajeto;
#X connect 1 0 4 0;
#X connect 2 1 14 0;
#X connect 3 0 2 0;
#X connect 3 1 1 0;
#X connect 4 0 2 1;
#X connect 5 0 6 0;
#X connect 6 0 16 0;
#X connect 7 0 6 0;
#X connect 7 1 5 0;
#X connect 8 0 7 0;
#X connect 9 1 10 0;
#X connect 10 0 13 0;
#X connect 10 1 3 0;
#X connect 11 0 8 0;
#X connect 12 0 8 1;
#X connect 13 0 11 0;
#X connect 14 0 12 0;
#X connect 15 0 9 0;
#X restore 138 313 pd saída_trajeto;
#X obj 138 82 list prepend symbol;
#X obj 138 103 list trim;
#X text 352 64 retorna um identificador de trajeto referente à linha
requerida, f 25;
#X obj 138 334 t b a;
#X obj 41 208 sel -1;
#X msg 41 229 linha não encontrada;
#X obj 203 168 text search onibus_pascoa;
#X obj 203 256 text get onibus_pascoa;
#X connect 0 0 4 0;
#X connect 3 0 7 0;
#X connect 4 0 5 0;
#X connect 5 0 10 0;
#X connect 7 0 1 0;
#X connect 7 1 2 0;
#X connect 8 0 9 0;
#X connect 9 0 7 0;
#X connect 10 0 8 0;
#X connect 10 0 11 0;
#X connect 11 0 3 0;
#X restore 643 312 pd trajeto;
#X connect 0 0 5 0;
#X connect 0 1 6 0;
#X connect 1 0 5 0;
#X connect 1 1 6 0;
#X connect 3 0 8 0;
#X connect 3 1 0 0;
#X connect 3 2 9 0;
#X connect 3 3 10 0;
#X connect 3 4 13 0;
#X connect 3 5 11 0;
#X connect 3 6 1 0;
#X connect 3 7 14 0;
#X connect 3 8 12 0;
#X connect 3 9 4 0;
#X connect 4 0 2 0;
#X connect 7 0 3 0;
#X connect 8 0 5 0;
#X connect 8 1 6 0;
#X connect 9 0 5 0;
#X connect 9 1 6 0;
#X connect 10 0 5 0;
#X connect 10 1 6 0;
#X connect 11 0 5 0;
#X connect 11 1 6 0;
#X connect 12 0 5 0;
#X connect 12 1 6 0;
#X connect 13 0 5 0;
#X connect 13 1 6 0;
#X connect 14 0 5 0;
#X connect 14 1 6 0;
#X restore 39 312 pd pascoa;
#N canvas 101 42 1062 628 domingo 0;
#N canvas 300 107 710 513 buzu 0;
#X text 433 107 aponta para o indexador numérico e retorna a linha
de ônibus associada, f 35;
#X text 13 86 indexadores negativos retornam a quantidade total de
linhas de onibus cadastradas, f 21;
#X obj 173 414 outlet saída_de_dados;
#X obj 377 414 outlet bang_de_fim;
#X obj 174 118 moses 0, f 41;
#X floatatom 174 93 5 0 0 0 - - -;
#X msg 174 139 bang;
#X obj 174 243 t b f;
#X msg 417 244 \$1;
#X obj 417 265 t b a;
#X obj 174 22 inlet mensagem_de_entrada;
#X obj 174 222 text size onibus_dom;
#X obj 417 223 text get onibus_dom;
#X connect 4 0 6 0;
#X connect 4 1 12 0;
#X connect 5 0 4 0;
#X connect 6 0 11 0;
#X connect 7 0 3 0;
#X connect 7 1 2 0;
#X connect 8 0 9 0;
#X connect 9 0 3 0;
#X connect 9 1 2 0;
#X connect 10 0 5 0;
#X connect 11 0 7 0;
#X connect 12 0 8 0;
#X restore 110 313 pd buzu;
#N canvas 71 172 445 512 zona 0;
#X obj 242 415 outlet bang_de_fim;
#X obj 45 415 outlet saída_de_dados;
#X obj 63 68 list prepend symbol;
#X obj 63 89 list trim;
#X obj 39 35 inlet identificador;
#X obj 100 318 t b a;
#X text 221 90 envia o dado de zona referente ao identificador, f
31;
#X obj 98 243 list split 3;
#X obj 98 164 text search coordenadas_dom;
#X obj 98 202 text get coordenadas_dom;
#X connect 2 0 3 0;
#X connect 3 0 8 0;
#X connect 4 0 2 0;
#X connect 5 0 0 0;
#X connect 5 1 1 0;
#X connect 7 1 5 0;
#X connect 8 0 9 0;
#X connect 9 0 7 0;
#X restore 576 313 pd zona;
#X obj 765 194 print Erro;
#X obj 104 133 route linhas buzu start_time interval stops coordenadas
zona trajeto avgspeed, f 103;
#X msg 765 173 Verifique a formatação da mensagem no Help;
#X obj 182 515 outlet saída_de_dados;
#X obj 612 515 outlet bang_de_fim;
#X obj 104 37 inlet mensagem_de_entrada;
#N canvas 219 100 627 313 linhas 0;
#X text 342 89 Retorna todas as linhas de ônibus sequencialmente a
um intervalo de tempo definido, f 37;
#X obj 57 227 outlet dados;
#X obj 228 227 outlet bang_de_fim;
#X obj 127 19 inlet mensagem_de_entrada;
#N canvas 188 68 799 658 linhas_de_ônibus 0;
#X msg 172 408 line 0;
#X obj 367 125 t b b b;
#X obj 192 52 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 172 475 \$1;
#X floatatom 430 421 5 0 0 0 - - -;
#X msg 424 284 stop;
#X floatatom 525 231 5 0 0 0 - - -;
#N canvas 116 209 348 228 contador 0;
#X obj 32 117 f;
#X obj 75 117 + 1;
#X msg 141 84 -1;
#X text 69 5 CONTADOR COM RESET;
#X obj 32 144 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X text 27 206 bang de saída;
#X obj 32 188 outlet bang;
#X obj 152 188 outlet contagem;
#X text 146 206 contagem de saída;
#X obj 32 33 inlet bang;
#X text 64 48 bang de contagem, f 9;
#X obj 141 33 inlet reset;
#X text 194 48 reinicia contagem;
#X connect 0 0 1 0;
#X connect 0 0 4 0;
#X connect 0 0 7 0;
#X connect 1 0 0 1;
#X connect 2 0 1 0;
#X connect 4 0 6 0;
#X connect 9 0 0 0;
#X connect 11 0 2 0;
#X restore 367 380 pd contador;
#X obj 367 208 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 533 203 total de linhas de ônibus no dia, f 16;
#X obj 492 308 sel 10;
#N canvas 667 298 399 318 seletor 0;
#X obj 109 60 inlet;
#X obj 109 143 f;
#X obj 147 143 + 1;
#X obj 129 185 sel 1 2, f 15;
#X obj 109 112 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 89 217 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 172 217 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 214 102 1;
#X obj 89 282 outlet;
#X obj 172 282 outlet;
#X text 241 104 reseta contagem;
#X text 20 12 SELETOR - A cada bang recebido \, alterna bangs pelas
saídas.;
#X obj 214 81 loadbang;
#X connect 0 0 4 0;
#X connect 1 0 2 0;
#X connect 1 0 3 0;
#X connect 2 0 1 1;
#X connect 3 0 5 0;
#X connect 3 1 6 0;
#X connect 4 0 1 0;
#X connect 5 0 8 0;
#X connect 6 0 7 0;
#X connect 6 0 9 0;
#X connect 7 0 1 1;
#X connect 12 0 7 0;
#X restore 367 228 pd seletor;
#X obj 430 344 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 367 283 t b b b;
#X text 506 324 ao atingir o total de linhas de ônibus no dia \, o
[metro] é interrompido, f 22;
#X text 134 25 liga/desl;
#X text 380 25 tempo de leitura;
#X text 462 418 índice da linha a ser recuperada, f 11;
#X text 289 15 1;
#X text 553 17 2;
#X msg 367 408 step;
#X obj 367 350 metro 18;
#X obj 192 24 inlet liga/desl;
#X obj 480 24 inlet tempo;
#X msg 238 408 bang;
#X obj 172 544 outlet linhas;
#X obj 313 543 outlet acabou;
#X text 85 564 retorna linhas de ônibus no tempo determinado, f 24
;
#X text 345 560 bang ao terminar de retornar dados, f 18;
#X obj 238 343 t b b;
#X obj 385 104 t b f;
#X text 17 87 Máquina que retorna as linhas de ônibus a um intervalo
de tempo determinado no inlet 2 de um determinado dia, f 32;
#X floatatom 462 253 5 0 0 0 - - -;
#X obj 403 432 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#N canvas 537 137 539 406 processamento_de_dados 0;
#X floatatom 217 58 5 0 0 0 - - -;
#X obj 196 265 f, f 4;
#X floatatom 196 294 5 0 0 0 - - -;
#X obj 217 23 inlet tempo;
#X text 292 22 tempo em ms;
#X obj 196 344 outlet tempo;
#X obj 39 344 outlet zero;
#X obj 39 23 inlet bang;
#X obj 39 185 spigot 1;
#X obj 84 165 <= 0;
#X obj 39 49 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 217 78 t f f, f 8;
#X obj 39 82 t b b;
#X obj 262 99 > 0;
#X obj 196 120 spigot 0, f 12;
#X obj 39 323 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 196 241 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 311 219 Este subpatch retornará um bang pelo outlet esquerdo
sempre que o tempo de retorno fornecido entre cada linha de ônibus
seja igual ou menor que zero \, caso contrário \, retorna o tempo
pelo outlet direito para setar o [metro], f 34;
#X connect 0 0 11 0;
#X connect 1 0 2 0;
#X connect 2 0 5 0;
#X connect 3 0 0 0;
#X connect 7 0 10 0;
#X connect 8 0 15 0;
#X connect 9 0 8 1;
#X connect 10 0 12 0;
#X connect 11 0 9 0;
#X connect 11 0 1 1;
#X connect 11 1 13 0;
#X connect 12 0 8 0;
#X connect 12 1 14 0;
#X connect 13 0 14 1;
#X connect 14 0 16 0;
#X connect 15 0 6 0;
#X connect 16 0 1 0;
#X restore 238 82 pd processamento_de_dados;
#X obj 525 186 text size onibus_dom;
#X obj 172 454 text sequence onibus_dom;
#X connect 0 0 36 0;
#X connect 1 0 8 0;
#X connect 1 1 35 0;
#X connect 1 2 0 0;
#X connect 2 0 34 0;
#X connect 3 0 25 0;
#X connect 5 0 21 0;
#X connect 6 0 10 1;
#X connect 7 0 20 0;
#X connect 7 0 33 0;
#X connect 7 1 10 0;
#X connect 7 1 4 0;
#X connect 8 0 11 0;
#X connect 10 0 8 0;
#X connect 11 0 13 0;
#X connect 11 1 5 0;
#X connect 12 0 7 1;
#X connect 13 0 21 0;
#X connect 13 1 12 0;
#X connect 20 0 36 0;
#X connect 21 0 7 0;
#X connect 22 0 2 0;
#X connect 23 0 34 1;
#X connect 24 0 36 0;
#X connect 29 0 24 0;
#X connect 29 1 0 0;
#X connect 30 0 1 0;
#X connect 30 1 21 1;
#X connect 30 1 32 0;
#X connect 34 0 29 0;
#X connect 34 1 30 0;
#X connect 35 0 6 0;
#X connect 36 0 3 0;
#X connect 36 1 26 0;
#X restore 87 172 pd linhas_de_ônibus;
#X obj 127 97 t b f;
#X connect 3 0 5 0;
#X connect 4 0 1 0;
#X connect 4 1 2 0;
#X connect 5 0 4 0;
#X connect 5 1 4 1;
#X restore 29 313 pd linhas;
#N canvas 66 147 556 410 start_time 0;
#X text 332 54 Retorna o valor de start_time a partir do nome da linha
de ônibus, f 35;
#X obj 112 320 outlet saída_de_dados;
#X obj 302 320 outlet bang_de_fim;
#X msg 197 243 \$2;
#X obj 142 68 list prepend symbol;
#X obj 142 89 list trim;
#X obj 197 264 t b a;
#X obj 124 19 inlet linha_de_ônibus;
#X obj 46 182 sel -1;
#X msg 46 203 linha não encontrada;
#X obj 197 134 text search onibus_dom;
#X obj 197 222 text get onibus_dom;
#X connect 3 0 6 0;
#X connect 4 0 5 0;
#X connect 5 0 10 0;
#X connect 6 0 2 0;
#X connect 6 1 1 0;
#X connect 7 0 4 0;
#X connect 8 0 9 0;
#X connect 9 0 6 0;
#X connect 10 0 8 0;
#X connect 10 0 11 0;
#X connect 11 0 3 0;
#X restore 170 313 pd start_time;
#N canvas 278 73 722 691 interval 0;
#X obj 492 626 outlet bang_de_fim;
#X obj 219 626 outlet saída_de_dados;
#X obj 158 358 list split 2;
#X obj 192 389 list split 24;
#X obj 192 545 t b a;
#X obj 158 131 list split 1;
#X obj 351 98 list length;
#X obj 158 84 t a a;
#X obj 492 287 list split 1;
#X obj 19 317 sel -1;
#X msg 19 338 linha não encontrada;
#N canvas 615 290 542 370 seletor_de_modo_de_saída 0;
#X obj 321 102 sel 0, f 16;
#X obj 82 211 spigot 1;
#X obj 82 70 t a a, f 32;
#X obj 271 251 spigot 1;
#X msg 321 147 1;
#X obj 321 127 t b b, f 8;
#X msg 366 147 0;
#X obj 414 157 t b b, f 8;
#X msg 414 177 0;
#X msg 459 177 1;
#X obj 82 17 inlet lista;
#X obj 321 17 inlet tamanho_da_lista;
#X obj 82 325 outlet sai_lista_completa;
#X obj 321 84 > 1;
#X obj 271 325 outlet mandar_lista_para_fatiamento;
#X connect 0 0 5 0;
#X connect 0 1 7 0;
#X connect 1 0 12 0;
#X connect 2 0 1 0;
#X connect 2 1 3 0;
#X connect 3 0 14 0;
#X connect 4 0 1 1;
#X connect 5 0 4 0;
#X connect 5 1 6 0;
#X connect 6 0 3 1;
#X connect 7 0 8 0;
#X connect 7 1 9 0;
#X connect 8 0 1 1;
#X connect 9 0 3 1;
#X connect 10 0 2 0;
#X connect 11 0 13 0;
#X connect 13 0 0 0;
#X restore 192 440 pd seletor_de_modo_de_saída;
#X text 503 303 argumento tempo, f 9;
#X text 96 134 argumento linha de ônibus, f 9;
#N canvas 733 62 502 514 fatiar_lista_no_tempo 0;
#X obj 37 37 inlet lista;
#X obj 271 37 inlet tempo;
#X text 342 38 (ms);
#X obj 37 452 outlet saída_elemento_a_elemento;
#X obj 37 225 spigot 0, f 11;
#X obj 271 109 t a a, f 11;
#N canvas 456 120 471 263 disparador_de_dados 0;
#X obj 89 17 inlet lista_de_dados;
#X obj 310 17 inlet tempo;
#X obj 89 200 outlet saída_dado_a_dado;
#X obj 89 68 list split 1, f 41;
#X obj 147 142 list append;
#X obj 28 128 del;
#X msg 28 102 bang;
#X obj 332 200 outlet bang_de_fim;
#X connect 0 0 3 0;
#X connect 1 0 5 1;
#X connect 3 0 6 0;
#X connect 3 0 2 0;
#X connect 3 1 4 1;
#X connect 3 2 7 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 6 0 5 0;
#X restore 169 267 pd disparador_de_dados;
#X f 28;
#X obj 37 111 t a a, f 8;
#N canvas 162 87 537 382 se_tempo_é_menor_que_0 0;
#X obj 35 20 inlet lista;
#X obj 194 20 inlet tempo;
#X obj 75 320 outlet libera_lista_completa;
#X obj 45 183 sel 1, f 11;
#X msg 45 205 1;
#X msg 108 205 0;
#X obj 28 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 133 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 301 256 spigot 1;
#X msg 313 205 1;
#X msg 376 205 0;
#X obj 292 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 405 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 313 183 sel 0, f 11;
#X obj 301 321 outlet libera_lista_pra_ser_fatiada;
#X obj 194 75 < 0;
#X text 354 58 Se o tempo é maior ou igual a zero \, este subpatch
libera os dados para serem fatiados, f 25;
#X connect 0 0 8 0;
#X connect 1 0 15 0;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 4 0 2 0;
#X connect 4 0 6 0;
#X connect 5 0 2 0;
#X connect 5 0 7 0;
#X connect 8 0 14 0;
#X connect 9 0 11 0;
#X connect 9 0 8 1;
#X connect 10 0 12 0;
#X connect 10 0 8 1;
#X connect 13 0 9 0;
#X connect 13 1 10 0;
#X connect 15 0 3 0;
#X connect 15 0 13 0;
#X restore 100 158 pd se_tempo_é_menor_que_0;
#X f 32;
#X obj 334 451 outlet bang_de_fim;
#X connect 0 0 7 0;
#X connect 1 0 5 0;
#X connect 4 0 3 0;
#X connect 5 0 8 1;
#X connect 5 1 6 1;
#X connect 6 0 3 0;
#X connect 6 1 9 0;
#X connect 7 0 4 0;
#X connect 7 1 8 0;
#X connect 8 0 4 1;
#X connect 8 1 6 0;
#X restore 351 488 pd fatiar_lista_no_tempo;
#X text 528 62 envia todos os dados de interval referentes a linha
requerida, f 22;
#X obj 158 9 inlet mensagem_de_entrada;
#X obj 158 254 text search onibus_dom;
#X obj 158 277 text get onibus_dom;
#X connect 2 1 3 0;
#X connect 3 0 11 0;
#X connect 4 0 0 0;
#X connect 4 1 1 0;
#X connect 5 0 17 0;
#X connect 5 1 8 0;
#X connect 6 0 11 1;
#X connect 7 0 5 0;
#X connect 7 1 6 0;
#X connect 8 0 14 1;
#X connect 9 0 10 0;
#X connect 10 0 4 0;
#X connect 11 0 4 0;
#X connect 11 1 14 0;
#X connect 14 0 1 0;
#X connect 14 1 0 0;
#X connect 16 0 7 0;
#X connect 17 0 9 0;
#X connect 17 0 18 0;
#X connect 18 0 2 0;
#X restore 261 313 pd interval;
#N canvas 51 126 480 585 coordenadas 0;
#X obj 272 475 outlet bang_de_fim;
#X obj 75 475 outlet saída_de_dados;
#X obj 63 68 list prepend symbol;
#X obj 63 89 list trim;
#X obj 39 35 inlet identificador;
#X text 243 321 envia os dados de coordenadas referentes ao identificador
, f 31;
#X obj 98 243 list split 1;
#X obj 132 270 list split 2;
#X obj 100 318 t b a;
#X obj 98 164 text search coordenadas_dom;
#X obj 98 202 text get coordenadas_dom;
#X connect 2 0 3 0;
#X connect 3 0 9 0;
#X connect 4 0 2 0;
#X connect 6 1 7 0;
#X connect 7 0 8 0;
#X connect 8 0 0 0;
#X connect 8 1 1 0;
#X connect 9 0 10 0;
#X connect 10 0 6 0;
#X restore 477 313 pd coordenadas;
#N canvas 84 68 712 602 avgspeed 0;
#X obj 398 538 outlet bang_de_fim;
#X obj 231 538 outlet saída_de_dados;
#X text 487 61 envia todos os dados de velocidade média referentes
ao identificador de trajeto, f 29;
#X obj 170 24 inlet identificador_de_trajeto;
#X obj 204 399 t b a;
#X obj 19 257 sel -1;
#X msg 19 278 linha não encontrada;
#N canvas 615 290 542 370 seletor_de_modo_de_saída 0;
#X obj 321 102 sel 0, f 16;
#X obj 82 211 spigot 1;
#X obj 82 70 t a a, f 32;
#X obj 271 251 spigot 1;
#X msg 321 147 1;
#X obj 321 127 t b b, f 8;
#X msg 366 147 0;
#X obj 414 157 t b b, f 8;
#X msg 414 177 0;
#X msg 459 177 1;
#X obj 82 17 inlet lista;
#X obj 321 17 inlet tamanho_da_lista;
#X obj 82 325 outlet sai_lista_completa;
#X obj 321 84 > 1;
#X obj 271 325 outlet manda_lista_para_fatiamento;
#X connect 0 0 5 0;
#X connect 0 1 7 0;
#X connect 1 0 12 0;
#X connect 2 0 1 0;
#X connect 2 1 3 0;
#X connect 3 0 14 0;
#X connect 4 0 1 1;
#X connect 5 0 4 0;
#X connect 5 1 6 0;
#X connect 6 0 3 1;
#X connect 7 0 8 0;
#X connect 7 1 9 0;
#X connect 8 0 1 1;
#X connect 9 0 3 1;
#X connect 10 0 2 0;
#X connect 11 0 13 0;
#X connect 13 0 0 0;
#X restore 204 347 pd seletor_de_modo_de_saída;
#X obj 363 99 list length;
#X obj 170 85 t a a;
#X obj 170 115 list split 1;
#X obj 504 244 list split 1;
#N canvas 733 62 502 514 fatiar_lista_no_tempo 0;
#X obj 37 37 inlet lista;
#X obj 271 37 inlet tempo;
#X text 342 38 (ms);
#X obj 37 452 outlet saída_elemento_a_elemento;
#X obj 37 225 spigot 0;
#X obj 271 109 t a a, f 11;
#N canvas 456 120 471 263 disparador_de_dados 0;
#X obj 89 17 inlet lista_de_dados;
#X obj 310 17 inlet tempo;
#X obj 89 200 outlet saída_dado_a_dado;
#X obj 89 68 list split 1, f 41;
#X obj 147 142 list append;
#X obj 28 128 del;
#X msg 28 102 bang;
#X obj 332 200 outlet bang_de_fim;
#X connect 0 0 3 0;
#X connect 1 0 5 1;
#X connect 3 0 6 0;
#X connect 3 0 2 0;
#X connect 3 1 4 1;
#X connect 3 2 7 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 6 0 5 0;
#X restore 169 267 pd disparador_de_dados;
#X f 28;
#X obj 37 111 t a a, f 8;
#N canvas 162 87 537 382 se_tempo_é_menor_que_0 0;
#X obj 35 20 inlet lista;
#X obj 194 20 inlet tempo;
#X obj 75 320 outlet libera_lista_completa;
#X obj 45 183 sel 1, f 11;
#X msg 45 205 1;
#X msg 108 205 0;
#X obj 28 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 133 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 301 256 spigot 1;
#X msg 313 205 1;
#X msg 376 205 0;
#X obj 292 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 405 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 313 183 sel 0, f 11;
#X obj 301 321 outlet libera_lista_pra_ser_fatiada;
#X obj 194 75 < 0;
#X text 354 58 Se o tempo é maior ou igual a zero \, este subpatch
libera os dados para serem fatiados, f 25;
#X connect 0 0 8 0;
#X connect 1 0 15 0;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 4 0 2 0;
#X connect 4 0 6 0;
#X connect 5 0 2 0;
#X connect 5 0 7 0;
#X connect 8 0 14 0;
#X connect 9 0 11 0;
#X connect 9 0 8 1;
#X connect 10 0 12 0;
#X connect 10 0 8 1;
#X connect 13 0 9 0;
#X connect 13 1 10 0;
#X connect 15 0 3 0;
#X connect 15 0 13 0;
#X restore 82 158 pd se_tempo_é_menor_que_0;
#X f 32;
#X obj 334 451 outlet bang_de_fim;
#X connect 0 0 7 0;
#X connect 1 0 5 0;
#X connect 4 0 3 0;
#X connect 5 0 8 1;
#X connect 5 1 6 1;
#X connect 6 0 3 0;
#X connect 6 1 9 0;
#X connect 7 0 4 0;
#X connect 7 1 8 0;
#X connect 8 0 4 1;
#X connect 8 1 6 0;
#X restore 363 381 pd fatiar_lista_no_tempo;
#X text 583 242 tempo, f 6;
#X text 24 131 identificador de trajeto;
#X obj 170 204 text search trajetos_dom;
#X obj 170 232 text get trajetos_dom;
#X obj 170 313 list split 2;
#X connect 3 0 9 0;
#X connect 4 0 0 0;
#X connect 4 1 1 0;
#X connect 5 0 6 0;
#X connect 6 0 4 0;
#X connect 7 0 4 0;
#X connect 7 1 12 0;
#X connect 8 0 7 1;
#X connect 9 0 10 0;
#X connect 9 1 8 0;
#X connect 10 0 15 0;
#X connect 10 1 11 0;
#X connect 11 0 12 1;
#X connect 12 0 1 0;
#X connect 12 1 0 0;
#X connect 15 0 5 0;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 17 1 7 0;
#X restore 746 313 pd avgspeed;
#N canvas 122 28 757 674 stops 0;
#X text 547 153 envia todos os dados de stops referentes à linha requerida
, f 25;
#X obj 531 631 outlet bang_de_fim;
#X obj 258 631 outlet saída_de_dados;
#X obj 160 363 list split 2;
#X obj 194 394 list split 24;
#X obj 231 550 t b a;
#X obj 160 136 list split 1;
#X obj 390 103 list length;
#X obj 160 89 t a a;
#X obj 531 292 list split 1;
#X obj 21 322 sel -1;
#X msg 21 343 linha não encontrada;
#N canvas 615 290 542 370 seletor_de_modo_de_saída 0;
#X obj 321 102 sel 0, f 16;
#X obj 82 211 spigot 1;
#X obj 82 70 t a a, f 32;
#X obj 271 251 spigot 1;
#X msg 321 147 1;
#X obj 321 127 t b b, f 8;
#X msg 366 147 0;
#X obj 414 157 t b b, f 8;
#X msg 414 177 0;
#X msg 459 177 1;
#X obj 82 17 inlet lista;
#X obj 321 17 inlet tamanho_da_lista;
#X obj 82 325 outlet sai_lista_completa;
#X obj 271 325 outlet sair_lista_elemento_a_elemento;
#X obj 321 84 > 1;
#X connect 0 0 5 0;
#X connect 0 1 7 0;
#X connect 1 0 12 0;
#X connect 2 0 1 0;
#X connect 2 1 3 0;
#X connect 3 0 13 0;
#X connect 4 0 1 1;
#X connect 5 0 4 0;
#X connect 5 1 6 0;
#X connect 6 0 3 1;
#X connect 7 0 8 0;
#X connect 7 1 9 0;
#X connect 8 0 1 1;
#X connect 9 0 3 1;
#X connect 10 0 2 0;
#X connect 11 0 14 0;
#X connect 14 0 0 0;
#X restore 231 445 pd seletor_de_modo_de_saída;
#X text 542 308 argumento tempo, f 9;
#X text 98 139 argumento linha de ônibus, f 9;
#N canvas 733 62 502 514 fatiar_lista_no_tempo 0;
#X obj 37 37 inlet lista;
#X obj 271 37 inlet tempo;
#X text 342 38 (ms);
#X obj 37 452 outlet saída_elemento_a_elemento;
#X obj 37 225 spigot 0;
#X obj 271 109 t a a, f 11;
#N canvas 456 120 471 263 disparador_de_dados 0;
#X obj 89 17 inlet lista_de_dados;
#X obj 310 17 inlet tempo;
#X obj 89 200 outlet saída_dado_a_dado;
#X obj 89 68 list split 1, f 41;
#X obj 147 142 list append;
#X obj 28 128 del;
#X msg 28 102 bang;
#X obj 332 200 outlet bang_de_fim;
#X connect 0 0 3 0;
#X connect 1 0 5 1;
#X connect 3 0 6 0;
#X connect 3 0 2 0;
#X connect 3 1 4 1;
#X connect 3 2 7 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 6 0 5 0;
#X restore 169 267 pd disparador_de_dados;
#X f 28;
#X obj 37 111 t a a, f 8;
#N canvas 162 87 537 382 se_tempo_é_menor_que_0 0;
#X obj 35 20 inlet lista;
#X obj 194 20 inlet tempo;
#X obj 75 320 outlet libera_lista_completa;
#X obj 45 183 sel 1, f 11;
#X msg 45 205 1;
#X msg 108 205 0;
#X obj 28 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 133 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 301 256 spigot 1;
#X msg 313 205 1;
#X msg 376 205 0;
#X obj 292 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 405 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 313 183 sel 0, f 11;
#X obj 301 321 outlet libera_lista_pra_ser_fatiada;
#X obj 194 75 < 0;
#X text 354 58 Se o tempo é maior ou igual a zero \, este subpatch
libera os dados para serem fatiados, f 25;
#X connect 0 0 8 0;
#X connect 1 0 15 0;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 4 0 2 0;
#X connect 4 0 6 0;
#X connect 5 0 2 0;
#X connect 5 0 7 0;
#X connect 8 0 14 0;
#X connect 9 0 11 0;
#X connect 9 0 8 1;
#X connect 10 0 12 0;
#X connect 10 0 8 1;
#X connect 13 0 9 0;
#X connect 13 1 10 0;
#X connect 15 0 3 0;
#X connect 15 0 13 0;
#X restore 82 158 pd se_tempo_é_menor_que_0;
#X f 32;
#X obj 334 451 outlet bang_de_fim;
#X connect 0 0 7 0;
#X connect 1 0 5 0;
#X connect 4 0 3 0;
#X connect 5 0 8 1;
#X connect 5 1 6 1;
#X connect 6 0 3 0;
#X connect 6 1 9 0;
#X connect 7 0 4 0;
#X connect 7 1 8 0;
#X connect 8 0 4 1;
#X connect 8 1 6 0;
#X restore 390 493 pd fatiar_lista_no_tempo;
#X obj 160 14 inlet mensagem_de_entrada;
#X obj 160 259 text search onibus_dom;
#X obj 160 282 text get onibus_dom;
#X connect 3 1 4 0;
#X connect 4 1 12 0;
#X connect 5 0 1 0;
#X connect 5 1 2 0;
#X connect 6 0 17 0;
#X connect 6 1 9 0;
#X connect 7 0 12 1;
#X connect 8 0 6 0;
#X connect 8 1 7 0;
#X connect 9 0 15 1;
#X connect 10 0 11 0;
#X connect 11 0 5 0;
#X connect 12 0 5 0;
#X connect 12 1 15 0;
#X connect 15 0 2 0;
#X connect 15 1 1 0;
#X connect 16 0 8 0;
#X connect 17 0 10 0;
#X connect 17 0 18 0;
#X connect 18 0 3 0;
#X restore 341 313 pd stops;
#N canvas 112 123 555 508 trajeto 0;
#X obj 139 27 inlet;
#X obj 285 400 outlet bang_de_fim;
#X obj 88 400 outlet saída_de_dados;
#N canvas 313 189 495 459 saída_trajeto 0;
#X text 300 17 Separa e retorna dados referentes ao primeiro e último
indicador de ponto de parada de ônibus, f 25;
#X obj 260 135 list length;
#X obj 203 174 list split;
#X obj 203 113 t l l;
#X obj 260 155 - 1;
#X msg 82 313 set symbol \$1-\$2;
#X msg 55 359 symbol 640000518id-920016702id;
#X obj 55 292 t b l;
#X obj 55 271 pack s s;
#X obj 55 59 list split 26;
#X obj 55 86 list split 1, f 50;
#X obj 55 238 list trim;
#X obj 231 238 list trim;
#X obj 55 207 list prepend symbol;
#X obj 231 207 list prepend symbol;
#X obj 55 18 inlet pontos_de_parada;
#X obj 55 408 outlet identificador_de_trajeto;
#X connect 1 0 4 0;
#X connect 2 1 14 0;
#X connect 3 0 2 0;
#X connect 3 1 1 0;
#X connect 4 0 2 1;
#X connect 5 0 6 0;
#X connect 6 0 16 0;
#X connect 7 0 6 0;
#X connect 7 1 5 0;
#X connect 8 0 7 0;
#X connect 9 1 10 0;
#X connect 10 0 13 0;
#X connect 10 1 3 0;
#X connect 11 0 8 0;
#X connect 12 0 8 1;
#X connect 13 0 11 0;
#X connect 14 0 12 0;
#X connect 15 0 9 0;
#X restore 138 313 pd saída_trajeto;
#X obj 138 82 list prepend symbol;
#X obj 138 103 list trim;
#X text 352 64 retorna um identificador de trajeto referente à linha
requerida, f 25;
#X obj 138 334 t b a;
#X obj 41 208 sel -1;
#X msg 41 229 linha não encontrada;
#X obj 203 168 text search onibus_dom;
#X obj 203 256 text get onibus_dom;
#X connect 0 0 4 0;
#X connect 3 0 7 0;
#X connect 4 0 5 0;
#X connect 5 0 10 0;
#X connect 7 0 1 0;
#X connect 7 1 2 0;
#X connect 8 0 9 0;
#X connect 9 0 7 0;
#X connect 10 0 8 0;
#X connect 10 0 11 0;
#X connect 11 0 3 0;
#X restore 628 313 pd trajeto;
#X connect 0 0 5 0;
#X connect 0 1 6 0;
#X connect 1 0 5 0;
#X connect 1 1 6 0;
#X connect 3 0 8 0;
#X connect 3 1 0 0;
#X connect 3 2 9 0;
#X connect 3 3 10 0;
#X connect 3 4 13 0;
#X connect 3 5 11 0;
#X connect 3 6 1 0;
#X connect 3 7 14 0;
#X connect 3 8 12 0;
#X connect 3 9 4 0;
#X connect 4 0 2 0;
#X connect 7 0 3 0;
#X connect 8 0 5 0;
#X connect 8 1 6 0;
#X connect 9 0 5 0;
#X connect 9 1 6 0;
#X connect 10 0 5 0;
#X connect 10 1 6 0;
#X connect 11 0 5 0;
#X connect 11 1 6 0;
#X connect 12 0 5 0;
#X connect 12 1 6 0;
#X connect 13 0 5 0;
#X connect 13 1 6 0;
#X connect 14 0 5 0;
#X connect 14 1 6 0;
#X restore 109 312 pd domingo;
#N canvas 147 47 1057 628 segunda 0;
#N canvas 300 107 710 513 buzu 0;
#X text 433 107 aponta para o indexador numérico e retorna a linha
de ônibus associada, f 35;
#X text 13 86 indexadores negativos retornam a quantidade total de
linhas de onibus cadastradas, f 21;
#X obj 173 414 outlet saída_de_dados;
#X obj 377 414 outlet bang_de_fim;
#X obj 174 118 moses 0, f 41;
#X floatatom 174 93 5 0 0 0 - - -;
#X msg 174 139 bang;
#X obj 174 243 t b f;
#X msg 417 244 \$1;
#X obj 417 265 t b a;
#X obj 174 22 inlet mensagem_de_entrada;
#X obj 174 222 text size onibus_seg;
#X obj 417 223 text get onibus_seg;
#X connect 4 0 6 0;
#X connect 4 1 12 0;
#X connect 5 0 4 0;
#X connect 6 0 11 0;
#X connect 7 0 3 0;
#X connect 7 1 2 0;
#X connect 8 0 9 0;
#X connect 9 0 3 0;
#X connect 9 1 2 0;
#X connect 10 0 5 0;
#X connect 11 0 7 0;
#X connect 12 0 8 0;
#X restore 104 307 pd buzu;
#N canvas 71 172 445 512 zona 0;
#X obj 242 415 outlet bang_de_fim;
#X obj 45 415 outlet saída_de_dados;
#X obj 63 68 list prepend symbol;
#X obj 63 89 list trim;
#X obj 39 35 inlet identificador;
#X obj 100 318 t b a;
#X text 221 90 envia o dado de zona referente ao identificador, f
31;
#X obj 98 243 list split 3;
#X obj 98 202 text get coordenadas_seg;
#X obj 98 164 text search coordenadas_seg;
#X connect 2 0 3 0;
#X connect 3 0 9 0;
#X connect 4 0 2 0;
#X connect 5 0 0 0;
#X connect 5 1 1 0;
#X connect 7 1 5 0;
#X connect 8 0 7 0;
#X connect 9 0 8 0;
#X restore 567 307 pd zona;
#X obj 756 218 print Erro;
#X obj 95 157 route linhas buzu start_time interval stops coordenadas
zona trajeto avgspeed, f 103;
#X msg 756 197 Verifique a formatação da mensagem no Help;
#X obj 173 539 outlet saída_de_dados;
#X obj 603 539 outlet bang_de_fim;
#X obj 95 61 inlet mensagem_de_entrada;
#N canvas 219 100 627 313 linhas 0;
#X text 342 89 Retorna todas as linhas de ônibus sequencialmente a
um intervalo de tempo definido, f 37;
#X obj 57 227 outlet dados;
#X obj 228 227 outlet bang_de_fim;
#X obj 127 19 inlet mensagem_de_entrada;
#N canvas 188 68 799 658 linhas_de_ônibus 0;
#X msg 172 408 line 0;
#X obj 367 125 t b b b;
#X obj 192 52 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 172 475 \$1;
#X floatatom 430 421 5 0 0 0 - - -;
#X msg 424 284 stop;
#X floatatom 525 231 5 0 0 0 - - -;
#N canvas 116 209 348 228 contador 0;
#X obj 32 117 f;
#X obj 75 117 + 1;
#X msg 141 84 -1;
#X text 69 5 CONTADOR COM RESET;
#X obj 32 144 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X text 27 206 bang de saída;
#X obj 32 188 outlet bang;
#X obj 152 188 outlet contagem;
#X text 146 206 contagem de saída;
#X obj 32 33 inlet bang;
#X text 64 48 bang de contagem, f 9;
#X obj 141 33 inlet reset;
#X text 194 48 reinicia contagem;
#X connect 0 0 1 0;
#X connect 0 0 4 0;
#X connect 0 0 7 0;
#X connect 1 0 0 1;
#X connect 2 0 1 0;
#X connect 4 0 6 0;
#X connect 9 0 0 0;
#X connect 11 0 2 0;
#X restore 367 380 pd contador;
#X obj 367 208 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 533 203 total de linhas de ônibus no dia, f 16;
#X obj 492 308 sel 10;
#N canvas 667 298 399 318 seletor 0;
#X obj 109 60 inlet;
#X obj 109 143 f;
#X obj 147 143 + 1;
#X obj 129 185 sel 1 2, f 15;
#X obj 109 112 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 89 217 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 172 217 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 214 102 1;
#X obj 89 282 outlet;
#X obj 172 282 outlet;
#X text 241 104 reseta contagem;
#X text 20 12 SELETOR - A cada bang recebido \, alterna bangs pelas
saídas.;
#X obj 214 81 loadbang;
#X connect 0 0 4 0;
#X connect 1 0 2 0;
#X connect 1 0 3 0;
#X connect 2 0 1 1;
#X connect 3 0 5 0;
#X connect 3 1 6 0;
#X connect 4 0 1 0;
#X connect 5 0 8 0;
#X connect 6 0 7 0;
#X connect 6 0 9 0;
#X connect 7 0 1 1;
#X connect 12 0 7 0;
#X restore 367 228 pd seletor;
#X obj 430 344 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 367 283 t b b b;
#X text 506 324 ao atingir o total de linhas de ônibus no dia \, o
[metro] é interrompido, f 22;
#X text 134 25 liga/desl;
#X text 380 25 tempo de leitura;
#X text 462 418 índice da linha a ser recuperada, f 11;
#X text 289 15 1;
#X text 553 17 2;
#X msg 367 408 step;
#X obj 367 350 metro 18;
#X obj 192 24 inlet liga/desl;
#X obj 480 24 inlet tempo;
#X msg 238 408 bang;
#X obj 172 544 outlet linhas;
#X obj 313 543 outlet acabou;
#X text 85 564 retorna linhas de ônibus no tempo determinado, f 24
;
#X text 345 560 bang ao terminar de retornar dados, f 18;
#X obj 238 343 t b b;
#X obj 385 104 t b f;
#X text 17 87 Máquina que retorna as linhas de ônibus a um intervalo
de tempo determinado no inlet 2 de um determinado dia, f 32;
#X floatatom 462 253 5 0 0 0 - - -;
#X obj 403 432 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#N canvas 537 137 539 406 processamento_de_dados 0;
#X floatatom 217 58 5 0 0 0 - - -;
#X obj 196 265 f, f 4;
#X floatatom 196 294 5 0 0 0 - - -;
#X obj 217 23 inlet tempo;
#X text 292 22 tempo em ms;
#X obj 196 344 outlet tempo;
#X obj 39 344 outlet zero;
#X obj 39 23 inlet bang;
#X obj 39 185 spigot 1;
#X obj 84 165 <= 0;
#X obj 39 49 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 217 78 t f f, f 8;
#X obj 39 82 t b b;
#X obj 262 99 > 0;
#X obj 196 120 spigot 0, f 12;
#X obj 39 323 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 196 241 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 311 219 Este subpatch retornará um bang pelo outlet esquerdo
sempre que o tempo de retorno fornecido entre cada linha de ônibus
seja igual ou menor que zero \, caso contrário \, retorna o tempo
pelo outlet direito para setar o [metro], f 34;
#X connect 0 0 11 0;
#X connect 1 0 2 0;
#X connect 2 0 5 0;
#X connect 3 0 0 0;
#X connect 7 0 10 0;
#X connect 8 0 15 0;
#X connect 9 0 8 1;
#X connect 10 0 12 0;
#X connect 11 0 9 0;
#X connect 11 0 1 1;
#X connect 11 1 13 0;
#X connect 12 0 8 0;
#X connect 12 1 14 0;
#X connect 13 0 14 1;
#X connect 14 0 16 0;
#X connect 15 0 6 0;
#X connect 16 0 1 0;
#X restore 238 82 pd processamento_de_dados;
#X obj 525 186 text size onibus_seg;
#X obj 172 454 text sequence onibus_seg;
#X connect 0 0 36 0;
#X connect 1 0 8 0;
#X connect 1 1 35 0;
#X connect 1 2 0 0;
#X connect 2 0 34 0;
#X connect 3 0 25 0;
#X connect 5 0 21 0;
#X connect 6 0 10 1;
#X connect 7 0 20 0;
#X connect 7 0 33 0;
#X connect 7 1 10 0;
#X connect 7 1 4 0;
#X connect 8 0 11 0;
#X connect 10 0 8 0;
#X connect 11 0 13 0;
#X connect 11 1 5 0;
#X connect 12 0 7 1;
#X connect 13 0 21 0;
#X connect 13 1 12 0;
#X connect 20 0 36 0;
#X connect 21 0 7 0;
#X connect 22 0 2 0;
#X connect 23 0 34 1;
#X connect 24 0 36 0;
#X connect 29 0 24 0;
#X connect 29 1 0 0;
#X connect 30 0 1 0;
#X connect 30 1 21 1;
#X connect 30 1 32 0;
#X connect 34 0 29 0;
#X connect 34 1 30 0;
#X connect 35 0 6 0;
#X connect 36 0 3 0;
#X connect 36 1 26 0;
#X restore 87 172 pd linhas_de_ônibus;
#X obj 127 97 t b f;
#X connect 3 0 5 0;
#X connect 4 0 1 0;
#X connect 4 1 2 0;
#X connect 5 0 4 0;
#X connect 5 1 4 1;
#X restore 33 306 pd linhas;
#N canvas 66 147 556 410 start_time 0;
#X text 332 54 Retorna o valor de start_time a partir do nome da linha
de ônibus, f 35;
#X obj 112 320 outlet saída_de_dados;
#X obj 302 320 outlet bang_de_fim;
#X msg 197 243 \$2;
#X obj 142 68 list prepend symbol;
#X obj 142 89 list trim;
#X obj 197 264 t b a;
#X obj 124 19 inlet linha_de_ônibus;
#X obj 46 182 sel -1;
#X msg 46 203 linha não encontrada;
#X obj 197 134 text search onibus_seg;
#X obj 197 222 text get onibus_seg;
#X connect 3 0 6 0;
#X connect 4 0 5 0;
#X connect 5 0 10 0;
#X connect 6 0 2 0;
#X connect 6 1 1 0;
#X connect 7 0 4 0;
#X connect 8 0 9 0;
#X connect 9 0 6 0;
#X connect 10 0 8 0;
#X connect 10 0 11 0;
#X connect 11 0 3 0;
#X restore 161 307 pd start_time;
#N canvas 278 73 722 691 interval 0;
#X obj 492 626 outlet bang_de_fim;
#X obj 219 626 outlet saída_de_dados;
#X obj 158 358 list split 2;
#X obj 192 389 list split 24;
#X obj 192 545 t b a;
#X obj 158 131 list split 1;
#X obj 351 98 list length;
#X obj 158 84 t a a;
#X obj 492 287 list split 1;
#X obj 19 317 sel -1;
#X msg 19 338 linha não encontrada;
#N canvas 615 290 542 370 seletor_de_modo_de_saída 0;
#X obj 321 102 sel 0, f 16;
#X obj 82 211 spigot 1;
#X obj 82 70 t a a, f 32;
#X obj 271 251 spigot 1;
#X msg 321 147 1;
#X obj 321 127 t b b, f 8;
#X msg 366 147 0;
#X obj 414 157 t b b, f 8;
#X msg 414 177 0;
#X msg 459 177 1;
#X obj 82 17 inlet lista;
#X obj 321 17 inlet tamanho_da_lista;
#X obj 82 325 outlet sai_lista_completa;
#X obj 321 84 > 1;
#X obj 271 325 outlet mandar_lista_para_fatiamento;
#X connect 0 0 5 0;
#X connect 0 1 7 0;
#X connect 1 0 12 0;
#X connect 2 0 1 0;
#X connect 2 1 3 0;
#X connect 3 0 14 0;
#X connect 4 0 1 1;
#X connect 5 0 4 0;
#X connect 5 1 6 0;
#X connect 6 0 3 1;
#X connect 7 0 8 0;
#X connect 7 1 9 0;
#X connect 8 0 1 1;
#X connect 9 0 3 1;
#X connect 10 0 2 0;
#X connect 11 0 13 0;
#X connect 13 0 0 0;
#X restore 192 440 pd seletor_de_modo_de_saída;
#X text 503 303 argumento tempo, f 9;
#X text 96 134 argumento linha de ônibus, f 9;
#N canvas 733 62 502 514 fatiar_lista_no_tempo 0;
#X obj 37 37 inlet lista;
#X obj 271 37 inlet tempo;
#X text 342 38 (ms);
#X obj 37 452 outlet saída_elemento_a_elemento;
#X obj 37 225 spigot 0;
#X obj 271 109 t a a, f 11;
#N canvas 456 120 471 263 disparador_de_dados 0;
#X obj 89 17 inlet lista_de_dados;
#X obj 310 17 inlet tempo;
#X obj 89 200 outlet saída_dado_a_dado;
#X obj 89 68 list split 1, f 41;
#X obj 147 142 list append;
#X obj 28 128 del;
#X msg 28 102 bang;
#X obj 332 200 outlet bang_de_fim;
#X connect 0 0 3 0;
#X connect 1 0 5 1;
#X connect 3 0 6 0;
#X connect 3 0 2 0;
#X connect 3 1 4 1;
#X connect 3 2 7 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 6 0 5 0;
#X restore 169 267 pd disparador_de_dados;
#X f 28;
#X obj 37 111 t a a, f 8;
#N canvas 162 87 537 382 se_tempo_é_menor_que_0 0;
#X obj 35 20 inlet lista;
#X obj 194 20 inlet tempo;
#X obj 75 320 outlet libera_lista_completa;
#X obj 45 183 sel 1, f 11;
#X msg 45 205 1;
#X msg 108 205 0;
#X obj 28 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 133 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 301 256 spigot 1;
#X msg 313 205 1;
#X msg 376 205 0;
#X obj 292 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 405 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 313 183 sel 0, f 11;
#X obj 301 321 outlet libera_lista_pra_ser_fatiada;
#X obj 194 75 < 0;
#X text 354 58 Se o tempo é maior ou igual a zero \, este subpatch
libera os dados para serem fatiados, f 25;
#X connect 0 0 8 0;
#X connect 1 0 15 0;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 4 0 2 0;
#X connect 4 0 6 0;
#X connect 5 0 2 0;
#X connect 5 0 7 0;
#X connect 8 0 14 0;
#X connect 9 0 11 0;
#X connect 9 0 8 1;
#X connect 10 0 12 0;
#X connect 10 0 8 1;
#X connect 13 0 9 0;
#X connect 13 1 10 0;
#X connect 15 0 3 0;
#X connect 15 0 13 0;
#X restore 82 158 pd se_tempo_é_menor_que_0;
#X f 32;
#X obj 334 451 outlet bang_de_fim;
#X connect 0 0 7 0;
#X connect 1 0 5 0;
#X connect 4 0 3 0;
#X connect 5 0 8 1;
#X connect 5 1 6 1;
#X connect 6 0 3 0;
#X connect 6 1 9 0;
#X connect 7 0 4 0;
#X connect 7 1 8 0;
#X connect 8 0 4 1;
#X connect 8 1 6 0;
#X restore 351 488 pd fatiar_lista_no_tempo;
#X text 528 62 envia todos os dados de interval referentes a linha
requerida, f 22;
#X obj 158 9 inlet mensagem_de_entrada;
#X obj 158 254 text search onibus_seg;
#X obj 158 277 text get onibus_seg;
#X connect 2 1 3 0;
#X connect 3 0 11 0;
#X connect 4 0 0 0;
#X connect 4 1 1 0;
#X connect 5 0 17 0;
#X connect 5 1 8 0;
#X connect 6 0 11 1;
#X connect 7 0 5 0;
#X connect 7 1 6 0;
#X connect 8 0 14 1;
#X connect 9 0 10 0;
#X connect 10 0 4 0;
#X connect 11 0 4 0;
#X connect 11 1 14 0;
#X connect 14 0 1 0;
#X connect 14 1 0 0;
#X connect 16 0 7 0;
#X connect 17 0 9 0;
#X connect 17 0 18 0;
#X connect 18 0 2 0;
#X restore 252 307 pd interval;
#N canvas 51 126 480 585 coordenadas 0;
#X obj 272 475 outlet bang_de_fim;
#X obj 75 475 outlet saída_de_dados;
#X obj 63 68 list prepend symbol;
#X obj 63 89 list trim;
#X obj 39 35 inlet identificador;
#X text 243 321 envia os dados de coordenadas referentes ao identificador
, f 31;
#X obj 98 243 list split 1;
#X obj 132 270 list split 2;
#X obj 100 318 t b a;
#X obj 98 164 text search coordenadas_seg;
#X obj 98 202 text get coordenadas_seg;
#X connect 2 0 3 0;
#X connect 3 0 9 0;
#X connect 4 0 2 0;
#X connect 6 1 7 0;
#X connect 7 0 8 0;
#X connect 8 0 0 0;
#X connect 8 1 1 0;
#X connect 9 0 10 0;
#X connect 10 0 6 0;
#X restore 468 307 pd coordenadas;
#N canvas 84 68 712 602 avgspeed 0;
#X obj 398 538 outlet bang_de_fim;
#X obj 231 538 outlet saída_de_dados;
#X text 487 61 envia todos os dados de velocidade média referentes
ao identificador de trajeto, f 29;
#X obj 170 24 inlet identificador_de_trajeto;
#X obj 204 399 t b a;
#X obj 19 257 sel -1;
#X msg 19 278 linha não encontrada;
#N canvas 615 290 542 370 seletor_de_modo_de_saída 0;
#X obj 321 102 sel 0, f 16;
#X obj 82 211 spigot 1;
#X obj 82 70 t a a, f 32;
#X obj 271 251 spigot 1;
#X msg 321 147 1;
#X obj 321 127 t b b, f 8;
#X msg 366 147 0;
#X obj 414 157 t b b, f 8;
#X msg 414 177 0;
#X msg 459 177 1;
#X obj 82 17 inlet lista;
#X obj 321 17 inlet tamanho_da_lista;
#X obj 82 325 outlet sai_lista_completa;
#X obj 321 84 > 1;
#X obj 271 325 outlet manda_lista_para_fatiamento;
#X connect 0 0 5 0;
#X connect 0 1 7 0;
#X connect 1 0 12 0;
#X connect 2 0 1 0;
#X connect 2 1 3 0;
#X connect 3 0 14 0;
#X connect 4 0 1 1;
#X connect 5 0 4 0;
#X connect 5 1 6 0;
#X connect 6 0 3 1;
#X connect 7 0 8 0;
#X connect 7 1 9 0;
#X connect 8 0 1 1;
#X connect 9 0 3 1;
#X connect 10 0 2 0;
#X connect 11 0 13 0;
#X connect 13 0 0 0;
#X restore 204 347 pd seletor_de_modo_de_saída;
#X obj 363 99 list length;
#X obj 170 85 t a a;
#X obj 170 115 list split 1;
#X obj 504 244 list split 1;
#N canvas 733 62 502 514 fatiar_lista_no_tempo 0;
#X obj 37 37 inlet lista;
#X obj 271 37 inlet tempo;
#X text 342 38 (ms);
#X obj 37 452 outlet saída_elemento_a_elemento;
#X obj 37 225 spigot 0;
#X obj 271 109 t a a, f 11;
#N canvas 456 120 471 263 disparador_de_dados 0;
#X obj 89 17 inlet lista_de_dados;
#X obj 310 17 inlet tempo;
#X obj 89 200 outlet saída_dado_a_dado;
#X obj 89 68 list split 1, f 41;
#X obj 147 142 list append;
#X obj 28 128 del;
#X msg 28 102 bang;
#X obj 332 200 outlet bang_de_fim;
#X connect 0 0 3 0;
#X connect 1 0 5 1;
#X connect 3 0 6 0;
#X connect 3 0 2 0;
#X connect 3 1 4 1;
#X connect 3 2 7 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 6 0 5 0;
#X restore 169 267 pd disparador_de_dados;
#X f 28;
#X obj 37 111 t a a, f 8;
#N canvas 162 87 537 382 se_tempo_é_menor_que_0 0;
#X obj 35 20 inlet lista;
#X obj 194 20 inlet tempo;
#X obj 75 320 outlet libera_lista_completa;
#X obj 45 183 sel 1, f 11;
#X msg 45 205 1;
#X msg 108 205 0;
#X obj 28 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 133 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 301 256 spigot 1;
#X msg 313 205 1;
#X msg 376 205 0;
#X obj 292 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 405 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 313 183 sel 0, f 11;
#X obj 301 321 outlet libera_lista_pra_ser_fatiada;
#X obj 194 75 < 0;
#X text 354 58 Se o tempo é maior ou igual a zero \, este subpatch
libera os dados para serem fatiados, f 25;
#X connect 0 0 8 0;
#X connect 1 0 15 0;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 4 0 2 0;
#X connect 4 0 6 0;
#X connect 5 0 2 0;
#X connect 5 0 7 0;
#X connect 8 0 14 0;
#X connect 9 0 11 0;
#X connect 9 0 8 1;
#X connect 10 0 12 0;
#X connect 10 0 8 1;
#X connect 13 0 9 0;
#X connect 13 1 10 0;
#X connect 15 0 3 0;
#X connect 15 0 13 0;
#X restore 82 158 pd se_tempo_é_menor_que_0;
#X f 32;
#X obj 334 451 outlet bang_de_fim;
#X connect 0 0 7 0;
#X connect 1 0 5 0;
#X connect 4 0 3 0;
#X connect 5 0 8 1;
#X connect 5 1 6 1;
#X connect 6 0 3 0;
#X connect 6 1 9 0;
#X connect 7 0 4 0;
#X connect 7 1 8 0;
#X connect 8 0 4 1;
#X connect 8 1 6 0;
#X restore 363 381 pd fatiar_lista_no_tempo;
#X text 583 242 tempo, f 6;
#X text 24 131 identificador de trajeto;
#X obj 170 204 text search trajetos_seg;
#X obj 170 232 text get trajetos_seg;
#X obj 170 313 list split 2;
#X connect 3 0 9 0;
#X connect 4 0 0 0;
#X connect 4 1 1 0;
#X connect 5 0 6 0;
#X connect 6 0 4 0;
#X connect 7 0 4 0;
#X connect 7 1 12 0;
#X connect 8 0 7 1;
#X connect 9 0 10 0;
#X connect 9 1 8 0;
#X connect 10 0 15 0;
#X connect 10 1 11 0;
#X connect 11 0 12 1;
#X connect 12 0 1 0;
#X connect 12 1 0 0;
#X connect 15 0 5 0;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 17 1 7 0;
#X restore 737 307 pd avgspeed;
#N canvas 122 28 757 674 stops 0;
#X text 547 153 envia todos os dados de stops referentes à linha requerida
, f 25;
#X obj 531 631 outlet bang_de_fim;
#X obj 258 631 outlet saída_de_dados;
#X obj 160 363 list split 2;
#X obj 194 394 list split 24;
#X obj 231 550 t b a;
#X obj 160 136 list split 1;
#X obj 390 103 list length;
#X obj 160 89 t a a;
#X obj 531 292 list split 1;
#X obj 21 322 sel -1;
#X msg 21 343 linha não encontrada;
#N canvas 615 290 542 370 seletor_de_modo_de_saída 0;
#X obj 321 102 sel 0, f 16;
#X obj 82 211 spigot 1;
#X obj 82 70 t a a, f 32;
#X obj 271 251 spigot 1;
#X msg 321 147 1;
#X obj 321 127 t b b, f 8;
#X msg 366 147 0;
#X obj 414 157 t b b, f 8;
#X msg 414 177 0;
#X msg 459 177 1;
#X obj 82 17 inlet lista;
#X obj 321 17 inlet tamanho_da_lista;
#X obj 82 325 outlet sai_lista_completa;
#X obj 271 325 outlet sair_lista_elemento_a_elemento;
#X obj 321 84 > 1;
#X connect 0 0 5 0;
#X connect 0 1 7 0;
#X connect 1 0 12 0;
#X connect 2 0 1 0;
#X connect 2 1 3 0;
#X connect 3 0 13 0;
#X connect 4 0 1 1;
#X connect 5 0 4 0;
#X connect 5 1 6 0;
#X connect 6 0 3 1;
#X connect 7 0 8 0;
#X connect 7 1 9 0;
#X connect 8 0 1 1;
#X connect 9 0 3 1;
#X connect 10 0 2 0;
#X connect 11 0 14 0;
#X connect 14 0 0 0;
#X restore 231 445 pd seletor_de_modo_de_saída;
#X text 542 308 argumento tempo, f 9;
#X text 98 139 argumento linha de ônibus, f 9;
#N canvas 733 62 502 514 fatiar_lista_no_tempo 0;
#X obj 37 37 inlet lista;
#X obj 271 37 inlet tempo;
#X text 342 38 (ms);
#X obj 37 452 outlet saída_elemento_a_elemento;
#X obj 37 225 spigot 0;
#X obj 271 109 t a a, f 11;
#N canvas 456 120 471 263 disparador_de_dados 0;
#X obj 89 17 inlet lista_de_dados;
#X obj 310 17 inlet tempo;
#X obj 89 200 outlet saída_dado_a_dado;
#X obj 89 68 list split 1, f 41;
#X obj 147 142 list append;
#X obj 28 128 del;
#X msg 28 102 bang;
#X obj 332 200 outlet bang_de_fim;
#X connect 0 0 3 0;
#X connect 1 0 5 1;
#X connect 3 0 6 0;
#X connect 3 0 2 0;
#X connect 3 1 4 1;
#X connect 3 2 7 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 6 0 5 0;
#X restore 169 267 pd disparador_de_dados;
#X f 28;
#X obj 37 111 t a a, f 8;
#N canvas 162 87 537 382 se_tempo_é_menor_que_0 0;
#X obj 35 20 inlet lista;
#X obj 194 20 inlet tempo;
#X obj 75 320 outlet libera_lista_completa;
#X obj 45 183 sel 1, f 11;
#X msg 45 205 1;
#X msg 108 205 0;
#X obj 28 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 133 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 301 256 spigot 1;
#X msg 313 205 1;
#X msg 376 205 0;
#X obj 292 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 405 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 313 183 sel 0, f 11;
#X obj 301 321 outlet libera_lista_pra_ser_fatiada;
#X obj 194 75 < 0;
#X text 354 58 Se o tempo é maior ou igual a zero \, este subpatch
libera os dados para serem fatiados, f 25;
#X connect 0 0 8 0;
#X connect 1 0 15 0;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 4 0 2 0;
#X connect 4 0 6 0;
#X connect 5 0 2 0;
#X connect 5 0 7 0;
#X connect 8 0 14 0;
#X connect 9 0 11 0;
#X connect 9 0 8 1;
#X connect 10 0 12 0;
#X connect 10 0 8 1;
#X connect 13 0 9 0;
#X connect 13 1 10 0;
#X connect 15 0 3 0;
#X connect 15 0 13 0;
#X restore 82 158 pd se_tempo_é_menor_que_0;
#X f 32;
#X obj 334 451 outlet bang_de_fim;
#X connect 0 0 7 0;
#X connect 1 0 5 0;
#X connect 4 0 3 0;
#X connect 5 0 8 1;
#X connect 5 1 6 1;
#X connect 6 0 3 0;
#X connect 6 1 9 0;
#X connect 7 0 4 0;
#X connect 7 1 8 0;
#X connect 8 0 4 1;
#X connect 8 1 6 0;
#X restore 390 493 pd fatiar_lista_no_tempo;
#X obj 160 14 inlet mensagem_de_entrada;
#X obj 160 259 text search onibus_seg;
#X obj 160 282 text get onibus_seg;
#X connect 3 1 4 0;
#X connect 4 1 12 0;
#X connect 5 0 1 0;
#X connect 5 1 2 0;
#X connect 6 0 17 0;
#X connect 6 1 9 0;
#X connect 7 0 12 1;
#X connect 8 0 6 0;
#X connect 8 1 7 0;
#X connect 9 0 15 1;
#X connect 10 0 11 0;
#X connect 11 0 5 0;
#X connect 12 0 5 0;
#X connect 12 1 15 0;
#X connect 15 0 2 0;
#X connect 15 1 1 0;
#X connect 16 0 8 0;
#X connect 17 0 10 0;
#X connect 17 0 18 0;
#X connect 18 0 3 0;
#X restore 332 307 pd stops;
#N canvas 112 123 555 508 trajeto 0;
#X obj 139 27 inlet;
#X obj 285 400 outlet bang_de_fim;
#X obj 88 400 outlet saída_de_dados;
#N canvas 313 189 495 459 saída_trajeto 0;
#X text 300 17 Separa e retorna dados referentes ao primeiro e último
indicador de ponto de parada de ônibus, f 25;
#X obj 260 135 list length;
#X obj 203 174 list split;
#X obj 203 113 t l l;
#X obj 260 155 - 1;
#X msg 82 313 set symbol \$1-\$2;
#X msg 55 359 symbol 640000518id-920016702id;
#X obj 55 292 t b l;
#X obj 55 271 pack s s;
#X obj 55 59 list split 26;
#X obj 55 86 list split 1, f 50;
#X obj 55 238 list trim;
#X obj 231 238 list trim;
#X obj 55 207 list prepend symbol;
#X obj 231 207 list prepend symbol;
#X obj 55 18 inlet pontos_de_parada;
#X obj 55 408 outlet identificador_de_trajeto;
#X connect 1 0 4 0;
#X connect 2 1 14 0;
#X connect 3 0 2 0;
#X connect 3 1 1 0;
#X connect 4 0 2 1;
#X connect 5 0 6 0;
#X connect 6 0 16 0;
#X connect 7 0 6 0;
#X connect 7 1 5 0;
#X connect 8 0 7 0;
#X connect 9 1 10 0;
#X connect 10 0 13 0;
#X connect 10 1 3 0;
#X connect 11 0 8 0;
#X connect 12 0 8 1;
#X connect 13 0 11 0;
#X connect 14 0 12 0;
#X connect 15 0 9 0;
#X restore 138 313 pd saída_trajeto;
#X obj 138 82 list prepend symbol;
#X obj 138 103 list trim;
#X text 352 64 retorna um identificador de trajeto referente à linha
requerida, f 25;
#X obj 138 334 t b a;
#X obj 41 208 sel -1;
#X msg 41 229 linha não encontrada;
#X obj 203 168 text search onibus_seg;
#X obj 203 256 text get onibus_seg;
#X connect 0 0 4 0;
#X connect 3 0 7 0;
#X connect 4 0 5 0;
#X connect 5 0 10 0;
#X connect 7 0 1 0;
#X connect 7 1 2 0;
#X connect 8 0 9 0;
#X connect 9 0 7 0;
#X connect 10 0 8 0;
#X connect 10 0 11 0;
#X connect 11 0 3 0;
#X restore 619 307 pd trajeto;
#X connect 0 0 5 0;
#X connect 0 1 6 0;
#X connect 1 0 5 0;
#X connect 1 1 6 0;
#X connect 3 0 8 0;
#X connect 3 1 0 0;
#X connect 3 2 9 0;
#X connect 3 3 10 0;
#X connect 3 4 13 0;
#X connect 3 5 11 0;
#X connect 3 6 1 0;
#X connect 3 7 14 0;
#X connect 3 8 12 0;
#X connect 3 9 4 0;
#X connect 4 0 2 0;
#X connect 7 0 3 0;
#X connect 8 0 5 0;
#X connect 8 1 6 0;
#X connect 9 0 5 0;
#X connect 9 1 6 0;
#X connect 10 0 5 0;
#X connect 10 1 6 0;
#X connect 11 0 5 0;
#X connect 11 1 6 0;
#X connect 12 0 5 0;
#X connect 12 1 6 0;
#X connect 13 0 5 0;
#X connect 13 1 6 0;
#X connect 14 0 5 0;
#X connect 14 1 6 0;
#X restore 184 312 pd segunda;
#N canvas 50 62 1083 590 terça 0;
#N canvas 300 107 710 513 buzu 0;
#X text 433 107 aponta para o indexador numérico e retorna a linha
de ônibus associada, f 35;
#X text 13 86 indexadores negativos retornam a quantidade total de
linhas de onibus cadastradas, f 21;
#X obj 173 414 outlet saída_de_dados;
#X obj 377 414 outlet bang_de_fim;
#X obj 174 118 moses 0, f 41;
#X floatatom 174 93 5 0 0 0 - - -;
#X msg 174 139 bang;
#X obj 174 243 t b f;
#X msg 417 244 \$1;
#X obj 417 265 t b a;
#X obj 174 22 inlet mensagem_de_entrada;
#X obj 174 222 text size onibus_ter;
#X obj 417 223 text get onibus_ter;
#X connect 4 0 6 0;
#X connect 4 1 12 0;
#X connect 5 0 4 0;
#X connect 6 0 11 0;
#X connect 7 0 3 0;
#X connect 7 1 2 0;
#X connect 8 0 9 0;
#X connect 9 0 3 0;
#X connect 9 1 2 0;
#X connect 10 0 5 0;
#X connect 11 0 7 0;
#X connect 12 0 8 0;
#X restore 137 296 pd buzu;
#N canvas 71 172 445 512 zona 0;
#X obj 242 415 outlet bang_de_fim;
#X obj 45 415 outlet saída_de_dados;
#X obj 63 68 list prepend symbol;
#X obj 63 89 list trim;
#X obj 39 35 inlet identificador;
#X obj 100 318 t b a;
#X text 221 90 envia o dado de zona referente ao identificador, f
31;
#X obj 98 243 list split 3;
#X obj 98 202 text get coordenadas_ter;
#X obj 98 164 text search coordenadas_ter;
#X connect 2 0 3 0;
#X connect 3 0 9 0;
#X connect 4 0 2 0;
#X connect 5 0 0 0;
#X connect 5 1 1 0;
#X connect 7 1 5 0;
#X connect 8 0 7 0;
#X connect 9 0 8 0;
#X restore 600 296 pd zona;
#X obj 789 207 print Erro;
#X obj 128 146 route linhas buzu start_time interval stops coordenadas
zona trajeto avgspeed, f 103;
#X msg 789 186 Verifique a formatação da mensagem no Help;
#X obj 206 528 outlet saída_de_dados;
#X obj 636 528 outlet bang_de_fim;
#X obj 128 50 inlet mensagem_de_entrada;
#N canvas 219 100 627 313 linhas 0;
#X text 342 89 Retorna todas as linhas de ônibus sequencialmente a
um intervalo de tempo definido, f 37;
#X obj 57 227 outlet dados;
#X obj 228 227 outlet bang_de_fim;
#X obj 127 19 inlet mensagem_de_entrada;
#N canvas 195 83 799 658 linhas_de_ônibus 0;
#X msg 172 408 line 0;
#X obj 367 125 t b b b;
#X obj 192 52 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 172 475 \$1;
#X floatatom 430 421 5 0 0 0 - - -;
#X msg 424 284 stop;
#X floatatom 525 231 5 0 0 0 - - -;
#N canvas 116 209 348 228 contador 0;
#X obj 32 117 f;
#X obj 75 117 + 1;
#X msg 141 84 -1;
#X text 69 5 CONTADOR COM RESET;
#X obj 32 144 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X text 27 206 bang de saída;
#X obj 32 188 outlet bang;
#X obj 152 188 outlet contagem;
#X text 146 206 contagem de saída;
#X obj 32 33 inlet bang;
#X text 64 48 bang de contagem, f 9;
#X obj 141 33 inlet reset;
#X text 194 48 reinicia contagem;
#X connect 0 0 1 0;
#X connect 0 0 4 0;
#X connect 0 0 7 0;
#X connect 1 0 0 1;
#X connect 2 0 1 0;
#X connect 4 0 6 0;
#X connect 9 0 0 0;
#X connect 11 0 2 0;
#X restore 367 380 pd contador;
#X obj 367 208 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 533 203 total de linhas de ônibus no dia, f 16;
#X obj 492 308 sel 10;
#N canvas 667 298 399 318 seletor 0;
#X obj 109 60 inlet;
#X obj 109 143 f;
#X obj 147 143 + 1;
#X obj 129 185 sel 1 2, f 15;
#X obj 109 112 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 89 217 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 172 217 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 214 102 1;
#X obj 89 282 outlet;
#X obj 172 282 outlet;
#X text 241 104 reseta contagem;
#X text 20 12 SELETOR - A cada bang recebido \, alterna bangs pelas
saídas.;
#X obj 214 81 loadbang;
#X connect 0 0 4 0;
#X connect 1 0 2 0;
#X connect 1 0 3 0;
#X connect 2 0 1 1;
#X connect 3 0 5 0;
#X connect 3 1 6 0;
#X connect 4 0 1 0;
#X connect 5 0 8 0;
#X connect 6 0 7 0;
#X connect 6 0 9 0;
#X connect 7 0 1 1;
#X connect 12 0 7 0;
#X restore 367 228 pd seletor;
#X obj 430 344 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 367 283 t b b b;
#X text 506 324 ao atingir o total de linhas de ônibus no dia \, o
[metro] é interrompido, f 22;
#X text 134 25 liga/desl;
#X text 380 25 tempo de leitura;
#X text 462 418 índice da linha a ser recuperada, f 11;
#X text 289 15 1;
#X text 553 17 2;
#X msg 367 408 step;
#X obj 367 350 metro 18;
#X obj 192 24 inlet liga/desl;
#X obj 480 24 inlet tempo;
#X msg 238 408 bang;
#X obj 172 544 outlet linhas;
#X obj 313 543 outlet acabou;
#X text 85 564 retorna linhas de ônibus no tempo determinado, f 24
;
#X text 345 560 bang ao terminar de retornar dados, f 18;
#X obj 238 343 t b b;
#X obj 385 104 t b f;
#X text 17 87 Máquina que retorna as linhas de ônibus a um intervalo
de tempo determinado no inlet 2 de um determinado dia, f 32;
#X floatatom 462 253 5 0 0 0 - - -;
#X obj 403 432 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#N canvas 537 137 539 406 processamento_de_dados 0;
#X floatatom 217 58 5 0 0 0 - - -;
#X obj 196 265 f, f 4;
#X floatatom 196 294 5 0 0 0 - - -;
#X obj 217 23 inlet tempo;
#X text 292 22 tempo em ms;
#X obj 196 344 outlet tempo;
#X obj 39 344 outlet zero;
#X obj 39 23 inlet bang;
#X obj 39 185 spigot 1;
#X obj 84 165 <= 0;
#X obj 39 49 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 217 78 t f f, f 8;
#X obj 39 82 t b b;
#X obj 262 99 > 0;
#X obj 196 120 spigot 0, f 12;
#X obj 39 323 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 196 241 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 311 219 Este subpatch retornará um bang pelo outlet esquerdo
sempre que o tempo de retorno fornecido entre cada linha de ônibus
seja igual ou menor que zero \, caso contrário \, retorna o tempo
pelo outlet direito para setar o [metro], f 34;
#X connect 0 0 11 0;
#X connect 1 0 2 0;
#X connect 2 0 5 0;
#X connect 3 0 0 0;
#X connect 7 0 10 0;
#X connect 8 0 15 0;
#X connect 9 0 8 1;
#X connect 10 0 12 0;
#X connect 11 0 9 0;
#X connect 11 0 1 1;
#X connect 11 1 13 0;
#X connect 12 0 8 0;
#X connect 12 1 14 0;
#X connect 13 0 14 1;
#X connect 14 0 16 0;
#X connect 15 0 6 0;
#X connect 16 0 1 0;
#X restore 238 82 pd processamento_de_dados;
#X obj 525 186 text size onibus_ter;
#X obj 172 454 text sequence onibus_ter;
#X connect 0 0 36 0;
#X connect 1 0 8 0;
#X connect 1 1 35 0;
#X connect 1 2 0 0;
#X connect 2 0 34 0;
#X connect 3 0 25 0;
#X connect 5 0 21 0;
#X connect 6 0 10 1;
#X connect 7 0 20 0;
#X connect 7 0 33 0;
#X connect 7 1 10 0;
#X connect 7 1 4 0;
#X connect 8 0 11 0;
#X connect 10 0 8 0;
#X connect 11 0 13 0;
#X connect 11 1 5 0;
#X connect 12 0 7 1;
#X connect 13 0 21 0;
#X connect 13 1 12 0;
#X connect 20 0 36 0;
#X connect 21 0 7 0;
#X connect 22 0 2 0;
#X connect 23 0 34 1;
#X connect 24 0 36 0;
#X connect 29 0 24 0;
#X connect 29 1 0 0;
#X connect 30 0 1 0;
#X connect 30 1 21 1;
#X connect 30 1 32 0;
#X connect 34 0 29 0;
#X connect 34 1 30 0;
#X connect 35 0 6 0;
#X connect 36 0 3 0;
#X connect 36 1 26 0;
#X restore 87 172 pd linhas_de_ônibus;
#X obj 127 97 t b f;
#X connect 3 0 5 0;
#X connect 4 0 1 0;
#X connect 4 1 2 0;
#X connect 5 0 4 0;
#X connect 5 1 4 1;
#X restore 69 295 pd linhas;
#N canvas 66 147 556 410 start_time 0;
#X text 332 54 Retorna o valor de start_time a partir do nome da linha
de ônibus, f 35;
#X obj 112 320 outlet saída_de_dados;
#X obj 302 320 outlet bang_de_fim;
#X msg 197 243 \$2;
#X obj 142 68 list prepend symbol;
#X obj 142 89 list trim;
#X obj 197 264 t b a;
#X obj 124 19 inlet linha_de_ônibus;
#X obj 46 182 sel -1;
#X msg 46 203 linha não encontrada;
#X obj 197 134 text search onibus_ter;
#X obj 197 222 text get onibus_ter;
#X connect 3 0 6 0;
#X connect 4 0 5 0;
#X connect 5 0 10 0;
#X connect 6 0 2 0;
#X connect 6 1 1 0;
#X connect 7 0 4 0;
#X connect 8 0 9 0;
#X connect 9 0 6 0;
#X connect 10 0 8 0;
#X connect 10 0 11 0;
#X connect 11 0 3 0;
#X restore 197 296 pd start_time;
#N canvas 278 73 722 691 interval 0;
#X obj 492 626 outlet bang_de_fim;
#X obj 219 626 outlet saída_de_dados;
#X obj 158 358 list split 2;
#X obj 192 389 list split 24;
#X obj 192 545 t b a;
#X obj 158 131 list split 1;
#X obj 351 98 list length;
#X obj 158 84 t a a;
#X obj 492 287 list split 1;
#X obj 19 317 sel -1;
#X msg 19 338 linha não encontrada;
#N canvas 615 290 542 370 seletor_de_modo_de_saída 0;
#X obj 321 102 sel 0, f 16;
#X obj 82 211 spigot 1;
#X obj 82 70 t a a, f 32;
#X obj 271 251 spigot 1;
#X msg 321 147 1;
#X obj 321 127 t b b, f 8;
#X msg 366 147 0;
#X obj 414 157 t b b, f 8;
#X msg 414 177 0;
#X msg 459 177 1;
#X obj 82 17 inlet lista;
#X obj 321 17 inlet tamanho_da_lista;
#X obj 82 325 outlet sai_lista_completa;
#X obj 321 84 > 1;
#X obj 271 325 outlet mandar_lista_para_fatiamento;
#X connect 0 0 5 0;
#X connect 0 1 7 0;
#X connect 1 0 12 0;
#X connect 2 0 1 0;
#X connect 2 1 3 0;
#X connect 3 0 14 0;
#X connect 4 0 1 1;
#X connect 5 0 4 0;
#X connect 5 1 6 0;
#X connect 6 0 3 1;
#X connect 7 0 8 0;
#X connect 7 1 9 0;
#X connect 8 0 1 1;
#X connect 9 0 3 1;
#X connect 10 0 2 0;
#X connect 11 0 13 0;
#X connect 13 0 0 0;
#X restore 192 440 pd seletor_de_modo_de_saída;
#X text 503 303 argumento tempo, f 9;
#X text 96 134 argumento linha de ônibus, f 9;
#N canvas 733 62 502 514 fatiar_lista_no_tempo 0;
#X obj 37 37 inlet lista;
#X obj 271 37 inlet tempo;
#X text 342 38 (ms);
#X obj 37 452 outlet saída_elemento_a_elemento;
#X obj 37 225 spigot 0;
#X obj 271 109 t a a, f 11;
#N canvas 456 120 471 263 disparador_de_dados 0;
#X obj 89 17 inlet lista_de_dados;
#X obj 310 17 inlet tempo;
#X obj 89 200 outlet saída_dado_a_dado;
#X obj 89 68 list split 1, f 41;
#X obj 147 142 list append;
#X obj 28 128 del;
#X msg 28 102 bang;
#X obj 332 200 outlet bang_de_fim;
#X connect 0 0 3 0;
#X connect 1 0 5 1;
#X connect 3 0 6 0;
#X connect 3 0 2 0;
#X connect 3 1 4 1;
#X connect 3 2 7 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 6 0 5 0;
#X restore 169 267 pd disparador_de_dados;
#X f 28;
#X obj 37 111 t a a, f 8;
#N canvas 162 87 537 382 se_tempo_é_menor_que_0 0;
#X obj 35 20 inlet lista;
#X obj 194 20 inlet tempo;
#X obj 75 320 outlet libera_lista_completa;
#X obj 45 183 sel 1, f 11;
#X msg 45 205 1;
#X msg 108 205 0;
#X obj 28 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 133 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 301 256 spigot 1;
#X msg 313 205 1;
#X msg 376 205 0;
#X obj 292 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 405 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 313 183 sel 0, f 11;
#X obj 301 321 outlet libera_lista_pra_ser_fatiada;
#X obj 194 75 < 0;
#X text 354 58 Se o tempo é maior ou igual a zero \, este subpatch
libera os dados para serem fatiados, f 25;
#X connect 0 0 8 0;
#X connect 1 0 15 0;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 4 0 2 0;
#X connect 4 0 6 0;
#X connect 5 0 2 0;
#X connect 5 0 7 0;
#X connect 8 0 14 0;
#X connect 9 0 11 0;
#X connect 9 0 8 1;
#X connect 10 0 12 0;
#X connect 10 0 8 1;
#X connect 13 0 9 0;
#X connect 13 1 10 0;
#X connect 15 0 3 0;
#X connect 15 0 13 0;
#X restore 82 158 pd se_tempo_é_menor_que_0;
#X f 32;
#X obj 334 451 outlet bang_de_fim;
#X connect 0 0 7 0;
#X connect 1 0 5 0;
#X connect 4 0 3 0;
#X connect 5 0 8 1;
#X connect 5 1 6 1;
#X connect 6 0 3 0;
#X connect 6 1 9 0;
#X connect 7 0 4 0;
#X connect 7 1 8 0;
#X connect 8 0 4 1;
#X connect 8 1 6 0;
#X restore 351 488 pd fatiar_lista_no_tempo;
#X text 528 62 envia todos os dados de interval referentes a linha
requerida, f 22;
#X obj 158 9 inlet mensagem_de_entrada;
#X obj 158 254 text search onibus_ter;
#X obj 158 277 text get onibus_ter;
#X connect 2 1 3 0;
#X connect 3 0 11 0;
#X connect 4 0 0 0;
#X connect 4 1 1 0;
#X connect 5 0 17 0;
#X connect 5 1 8 0;
#X connect 6 0 11 1;
#X connect 7 0 5 0;
#X connect 7 1 6 0;
#X connect 8 0 14 1;
#X connect 9 0 10 0;
#X connect 10 0 4 0;
#X connect 11 0 4 0;
#X connect 11 1 14 0;
#X connect 14 0 1 0;
#X connect 14 1 0 0;
#X connect 16 0 7 0;
#X connect 17 0 9 0;
#X connect 17 0 18 0;
#X connect 18 0 2 0;
#X restore 288 296 pd interval;
#N canvas 51 126 480 585 coordenadas 0;
#X obj 272 475 outlet bang_de_fim;
#X obj 75 475 outlet saída_de_dados;
#X obj 63 68 list prepend symbol;
#X obj 63 89 list trim;
#X obj 39 35 inlet identificador;
#X text 243 321 envia os dados de coordenadas referentes ao identificador
, f 31;
#X obj 98 243 list split 1;
#X obj 132 270 list split 2;
#X obj 100 318 t b a;
#X obj 98 164 text search coordenadas_ter;
#X obj 98 202 text get coordenadas_ter;
#X connect 2 0 3 0;
#X connect 3 0 9 0;
#X connect 4 0 2 0;
#X connect 6 1 7 0;
#X connect 7 0 8 0;
#X connect 8 0 0 0;
#X connect 8 1 1 0;
#X connect 9 0 10 0;
#X connect 10 0 6 0;
#X restore 504 296 pd coordenadas;
#N canvas 84 68 712 602 avgspeed 0;
#X obj 398 538 outlet bang_de_fim;
#X obj 231 538 outlet saída_de_dados;
#X text 487 61 envia todos os dados de velocidade média referentes
ao identificador de trajeto, f 29;
#X obj 170 24 inlet identificador_de_trajeto;
#X obj 204 399 t b a;
#X obj 19 257 sel -1;
#X msg 19 278 linha não encontrada;
#N canvas 615 290 542 370 seletor_de_modo_de_saída 0;
#X obj 321 102 sel 0, f 16;
#X obj 82 211 spigot 1;
#X obj 82 70 t a a, f 32;
#X obj 271 251 spigot 1;
#X msg 321 147 1;
#X obj 321 127 t b b, f 8;
#X msg 366 147 0;
#X obj 414 157 t b b, f 8;
#X msg 414 177 0;
#X msg 459 177 1;
#X obj 82 17 inlet lista;
#X obj 321 17 inlet tamanho_da_lista;
#X obj 82 325 outlet sai_lista_completa;
#X obj 321 84 > 1;
#X obj 271 325 outlet manda_lista_para_fatiamento;
#X connect 0 0 5 0;
#X connect 0 1 7 0;
#X connect 1 0 12 0;
#X connect 2 0 1 0;
#X connect 2 1 3 0;
#X connect 3 0 14 0;
#X connect 4 0 1 1;
#X connect 5 0 4 0;
#X connect 5 1 6 0;
#X connect 6 0 3 1;
#X connect 7 0 8 0;
#X connect 7 1 9 0;
#X connect 8 0 1 1;
#X connect 9 0 3 1;
#X connect 10 0 2 0;
#X connect 11 0 13 0;
#X connect 13 0 0 0;
#X restore 204 347 pd seletor_de_modo_de_saída;
#X obj 363 99 list length;
#X obj 170 85 t a a;
#X obj 170 115 list split 1;
#X obj 504 244 list split 1;
#N canvas 733 62 502 514 fatiar_lista_no_tempo 0;
#X obj 37 37 inlet lista;
#X obj 271 37 inlet tempo;
#X text 342 38 (ms);
#X obj 37 452 outlet saída_elemento_a_elemento;
#X obj 37 225 spigot 0;
#X obj 271 109 t a a, f 11;
#N canvas 456 120 471 263 disparador_de_dados 0;
#X obj 89 17 inlet lista_de_dados;
#X obj 310 17 inlet tempo;
#X obj 89 200 outlet saída_dado_a_dado;
#X obj 89 68 list split 1, f 41;
#X obj 147 142 list append;
#X obj 28 128 del;
#X msg 28 102 bang;
#X obj 332 200 outlet bang_de_fim;
#X connect 0 0 3 0;
#X connect 1 0 5 1;
#X connect 3 0 6 0;
#X connect 3 0 2 0;
#X connect 3 1 4 1;
#X connect 3 2 7 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 6 0 5 0;
#X restore 169 267 pd disparador_de_dados;
#X f 28;
#X obj 37 111 t a a, f 8;
#N canvas 162 87 537 382 se_tempo_é_menor_que_0 0;
#X obj 35 20 inlet lista;
#X obj 194 20 inlet tempo;
#X obj 75 320 outlet libera_lista_completa;
#X obj 45 183 sel 1, f 11;
#X msg 45 205 1;
#X msg 108 205 0;
#X obj 28 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 133 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 301 256 spigot 1;
#X msg 313 205 1;
#X msg 376 205 0;
#X obj 292 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 405 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 313 183 sel 0, f 11;
#X obj 301 321 outlet libera_lista_pra_ser_fatiada;
#X obj 194 75 < 0;
#X text 354 58 Se o tempo é maior ou igual a zero \, este subpatch
libera os dados para serem fatiados, f 25;
#X connect 0 0 8 0;
#X connect 1 0 15 0;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 4 0 2 0;
#X connect 4 0 6 0;
#X connect 5 0 2 0;
#X connect 5 0 7 0;
#X connect 8 0 14 0;
#X connect 9 0 11 0;
#X connect 9 0 8 1;
#X connect 10 0 12 0;
#X connect 10 0 8 1;
#X connect 13 0 9 0;
#X connect 13 1 10 0;
#X connect 15 0 3 0;
#X connect 15 0 13 0;
#X restore 82 158 pd se_tempo_é_menor_que_0;
#X f 32;
#X obj 334 451 outlet bang_de_fim;
#X connect 0 0 7 0;
#X connect 1 0 5 0;
#X connect 4 0 3 0;
#X connect 5 0 8 1;
#X connect 5 1 6 1;
#X connect 6 0 3 0;
#X connect 6 1 9 0;
#X connect 7 0 4 0;
#X connect 7 1 8 0;
#X connect 8 0 4 1;
#X connect 8 1 6 0;
#X restore 363 381 pd fatiar_lista_no_tempo;
#X text 583 242 tempo, f 6;
#X text 24 131 identificador de trajeto;
#X obj 170 204 text search trajetos_ter;
#X obj 170 232 text get trajetos_ter;
#X obj 170 313 list split 2;
#X connect 3 0 9 0;
#X connect 4 0 0 0;
#X connect 4 1 1 0;
#X connect 5 0 6 0;
#X connect 6 0 4 0;
#X connect 7 0 4 0;
#X connect 7 1 12 0;
#X connect 8 0 7 1;
#X connect 9 0 10 0;
#X connect 9 1 8 0;
#X connect 10 0 15 0;
#X connect 10 1 11 0;
#X connect 11 0 12 1;
#X connect 12 0 1 0;
#X connect 12 1 0 0;
#X connect 15 0 5 0;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 17 1 7 0;
#X restore 773 296 pd avgspeed;
#N canvas 122 28 757 674 stops 0;
#X text 547 153 envia todos os dados de stops referentes à linha requerida
, f 25;
#X obj 531 631 outlet bang_de_fim;
#X obj 258 631 outlet saída_de_dados;
#X obj 160 363 list split 2;
#X obj 194 394 list split 24;
#X obj 231 550 t b a;
#X obj 160 136 list split 1;
#X obj 390 103 list length;
#X obj 160 89 t a a;
#X obj 531 292 list split 1;
#X obj 21 322 sel -1;
#X msg 21 343 linha não encontrada;
#N canvas 615 290 542 370 seletor_de_modo_de_saída 0;
#X obj 321 102 sel 0, f 16;
#X obj 82 211 spigot 1;
#X obj 82 70 t a a, f 32;
#X obj 271 251 spigot 1;
#X msg 321 147 1;
#X obj 321 127 t b b, f 8;
#X msg 366 147 0;
#X obj 414 157 t b b, f 8;
#X msg 414 177 0;
#X msg 459 177 1;
#X obj 82 17 inlet lista;
#X obj 321 17 inlet tamanho_da_lista;
#X obj 82 325 outlet sai_lista_completa;
#X obj 271 325 outlet sair_lista_elemento_a_elemento;
#X obj 321 84 > 1;
#X connect 0 0 5 0;
#X connect 0 1 7 0;
#X connect 1 0 12 0;
#X connect 2 0 1 0;
#X connect 2 1 3 0;
#X connect 3 0 13 0;
#X connect 4 0 1 1;
#X connect 5 0 4 0;
#X connect 5 1 6 0;
#X connect 6 0 3 1;
#X connect 7 0 8 0;
#X connect 7 1 9 0;
#X connect 8 0 1 1;
#X connect 9 0 3 1;
#X connect 10 0 2 0;
#X connect 11 0 14 0;
#X connect 14 0 0 0;
#X restore 231 445 pd seletor_de_modo_de_saída;
#X text 542 308 argumento tempo, f 9;
#X text 98 139 argumento linha de ônibus, f 9;
#N canvas 733 62 502 514 fatiar_lista_no_tempo 0;
#X obj 37 37 inlet lista;
#X obj 271 37 inlet tempo;
#X text 342 38 (ms);
#X obj 37 452 outlet saída_elemento_a_elemento;
#X obj 37 225 spigot 0;
#X obj 271 109 t a a, f 11;
#N canvas 456 120 471 263 disparador_de_dados 0;
#X obj 89 17 inlet lista_de_dados;
#X obj 310 17 inlet tempo;
#X obj 89 200 outlet saída_dado_a_dado;
#X obj 89 68 list split 1, f 41;
#X obj 147 142 list append;
#X obj 28 128 del;
#X msg 28 102 bang;
#X obj 332 200 outlet bang_de_fim;
#X connect 0 0 3 0;
#X connect 1 0 5 1;
#X connect 3 0 6 0;
#X connect 3 0 2 0;
#X connect 3 1 4 1;
#X connect 3 2 7 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 6 0 5 0;
#X restore 169 267 pd disparador_de_dados;
#X f 28;
#X obj 37 111 t a a, f 8;
#N canvas 162 87 537 382 se_tempo_é_menor_que_0 0;
#X obj 35 20 inlet lista;
#X obj 194 20 inlet tempo;
#X obj 75 320 outlet libera_lista_completa;
#X obj 45 183 sel 1, f 11;
#X msg 45 205 1;
#X msg 108 205 0;
#X obj 28 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 133 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 301 256 spigot 1;
#X msg 313 205 1;
#X msg 376 205 0;
#X obj 292 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 405 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 313 183 sel 0, f 11;
#X obj 301 321 outlet libera_lista_pra_ser_fatiada;
#X obj 194 75 < 0;
#X text 354 58 Se o tempo é maior ou igual a zero \, este subpatch
libera os dados para serem fatiados, f 25;
#X connect 0 0 8 0;
#X connect 1 0 15 0;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 4 0 2 0;
#X connect 4 0 6 0;
#X connect 5 0 2 0;
#X connect 5 0 7 0;
#X connect 8 0 14 0;
#X connect 9 0 11 0;
#X connect 9 0 8 1;
#X connect 10 0 12 0;
#X connect 10 0 8 1;
#X connect 13 0 9 0;
#X connect 13 1 10 0;
#X connect 15 0 3 0;
#X connect 15 0 13 0;
#X restore 82 158 pd se_tempo_é_menor_que_0;
#X f 32;
#X obj 334 451 outlet bang_de_fim;
#X connect 0 0 7 0;
#X connect 1 0 5 0;
#X connect 4 0 3 0;
#X connect 5 0 8 1;
#X connect 5 1 6 1;
#X connect 6 0 3 0;
#X connect 6 1 9 0;
#X connect 7 0 4 0;
#X connect 7 1 8 0;
#X connect 8 0 4 1;
#X connect 8 1 6 0;
#X restore 390 493 pd fatiar_lista_no_tempo;
#X obj 160 14 inlet mensagem_de_entrada;
#X obj 160 259 text search onibus_ter;
#X obj 160 282 text get onibus_ter;
#X connect 3 1 4 0;
#X connect 4 1 12 0;
#X connect 5 0 1 0;
#X connect 5 1 2 0;
#X connect 6 0 17 0;
#X connect 6 1 9 0;
#X connect 7 0 12 1;
#X connect 8 0 6 0;
#X connect 8 1 7 0;
#X connect 9 0 15 1;
#X connect 10 0 11 0;
#X connect 11 0 5 0;
#X connect 12 0 5 0;
#X connect 12 1 15 0;
#X connect 15 0 2 0;
#X connect 15 1 1 0;
#X connect 16 0 8 0;
#X connect 17 0 10 0;
#X connect 17 0 18 0;
#X connect 18 0 3 0;
#X restore 368 296 pd stops;
#N canvas 112 123 555 508 trajeto 0;
#X obj 139 27 inlet;
#X obj 285 400 outlet bang_de_fim;
#X obj 88 400 outlet saída_de_dados;
#N canvas 313 189 495 459 saída_trajeto 0;
#X text 300 17 Separa e retorna dados referentes ao primeiro e último
indicador de ponto de parada de ônibus, f 25;
#X obj 260 135 list length;
#X obj 203 174 list split;
#X obj 203 113 t l l;
#X obj 260 155 - 1;
#X msg 82 313 set symbol \$1-\$2;
#X msg 55 359 symbol 640000518id-920016702id;
#X obj 55 292 t b l;
#X obj 55 271 pack s s;
#X obj 55 59 list split 26;
#X obj 55 86 list split 1, f 50;
#X obj 55 238 list trim;
#X obj 231 238 list trim;
#X obj 55 207 list prepend symbol;
#X obj 231 207 list prepend symbol;
#X obj 55 18 inlet pontos_de_parada;
#X obj 55 408 outlet identificador_de_trajeto;
#X connect 1 0 4 0;
#X connect 2 1 14 0;
#X connect 3 0 2 0;
#X connect 3 1 1 0;
#X connect 4 0 2 1;
#X connect 5 0 6 0;
#X connect 6 0 16 0;
#X connect 7 0 6 0;
#X connect 7 1 5 0;
#X connect 8 0 7 0;
#X connect 9 1 10 0;
#X connect 10 0 13 0;
#X connect 10 1 3 0;
#X connect 11 0 8 0;
#X connect 12 0 8 1;
#X connect 13 0 11 0;
#X connect 14 0 12 0;
#X connect 15 0 9 0;
#X restore 138 313 pd saída_trajeto;
#X obj 138 82 list prepend symbol;
#X obj 138 103 list trim;
#X text 352 64 retorna um identificador de trajeto referente à linha
requerida, f 25;
#X obj 138 334 t b a;
#X obj 41 208 sel -1;
#X msg 41 229 linha não encontrada;
#X obj 203 168 text search onibus_ter;
#X obj 203 256 text get onibus_ter;
#X connect 0 0 4 0;
#X connect 3 0 7 0;
#X connect 4 0 5 0;
#X connect 5 0 10 0;
#X connect 7 0 1 0;
#X connect 7 1 2 0;
#X connect 8 0 9 0;
#X connect 9 0 7 0;
#X connect 10 0 8 0;
#X connect 10 0 11 0;
#X connect 11 0 3 0;
#X restore 655 296 pd trajeto;
#X connect 0 0 5 0;
#X connect 0 1 6 0;
#X connect 1 0 5 0;
#X connect 1 1 6 0;
#X connect 3 0 8 0;
#X connect 3 1 0 0;
#X connect 3 2 9 0;
#X connect 3 3 10 0;
#X connect 3 4 13 0;
#X connect 3 5 11 0;
#X connect 3 6 1 0;
#X connect 3 7 14 0;
#X connect 3 8 12 0;
#X connect 3 9 4 0;
#X connect 4 0 2 0;
#X connect 7 0 3 0;
#X connect 8 0 5 0;
#X connect 8 1 6 0;
#X connect 9 0 5 0;
#X connect 9 1 6 0;
#X connect 10 0 5 0;
#X connect 10 1 6 0;
#X connect 11 0 5 0;
#X connect 11 1 6 0;
#X connect 12 0 5 0;
#X connect 12 1 6 0;
#X connect 13 0 5 0;
#X connect 13 1 6 0;
#X connect 14 0 5 0;
#X connect 14 1 6 0;
#X restore 257 312 pd terça;
#N canvas 26 108 1210 602 quarta 0;
#N canvas 219 100 627 313 linhas 0;
#X text 342 89 Retorna todas as linhas de ônibus sequencialmente a
um intervalo de tempo definido, f 37;
#X obj 57 227 outlet dados;
#X obj 228 227 outlet bang_de_fim;
#X obj 127 19 inlet mensagem_de_entrada;
#N canvas 188 68 799 658 linhas_de_ônibus 0;
#X msg 172 408 line 0;
#X obj 367 125 t b b b;
#X obj 192 52 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 172 475 \$1;
#X floatatom 430 421 5 0 0 0 - - -;
#X msg 424 284 stop;
#X floatatom 525 231 5 0 0 0 - - -;
#N canvas 116 209 348 228 contador 0;
#X obj 32 117 f;
#X obj 75 117 + 1;
#X msg 141 84 -1;
#X text 69 5 CONTADOR COM RESET;
#X obj 32 144 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X text 27 206 bang de saída;
#X obj 32 188 outlet bang;
#X obj 152 188 outlet contagem;
#X text 146 206 contagem de saída;
#X obj 32 33 inlet bang;
#X text 64 48 bang de contagem, f 9;
#X obj 141 33 inlet reset;
#X text 194 48 reinicia contagem;
#X connect 0 0 1 0;
#X connect 0 0 4 0;
#X connect 0 0 7 0;
#X connect 1 0 0 1;
#X connect 2 0 1 0;
#X connect 4 0 6 0;
#X connect 9 0 0 0;
#X connect 11 0 2 0;
#X restore 367 380 pd contador;
#X obj 367 208 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 533 203 total de linhas de ônibus no dia, f 16;
#X obj 492 308 sel 10;
#N canvas 667 298 399 318 seletor 0;
#X obj 109 60 inlet;
#X obj 109 143 f;
#X obj 147 143 + 1;
#X obj 129 185 sel 1 2, f 15;
#X obj 109 112 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 89 217 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 172 217 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 214 102 1;
#X obj 89 282 outlet;
#X obj 172 282 outlet;
#X text 241 104 reseta contagem;
#X text 20 12 SELETOR - A cada bang recebido \, alterna bangs pelas
saídas.;
#X obj 214 81 loadbang;
#X connect 0 0 4 0;
#X connect 1 0 2 0;
#X connect 1 0 3 0;
#X connect 2 0 1 1;
#X connect 3 0 5 0;
#X connect 3 1 6 0;
#X connect 4 0 1 0;
#X connect 5 0 8 0;
#X connect 6 0 7 0;
#X connect 6 0 9 0;
#X connect 7 0 1 1;
#X connect 12 0 7 0;
#X restore 367 228 pd seletor;
#X obj 430 344 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 367 283 t b b b;
#X text 506 324 ao atingir o total de linhas de ônibus no dia \, o
[metro] é interrompido, f 22;
#X text 134 25 liga/desl;
#X text 380 25 tempo de leitura;
#X text 462 418 índice da linha a ser recuperada, f 11;
#X text 289 15 1;
#X text 553 17 2;
#X msg 367 408 step;
#X obj 367 350 metro 18;
#X obj 192 24 inlet liga/desl;
#X obj 480 24 inlet tempo;
#X msg 238 408 bang;
#X obj 172 544 outlet linhas;
#X obj 313 543 outlet acabou;
#X text 85 564 retorna linhas de ônibus no tempo determinado, f 24
;
#X text 345 560 bang ao terminar de retornar dados, f 18;
#X obj 238 343 t b b;
#X obj 385 104 t b f;
#X text 17 87 Máquina que retorna as linhas de ônibus a um intervalo
de tempo determinado no inlet 2 de um determinado dia, f 32;
#X floatatom 462 253 5 0 0 0 - - -;
#X obj 403 432 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 525 186 text size onibus_qua;
#X obj 172 454 text sequence onibus_qua;
#N canvas 537 137 539 406 processamento_de_dados 0;
#X floatatom 217 58 5 0 0 0 - - -;
#X obj 196 265 f, f 4;
#X floatatom 196 294 5 0 0 0 - - -;
#X obj 217 23 inlet tempo;
#X text 292 22 tempo em ms;
#X obj 196 344 outlet tempo;
#X obj 39 344 outlet zero;
#X obj 39 23 inlet bang;
#X obj 39 185 spigot 1;
#X obj 84 165 <= 0;
#X obj 39 49 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 217 78 t f f, f 8;
#X obj 39 82 t b b;
#X obj 262 99 > 0;
#X obj 196 120 spigot 0, f 12;
#X obj 39 323 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 196 241 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 311 219 Este subpatch retornará um bang pelo outlet esquerdo
sempre que o tempo de retorno fornecido entre cada linha de ônibus
seja igual ou menor que zero \, caso contrário \, retorna o tempo
pelo outlet direito para setar o [metro], f 34;
#X connect 0 0 11 0;
#X connect 1 0 2 0;
#X connect 2 0 5 0;
#X connect 3 0 0 0;
#X connect 7 0 10 0;
#X connect 8 0 15 0;
#X connect 9 0 8 1;
#X connect 10 0 12 0;
#X connect 11 0 9 0;
#X connect 11 0 1 1;
#X connect 11 1 13 0;
#X connect 12 0 8 0;
#X connect 12 1 14 0;
#X connect 13 0 14 1;
#X connect 14 0 16 0;
#X connect 15 0 6 0;
#X connect 16 0 1 0;
#X restore 238 82 pd processamento_de_dados;
#X connect 0 0 35 0;
#X connect 1 0 8 0;
#X connect 1 1 34 0;
#X connect 1 2 0 0;
#X connect 2 0 36 0;
#X connect 3 0 25 0;
#X connect 5 0 21 0;
#X connect 6 0 10 1;
#X connect 7 0 20 0;
#X connect 7 0 33 0;
#X connect 7 1 10 0;
#X connect 7 1 4 0;
#X connect 8 0 11 0;
#X connect 10 0 8 0;
#X connect 11 0 13 0;
#X connect 11 1 5 0;
#X connect 12 0 7 1;
#X connect 13 0 21 0;
#X connect 13 1 12 0;
#X connect 20 0 35 0;
#X connect 21 0 7 0;
#X connect 22 0 2 0;
#X connect 23 0 36 1;
#X connect 24 0 35 0;
#X connect 29 0 24 0;
#X connect 29 1 0 0;
#X connect 30 0 1 0;
#X connect 30 1 21 1;
#X connect 30 1 32 0;
#X connect 34 0 6 0;
#X connect 35 0 3 0;
#X connect 35 1 26 0;
#X connect 36 0 29 0;
#X connect 36 1 30 0;
#X restore 87 172 pd linhas_de_ônibus;
#X obj 127 97 t b f;
#X connect 3 0 5 0;
#X connect 4 0 1 0;
#X connect 4 1 2 0;
#X connect 5 0 4 0;
#X connect 5 1 4 1;
#X restore 100 269 pd linhas;
#N canvas 300 107 710 513 buzu 0;
#X text 433 107 aponta para o indexador numérico e retorna a linha
de ônibus associada, f 35;
#X text 13 86 indexadores negativos retornam a quantidade total de
linhas de onibus cadastradas, f 21;
#X obj 173 414 outlet saída_de_dados;
#X obj 377 414 outlet bang_de_fim;
#X obj 174 118 moses 0, f 41;
#X floatatom 174 93 5 0 0 0 - - -;
#X msg 174 139 bang;
#X obj 174 243 t b f;
#X msg 417 244 \$1;
#X obj 417 265 t b a;
#X obj 174 22 inlet mensagem_de_entrada;
#X obj 417 223 text get onibus_qua;
#X obj 174 222 text size onibus_qua;
#X connect 4 0 6 0;
#X connect 4 1 11 0;
#X connect 5 0 4 0;
#X connect 6 0 12 0;
#X connect 7 0 3 0;
#X connect 7 1 2 0;
#X connect 8 0 9 0;
#X connect 9 0 3 0;
#X connect 9 1 2 0;
#X connect 10 0 5 0;
#X connect 11 0 8 0;
#X connect 12 0 7 0;
#X restore 170 270 pd buzu;
#N canvas 66 147 556 410 start_time 0;
#X text 332 54 Retorna o valor de start_time a partir do nome da linha
de ônibus, f 35;
#X obj 112 320 outlet saída_de_dados;
#X obj 302 320 outlet bang_de_fim;
#X msg 197 243 \$2;
#X obj 142 68 list prepend symbol;
#X obj 142 89 list trim;
#X obj 197 264 t b a;
#X obj 124 19 inlet linha_de_ônibus;
#X obj 197 134 text search onibus_qua;
#X obj 197 222 text get onibus_qua;
#X obj 46 182 sel -1;
#X msg 46 203 linha não encontrada;
#X connect 3 0 6 0;
#X connect 4 0 5 0;
#X connect 5 0 8 0;
#X connect 6 0 2 0;
#X connect 6 1 1 0;
#X connect 7 0 4 0;
#X connect 8 0 9 0;
#X connect 8 0 10 0;
#X connect 9 0 3 0;
#X connect 10 0 11 0;
#X connect 11 0 6 0;
#X restore 228 270 pd start_time;
#N canvas 278 73 722 691 interval 0;
#X obj 492 626 outlet bang_de_fim;
#X obj 219 626 outlet saída_de_dados;
#X obj 158 358 list split 2;
#X obj 192 389 list split 24;
#X obj 192 545 t b a;
#X obj 158 254 text search onibus_qua;
#X obj 158 277 text get onibus_qua;
#X obj 158 131 list split 1;
#X obj 351 98 list length;
#X obj 158 84 t a a;
#X obj 492 287 list split 1;
#X obj 19 317 sel -1;
#X msg 19 338 linha não encontrada;
#N canvas 615 290 542 370 seletor_de_modo_de_saída 0;
#X obj 321 102 sel 0, f 16;
#X obj 82 211 spigot 1;
#X obj 82 70 t a a, f 32;
#X obj 271 251 spigot 1;
#X msg 321 147 1;
#X obj 321 127 t b b, f 8;
#X msg 366 147 0;
#X obj 414 157 t b b, f 8;
#X msg 414 177 0;
#X msg 459 177 1;
#X obj 82 17 inlet lista;
#X obj 321 17 inlet tamanho_da_lista;
#X obj 82 325 outlet sai_lista_completa;
#X obj 321 84 > 1;
#X obj 271 325 outlet mandar_lista_para_fatiamento;
#X connect 0 0 5 0;
#X connect 0 1 7 0;
#X connect 1 0 12 0;
#X connect 2 0 1 0;
#X connect 2 1 3 0;
#X connect 3 0 14 0;
#X connect 4 0 1 1;
#X connect 5 0 4 0;
#X connect 5 1 6 0;
#X connect 6 0 3 1;
#X connect 7 0 8 0;
#X connect 7 1 9 0;
#X connect 8 0 1 1;
#X connect 9 0 3 1;
#X connect 10 0 2 0;
#X connect 11 0 13 0;
#X connect 13 0 0 0;
#X restore 192 440 pd seletor_de_modo_de_saída;
#X text 503 303 argumento tempo, f 9;
#X text 96 134 argumento linha de ônibus, f 9;
#N canvas 733 62 502 514 fatiar_lista_no_tempo 0;
#X obj 37 37 inlet lista;
#X obj 271 37 inlet tempo;
#X text 342 38 (ms);
#X obj 37 452 outlet saída_elemento_a_elemento;
#X obj 37 225 spigot 0;
#X obj 271 109 t a a, f 11;
#N canvas 456 120 471 263 disparador_de_dados 0;
#X obj 89 17 inlet lista_de_dados;
#X obj 310 17 inlet tempo;
#X obj 89 200 outlet saída_dado_a_dado;
#X obj 89 68 list split 1, f 41;
#X obj 147 142 list append;
#X obj 28 128 del;
#X msg 28 102 bang;
#X obj 332 200 outlet bang_de_fim;
#X connect 0 0 3 0;
#X connect 1 0 5 1;
#X connect 3 0 6 0;
#X connect 3 0 2 0;
#X connect 3 1 4 1;
#X connect 3 2 7 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 6 0 5 0;
#X restore 169 267 pd disparador_de_dados;
#X f 28;
#X obj 37 111 t a a, f 8;
#N canvas 162 87 537 382 se_tempo_é_menor_que_0 0;
#X obj 35 20 inlet lista;
#X obj 194 20 inlet tempo;
#X obj 75 320 outlet libera_lista_completa;
#X obj 45 183 sel 1, f 11;
#X msg 45 205 1;
#X msg 108 205 0;
#X obj 28 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 133 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 301 256 spigot 1;
#X msg 313 205 1;
#X msg 376 205 0;
#X obj 292 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 405 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 313 183 sel 0, f 11;
#X obj 301 321 outlet libera_lista_pra_ser_fatiada;
#X obj 194 75 < 0;
#X text 354 58 Se o tempo é maior ou igual a zero \, este subpatch
libera os dados para serem fatiados, f 25;
#X connect 0 0 8 0;
#X connect 1 0 15 0;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 4 0 2 0;
#X connect 4 0 6 0;
#X connect 5 0 2 0;
#X connect 5 0 7 0;
#X connect 8 0 14 0;
#X connect 9 0 11 0;
#X connect 9 0 8 1;
#X connect 10 0 12 0;
#X connect 10 0 8 1;
#X connect 13 0 9 0;
#X connect 13 1 10 0;
#X connect 15 0 3 0;
#X connect 15 0 13 0;
#X restore 82 158 pd se_tempo_é_menor_que_0;
#X f 32;
#X obj 334 451 outlet bang_de_fim;
#X connect 0 0 7 0;
#X connect 1 0 5 0;
#X connect 4 0 3 0;
#X connect 5 0 8 1;
#X connect 5 1 6 1;
#X connect 6 0 3 0;
#X connect 6 1 9 0;
#X connect 7 0 4 0;
#X connect 7 1 8 0;
#X connect 8 0 4 1;
#X connect 8 1 6 0;
#X restore 351 488 pd fatiar_lista_no_tempo;
#X text 528 62 envia todos os dados de interval referentes a linha
requerida, f 22;
#X obj 158 9 inlet mensagem_de_entrada;
#X connect 2 1 3 0;
#X connect 3 0 13 0;
#X connect 4 0 0 0;
#X connect 4 1 1 0;
#X connect 5 0 6 0;
#X connect 5 0 11 0;
#X connect 6 0 2 0;
#X connect 7 0 5 0;
#X connect 7 1 10 0;
#X connect 8 0 13 1;
#X connect 9 0 7 0;
#X connect 9 1 8 0;
#X connect 10 0 16 1;
#X connect 11 0 12 0;
#X connect 12 0 4 0;
#X connect 13 0 4 0;
#X connect 13 1 16 0;
#X connect 16 0 1 0;
#X connect 16 1 0 0;
#X connect 18 0 9 0;
#X restore 319 270 pd interval;
#N canvas 51 126 480 585 coordenadas 0;
#X obj 272 475 outlet bang_de_fim;
#X obj 75 475 outlet saída_de_dados;
#X obj 63 68 list prepend symbol;
#X obj 63 89 list trim;
#X obj 39 35 inlet identificador;
#X text 243 321 envia os dados de coordenadas referentes ao identificador
, f 31;
#X obj 98 243 list split 1;
#X obj 132 270 list split 2;
#X obj 100 318 t b a;
#X obj 98 164 text search coordenadas_qua;
#X obj 98 202 text get coordenadas_qua;
#X connect 2 0 3 0;
#X connect 3 0 9 0;
#X connect 4 0 2 0;
#X connect 6 1 7 0;
#X connect 7 0 8 0;
#X connect 8 0 0 0;
#X connect 8 1 1 0;
#X connect 9 0 10 0;
#X connect 10 0 6 0;
#X restore 535 270 pd coordenadas;
#N canvas 84 68 712 602 avgspeed 0;
#X obj 398 538 outlet bang_de_fim;
#X obj 231 538 outlet saída_de_dados;
#X text 487 61 envia todos os dados de velocidade média referentes
ao identificador de trajeto, f 29;
#X obj 170 24 inlet identificador_de_trajeto;
#X obj 204 399 t b a;
#X obj 170 204 text search trajetos_qua;
#X obj 170 232 text get trajetos_qua;
#X obj 19 257 sel -1;
#X msg 19 278 linha não encontrada;
#N canvas 615 290 542 370 seletor_de_modo_de_saída 0;
#X obj 321 102 sel 0, f 16;
#X obj 82 211 spigot 1;
#X obj 82 70 t a a, f 32;
#X obj 271 251 spigot 1;
#X msg 321 147 1;
#X obj 321 127 t b b, f 8;
#X msg 366 147 0;
#X obj 414 157 t b b, f 8;
#X msg 414 177 0;
#X msg 459 177 1;
#X obj 82 17 inlet lista;
#X obj 321 17 inlet tamanho_da_lista;
#X obj 82 325 outlet sai_lista_completa;
#X obj 321 84 > 1;
#X obj 271 325 outlet manda_lista_para_fatiamento;
#X connect 0 0 5 0;
#X connect 0 1 7 0;
#X connect 1 0 12 0;
#X connect 2 0 1 0;
#X connect 2 1 3 0;
#X connect 3 0 14 0;
#X connect 4 0 1 1;
#X connect 5 0 4 0;
#X connect 5 1 6 0;
#X connect 6 0 3 1;
#X connect 7 0 8 0;
#X connect 7 1 9 0;
#X connect 8 0 1 1;
#X connect 9 0 3 1;
#X connect 10 0 2 0;
#X connect 11 0 13 0;
#X connect 13 0 0 0;
#X restore 204 347 pd seletor_de_modo_de_saída;
#X obj 363 99 list length;
#X obj 170 85 t a a;
#X obj 170 115 list split 1;
#X obj 504 244 list split 1;
#N canvas 733 62 502 514 fatiar_lista_no_tempo 0;
#X obj 37 37 inlet lista;
#X obj 271 37 inlet tempo;
#X text 342 38 (ms);
#X obj 37 452 outlet saída_elemento_a_elemento;
#X obj 37 225 spigot 0;
#X obj 271 109 t a a, f 11;
#N canvas 456 120 471 263 disparador_de_dados 0;
#X obj 89 17 inlet lista_de_dados;
#X obj 310 17 inlet tempo;
#X obj 89 200 outlet saída_dado_a_dado;
#X obj 89 68 list split 1, f 41;
#X obj 147 142 list append;
#X obj 28 128 del;
#X msg 28 102 bang;
#X obj 332 200 outlet bang_de_fim;
#X connect 0 0 3 0;
#X connect 1 0 5 1;
#X connect 3 0 6 0;
#X connect 3 0 2 0;
#X connect 3 1 4 1;
#X connect 3 2 7 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 6 0 5 0;
#X restore 169 267 pd disparador_de_dados;
#X f 28;
#X obj 37 111 t a a, f 8;
#N canvas 162 87 537 382 se_tempo_é_menor_que_0 0;
#X obj 35 20 inlet lista;
#X obj 194 20 inlet tempo;
#X obj 75 320 outlet libera_lista_completa;
#X obj 45 183 sel 1, f 11;
#X msg 45 205 1;
#X msg 108 205 0;
#X obj 28 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 133 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 301 256 spigot 1;
#X msg 313 205 1;
#X msg 376 205 0;
#X obj 292 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 405 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 313 183 sel 0, f 11;
#X obj 301 321 outlet libera_lista_pra_ser_fatiada;
#X obj 194 75 < 0;
#X text 354 58 Se o tempo é maior ou igual a zero \, este subpatch
libera os dados para serem fatiados, f 25;
#X connect 0 0 8 0;
#X connect 1 0 15 0;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 4 0 2 0;
#X connect 4 0 6 0;
#X connect 5 0 2 0;
#X connect 5 0 7 0;
#X connect 8 0 14 0;
#X connect 9 0 11 0;
#X connect 9 0 8 1;
#X connect 10 0 12 0;
#X connect 10 0 8 1;
#X connect 13 0 9 0;
#X connect 13 1 10 0;
#X connect 15 0 3 0;
#X connect 15 0 13 0;
#X restore 82 158 pd se_tempo_é_menor_que_0;
#X f 32;
#X obj 334 451 outlet bang_de_fim;
#X connect 0 0 7 0;
#X connect 1 0 5 0;
#X connect 4 0 3 0;
#X connect 5 0 8 1;
#X connect 5 1 6 1;
#X connect 6 0 3 0;
#X connect 6 1 9 0;
#X connect 7 0 4 0;
#X connect 7 1 8 0;
#X connect 8 0 4 1;
#X connect 8 1 6 0;
#X restore 363 381 pd fatiar_lista_no_tempo;
#X text 583 242 tempo, f 6;
#X text 24 131 identificador de trajeto;
#X obj 170 313 list split 2;
#X connect 3 0 11 0;
#X connect 4 0 0 0;
#X connect 4 1 1 0;
#X connect 5 0 6 0;
#X connect 5 0 7 0;
#X connect 6 0 17 0;
#X connect 7 0 8 0;
#X connect 8 0 4 0;
#X connect 9 0 4 0;
#X connect 9 1 14 0;
#X connect 10 0 9 1;
#X connect 11 0 12 0;
#X connect 11 1 10 0;
#X connect 12 0 5 0;
#X connect 12 1 13 0;
#X connect 13 0 14 1;
#X connect 14 0 1 0;
#X connect 14 1 0 0;
#X connect 17 1 9 0;
#X restore 804 270 pd avgspeed;
#N canvas 71 172 445 512 zona 0;
#X obj 242 415 outlet bang_de_fim;
#X obj 45 415 outlet saída_de_dados;
#X obj 63 68 list prepend symbol;
#X obj 63 89 list trim;
#X obj 39 35 inlet identificador;
#X obj 100 318 t b a;
#X text 221 90 envia o dado de zona referente ao identificador, f
31;
#X obj 98 243 list split 3;
#X obj 98 164 text search coordenadas_qua;
#X obj 98 202 text get coordenadas_qua;
#X connect 2 0 3 0;
#X connect 3 0 8 0;
#X connect 4 0 2 0;
#X connect 5 0 0 0;
#X connect 5 1 1 0;
#X connect 7 1 5 0;
#X connect 8 0 9 0;
#X connect 9 0 7 0;
#X restore 633 270 pd zona;
#N canvas 122 28 757 674 stops 0;
#X text 547 153 envia todos os dados de stops referentes à linha requerida
, f 25;
#X obj 531 631 outlet bang_de_fim;
#X obj 258 631 outlet saída_de_dados;
#X obj 160 363 list split 2;
#X obj 194 394 list split 24;
#X obj 231 550 t b a;
#X obj 160 259 text search onibus_qua;
#X obj 160 282 text get onibus_qua;
#X obj 160 136 list split 1;
#X obj 390 103 list length;
#X obj 160 89 t a a;
#X obj 531 292 list split 1;
#X obj 21 322 sel -1;
#X msg 21 343 linha não encontrada;
#N canvas 615 290 542 370 seletor_de_modo_de_saída 0;
#X obj 321 102 sel 0, f 16;
#X obj 82 211 spigot 1;
#X obj 82 70 t a a, f 32;
#X obj 271 251 spigot 1;
#X msg 321 147 1;
#X obj 321 127 t b b, f 8;
#X msg 366 147 0;
#X obj 414 157 t b b, f 8;
#X msg 414 177 0;
#X msg 459 177 1;
#X obj 82 17 inlet lista;
#X obj 321 17 inlet tamanho_da_lista;
#X obj 82 325 outlet sai_lista_completa;
#X obj 271 325 outlet sair_lista_elemento_a_elemento;
#X obj 321 84 > 1;
#X connect 0 0 5 0;
#X connect 0 1 7 0;
#X connect 1 0 12 0;
#X connect 2 0 1 0;
#X connect 2 1 3 0;
#X connect 3 0 13 0;
#X connect 4 0 1 1;
#X connect 5 0 4 0;
#X connect 5 1 6 0;
#X connect 6 0 3 1;
#X connect 7 0 8 0;
#X connect 7 1 9 0;
#X connect 8 0 1 1;
#X connect 9 0 3 1;
#X connect 10 0 2 0;
#X connect 11 0 14 0;
#X connect 14 0 0 0;
#X restore 231 445 pd seletor_de_modo_de_saída;
#X text 542 308 argumento tempo, f 9;
#X text 98 139 argumento linha de ônibus, f 9;
#N canvas 733 62 502 514 fatiar_lista_no_tempo 0;
#X obj 37 37 inlet lista;
#X obj 271 37 inlet tempo;
#X text 342 38 (ms);
#X obj 37 452 outlet saída_elemento_a_elemento;
#X obj 37 225 spigot 0;
#X obj 271 109 t a a, f 11;
#N canvas 456 120 471 263 disparador_de_dados 0;
#X obj 89 17 inlet lista_de_dados;
#X obj 310 17 inlet tempo;
#X obj 89 200 outlet saída_dado_a_dado;
#X obj 89 68 list split 1, f 41;
#X obj 147 142 list append;
#X obj 28 128 del;
#X msg 28 102 bang;
#X obj 332 200 outlet bang_de_fim;
#X connect 0 0 3 0;
#X connect 1 0 5 1;
#X connect 3 0 6 0;
#X connect 3 0 2 0;
#X connect 3 1 4 1;
#X connect 3 2 7 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 6 0 5 0;
#X restore 169 267 pd disparador_de_dados;
#X f 28;
#X obj 37 111 t a a, f 8;
#N canvas 162 87 537 382 se_tempo_é_menor_que_0 0;
#X obj 35 20 inlet lista;
#X obj 194 20 inlet tempo;
#X obj 75 320 outlet libera_lista_completa;
#X obj 45 183 sel 1, f 11;
#X msg 45 205 1;
#X msg 108 205 0;
#X obj 28 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 133 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 301 256 spigot 1;
#X msg 313 205 1;
#X msg 376 205 0;
#X obj 292 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 405 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 313 183 sel 0, f 11;
#X obj 301 321 outlet libera_lista_pra_ser_fatiada;
#X obj 194 75 < 0;
#X text 354 58 Se o tempo é maior ou igual a zero \, este subpatch
libera os dados para serem fatiados, f 25;
#X connect 0 0 8 0;
#X connect 1 0 15 0;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 4 0 2 0;
#X connect 4 0 6 0;
#X connect 5 0 2 0;
#X connect 5 0 7 0;
#X connect 8 0 14 0;
#X connect 9 0 11 0;
#X connect 9 0 8 1;
#X connect 10 0 12 0;
#X connect 10 0 8 1;
#X connect 13 0 9 0;
#X connect 13 1 10 0;
#X connect 15 0 3 0;
#X connect 15 0 13 0;
#X restore 82 158 pd se_tempo_é_menor_que_0;
#X f 32;
#X obj 334 451 outlet bang_de_fim;
#X connect 0 0 7 0;
#X connect 1 0 5 0;
#X connect 4 0 3 0;
#X connect 5 0 8 1;
#X connect 5 1 6 1;
#X connect 6 0 3 0;
#X connect 6 1 9 0;
#X connect 7 0 4 0;
#X connect 7 1 8 0;
#X connect 8 0 4 1;
#X connect 8 1 6 0;
#X restore 390 493 pd fatiar_lista_no_tempo;
#X obj 160 14 inlet mensagem_de_entrada;
#X connect 3 1 4 0;
#X connect 4 1 14 0;
#X connect 5 0 1 0;
#X connect 5 1 2 0;
#X connect 6 0 7 0;
#X connect 6 0 12 0;
#X connect 7 0 3 0;
#X connect 8 0 6 0;
#X connect 8 1 11 0;
#X connect 9 0 14 1;
#X connect 10 0 8 0;
#X connect 10 1 9 0;
#X connect 11 0 17 1;
#X connect 12 0 13 0;
#X connect 13 0 5 0;
#X connect 14 0 5 0;
#X connect 14 1 17 0;
#X connect 17 0 2 0;
#X connect 17 1 1 0;
#X connect 18 0 10 0;
#X restore 399 270 pd stops;
#X obj 822 181 print Erro;
#N canvas 112 123 555 508 trajeto 0;
#X obj 139 27 inlet;
#X obj 285 400 outlet bang_de_fim;
#X obj 88 400 outlet saída_de_dados;
#N canvas 313 189 495 459 saída_trajeto 0;
#X text 300 17 Separa e retorna dados referentes ao primeiro e último
indicador de ponto de parada de ônibus, f 25;
#X obj 260 135 list length;
#X obj 203 174 list split;
#X obj 203 113 t l l;
#X obj 260 155 - 1;
#X msg 82 313 set symbol \$1-\$2;
#X msg 55 359 symbol 640000518id-920016702id;
#X obj 55 292 t b l;
#X obj 55 271 pack s s;
#X obj 55 59 list split 26;
#X obj 55 86 list split 1, f 50;
#X obj 55 238 list trim;
#X obj 231 238 list trim;
#X obj 55 207 list prepend symbol;
#X obj 231 207 list prepend symbol;
#X obj 55 18 inlet pontos_de_parada;
#X obj 55 408 outlet identificador_de_trajeto;
#X connect 1 0 4 0;
#X connect 2 1 14 0;
#X connect 3 0 2 0;
#X connect 3 1 1 0;
#X connect 4 0 2 1;
#X connect 5 0 6 0;
#X connect 6 0 16 0;
#X connect 7 0 6 0;
#X connect 7 1 5 0;
#X connect 8 0 7 0;
#X connect 9 1 10 0;
#X connect 10 0 13 0;
#X connect 10 1 3 0;
#X connect 11 0 8 0;
#X connect 12 0 8 1;
#X connect 13 0 11 0;
#X connect 14 0 12 0;
#X connect 15 0 9 0;
#X restore 138 313 pd saída_trajeto;
#X obj 138 82 list prepend symbol;
#X obj 138 103 list trim;
#X text 352 64 retorna um identificador de trajeto referente à linha
requerida, f 25;
#X obj 138 334 t b a;
#X obj 203 168 text search onibus_qua;
#X obj 203 256 text get onibus_qua;
#X obj 41 208 sel -1;
#X msg 41 229 linha não encontrada;
#X connect 0 0 4 0;
#X connect 3 0 7 0;
#X connect 4 0 5 0;
#X connect 5 0 8 0;
#X connect 7 0 1 0;
#X connect 7 1 2 0;
#X connect 8 0 9 0;
#X connect 8 0 10 0;
#X connect 9 0 3 0;
#X connect 10 0 11 0;
#X connect 11 0 7 0;
#X restore 686 270 pd trajeto;
#X obj 161 120 route linhas buzu start_time interval stops coordenadas
zona trajeto avgspeed, f 103;
#X msg 822 160 Verifique a formatação da mensagem no Help;
#X obj 239 502 outlet saída_de_dados;
#X obj 669 502 outlet bang_de_fim;
#X obj 161 24 inlet mensagem_de_entrada;
#X connect 0 0 12 0;
#X connect 0 1 13 0;
#X connect 1 0 12 0;
#X connect 1 1 13 0;
#X connect 2 0 12 0;
#X connect 2 1 13 0;
#X connect 3 0 12 0;
#X connect 3 1 13 0;
#X connect 4 0 12 0;
#X connect 4 1 13 0;
#X connect 5 0 12 0;
#X connect 5 1 13 0;
#X connect 6 0 12 0;
#X connect 6 1 13 0;
#X connect 7 0 12 0;
#X connect 7 1 13 0;
#X connect 9 0 12 0;
#X connect 9 1 13 0;
#X connect 10 0 0 0;
#X connect 10 1 1 0;
#X connect 10 2 2 0;
#X connect 10 3 3 0;
#X connect 10 4 7 0;
#X connect 10 5 4 0;
#X connect 10 6 6 0;
#X connect 10 7 9 0;
#X connect 10 8 5 0;
#X connect 10 9 11 0;
#X connect 11 0 8 0;
#X connect 14 0 10 0;
#X restore 319 312 pd quarta;
#N canvas 44 53 1111 609 quinta 0;
#N canvas 300 107 710 513 buzu 0;
#X text 433 107 aponta para o indexador numérico e retorna a linha
de ônibus associada, f 35;
#X text 13 86 indexadores negativos retornam a quantidade total de
linhas de onibus cadastradas, f 21;
#X obj 173 414 outlet saída_de_dados;
#X obj 377 414 outlet bang_de_fim;
#X obj 174 118 moses 0, f 41;
#X floatatom 174 93 5 0 0 0 - - -;
#X msg 174 139 bang;
#X obj 174 243 t b f;
#X msg 417 244 \$1;
#X obj 417 265 t b a;
#X obj 174 22 inlet mensagem_de_entrada;
#X obj 417 223 text get onibus_qui;
#X obj 174 222 text size onibus_qui;
#X connect 4 0 6 0;
#X connect 4 1 11 0;
#X connect 5 0 4 0;
#X connect 6 0 12 0;
#X connect 7 0 3 0;
#X connect 7 1 2 0;
#X connect 8 0 9 0;
#X connect 9 0 3 0;
#X connect 9 1 2 0;
#X connect 10 0 5 0;
#X connect 11 0 8 0;
#X connect 12 0 7 0;
#X restore 144 306 pd buzu;
#N canvas 71 172 445 512 zona 0;
#X obj 242 415 outlet bang_de_fim;
#X obj 45 415 outlet saída_de_dados;
#X obj 63 68 list prepend symbol;
#X obj 63 89 list trim;
#X obj 39 35 inlet identificador;
#X obj 100 318 t b a;
#X text 221 90 envia o dado de zona referente ao identificador, f
31;
#X obj 98 243 list split 3;
#X obj 98 164 text search coordenadas_qui;
#X obj 98 202 text get coordenadas_qui;
#X connect 2 0 3 0;
#X connect 3 0 8 0;
#X connect 4 0 2 0;
#X connect 5 0 0 0;
#X connect 5 1 1 0;
#X connect 7 1 5 0;
#X connect 8 0 9 0;
#X connect 9 0 7 0;
#X restore 607 306 pd zona;
#X obj 796 217 print Erro;
#X obj 135 156 route linhas buzu start_time interval stops coordenadas
zona trajeto avgspeed, f 103;
#X msg 796 196 Verifique a formatação da mensagem no Help;
#X obj 213 538 outlet saída_de_dados;
#X obj 643 538 outlet bang_de_fim;
#X obj 135 60 inlet mensagem_de_entrada;
#N canvas 219 100 627 313 linhas 0;
#X text 342 89 Retorna todas as linhas de ônibus sequencialmente a
um intervalo de tempo definido, f 37;
#X obj 57 227 outlet dados;
#X obj 228 227 outlet bang_de_fim;
#X obj 127 19 inlet mensagem_de_entrada;
#N canvas 188 68 799 658 linhas_de_ônibus 0;
#X msg 172 408 line 0;
#X obj 367 125 t b b b;
#X obj 192 52 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 172 475 \$1;
#X floatatom 430 421 5 0 0 0 - - -;
#X msg 424 284 stop;
#X floatatom 525 231 5 0 0 0 - - -;
#N canvas 116 209 348 228 contador 0;
#X obj 32 117 f;
#X obj 75 117 + 1;
#X msg 141 84 -1;
#X text 69 5 CONTADOR COM RESET;
#X obj 32 144 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X text 27 206 bang de saída;
#X obj 32 188 outlet bang;
#X obj 152 188 outlet contagem;
#X text 146 206 contagem de saída;
#X obj 32 33 inlet bang;
#X text 64 48 bang de contagem, f 9;
#X obj 141 33 inlet reset;
#X text 194 48 reinicia contagem;
#X connect 0 0 1 0;
#X connect 0 0 4 0;
#X connect 0 0 7 0;
#X connect 1 0 0 1;
#X connect 2 0 1 0;
#X connect 4 0 6 0;
#X connect 9 0 0 0;
#X connect 11 0 2 0;
#X restore 367 380 pd contador;
#X obj 367 208 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 533 203 total de linhas de ônibus no dia, f 16;
#X obj 492 308 sel 10;
#N canvas 667 298 399 318 seletor 0;
#X obj 109 60 inlet;
#X obj 109 143 f;
#X obj 147 143 + 1;
#X obj 129 185 sel 1 2, f 15;
#X obj 109 112 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 89 217 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 172 217 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 214 102 1;
#X obj 89 282 outlet;
#X obj 172 282 outlet;
#X text 241 104 reseta contagem;
#X text 20 12 SELETOR - A cada bang recebido \, alterna bangs pelas
saídas.;
#X obj 214 81 loadbang;
#X connect 0 0 4 0;
#X connect 1 0 2 0;
#X connect 1 0 3 0;
#X connect 2 0 1 1;
#X connect 3 0 5 0;
#X connect 3 1 6 0;
#X connect 4 0 1 0;
#X connect 5 0 8 0;
#X connect 6 0 7 0;
#X connect 6 0 9 0;
#X connect 7 0 1 1;
#X connect 12 0 7 0;
#X restore 367 228 pd seletor;
#X obj 430 344 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 367 283 t b b b;
#X text 506 324 ao atingir o total de linhas de ônibus no dia \, o
[metro] é interrompido, f 22;
#X text 134 25 liga/desl;
#X text 380 25 tempo de leitura;
#X text 462 418 índice da linha a ser recuperada, f 11;
#X text 289 15 1;
#X text 553 17 2;
#X msg 367 408 step;
#X obj 367 350 metro 18;
#X obj 192 24 inlet liga/desl;
#X obj 480 24 inlet tempo;
#X msg 238 408 bang;
#X obj 172 544 outlet linhas;
#X obj 313 543 outlet acabou;
#X text 85 564 retorna linhas de ônibus no tempo determinado, f 24
;
#X text 345 560 bang ao terminar de retornar dados, f 18;
#X obj 238 343 t b b;
#X obj 385 104 t b f;
#X text 17 87 Máquina que retorna as linhas de ônibus a um intervalo
de tempo determinado no inlet 2 de um determinado dia, f 32;
#X floatatom 462 253 5 0 0 0 - - -;
#X obj 403 432 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#N canvas 537 137 539 406 processamento_de_dados 0;
#X floatatom 217 58 5 0 0 0 - - -;
#X obj 196 265 f, f 4;
#X floatatom 196 294 5 0 0 0 - - -;
#X obj 217 23 inlet tempo;
#X text 292 22 tempo em ms;
#X obj 196 344 outlet tempo;
#X obj 39 344 outlet zero;
#X obj 39 23 inlet bang;
#X obj 39 185 spigot 1;
#X obj 84 165 <= 0;
#X obj 39 49 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 217 78 t f f, f 8;
#X obj 39 82 t b b;
#X obj 262 99 > 0;
#X obj 196 120 spigot 0, f 12;
#X obj 39 323 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 196 241 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 311 219 Este subpatch retornará um bang pelo outlet esquerdo
sempre que o tempo de retorno fornecido entre cada linha de ônibus
seja igual ou menor que zero \, caso contrário \, retorna o tempo
pelo outlet direito para setar o [metro], f 34;
#X connect 0 0 11 0;
#X connect 1 0 2 0;
#X connect 2 0 5 0;
#X connect 3 0 0 0;
#X connect 7 0 10 0;
#X connect 8 0 15 0;
#X connect 9 0 8 1;
#X connect 10 0 12 0;
#X connect 11 0 9 0;
#X connect 11 0 1 1;
#X connect 11 1 13 0;
#X connect 12 0 8 0;
#X connect 12 1 14 0;
#X connect 13 0 14 1;
#X connect 14 0 16 0;
#X connect 15 0 6 0;
#X connect 16 0 1 0;
#X restore 238 82 pd processamento_de_dados;
#X obj 525 186 text size onibus_qui;
#X obj 172 454 text sequence onibus_qui;
#X connect 0 0 36 0;
#X connect 1 0 8 0;
#X connect 1 1 35 0;
#X connect 1 2 0 0;
#X connect 2 0 34 0;
#X connect 3 0 25 0;
#X connect 5 0 21 0;
#X connect 6 0 10 1;
#X connect 7 0 20 0;
#X connect 7 0 33 0;
#X connect 7 1 10 0;
#X connect 7 1 4 0;
#X connect 8 0 11 0;
#X connect 10 0 8 0;
#X connect 11 0 13 0;
#X connect 11 1 5 0;
#X connect 12 0 7 1;
#X connect 13 0 21 0;
#X connect 13 1 12 0;
#X connect 20 0 36 0;
#X connect 21 0 7 0;
#X connect 22 0 2 0;
#X connect 23 0 34 1;
#X connect 24 0 36 0;
#X connect 29 0 24 0;
#X connect 29 1 0 0;
#X connect 30 0 1 0;
#X connect 30 1 21 1;
#X connect 30 1 32 0;
#X connect 34 0 29 0;
#X connect 34 1 30 0;
#X connect 35 0 6 0;
#X connect 36 0 3 0;
#X connect 36 1 26 0;
#X restore 87 172 pd linhas_de_ônibus;
#X obj 127 97 t b f;
#X connect 3 0 5 0;
#X connect 4 0 1 0;
#X connect 4 1 2 0;
#X connect 5 0 4 0;
#X connect 5 1 4 1;
#X restore 73 305 pd linhas;
#N canvas 66 147 556 410 start_time 0;
#X text 332 54 Retorna o valor de start_time a partir do nome da linha
de ônibus, f 35;
#X obj 112 320 outlet saída_de_dados;
#X obj 302 320 outlet bang_de_fim;
#X msg 197 243 \$2;
#X obj 142 68 list prepend symbol;
#X obj 142 89 list trim;
#X obj 197 264 t b a;
#X obj 124 19 inlet linha_de_ônibus;
#X obj 46 182 sel -1;
#X msg 46 203 linha não encontrada;
#X obj 197 134 text search onibus_qui;
#X obj 197 222 text get onibus_qui;
#X connect 3 0 6 0;
#X connect 4 0 5 0;
#X connect 5 0 10 0;
#X connect 6 0 2 0;
#X connect 6 1 1 0;
#X connect 7 0 4 0;
#X connect 8 0 9 0;
#X connect 9 0 6 0;
#X connect 10 0 8 0;
#X connect 10 0 11 0;
#X connect 11 0 3 0;
#X restore 201 306 pd start_time;
#N canvas 278 73 722 691 interval 0;
#X obj 492 626 outlet bang_de_fim;
#X obj 219 626 outlet saída_de_dados;
#X obj 158 358 list split 2;
#X obj 192 389 list split 24;
#X obj 192 545 t b a;
#X obj 158 131 list split 1;
#X obj 351 98 list length;
#X obj 158 84 t a a;
#X obj 492 287 list split 1;
#X obj 19 317 sel -1;
#X msg 19 338 linha não encontrada;
#N canvas 615 290 542 370 seletor_de_modo_de_saída 0;
#X obj 321 102 sel 0, f 16;
#X obj 82 211 spigot 1;
#X obj 82 70 t a a, f 32;
#X obj 271 251 spigot 1;
#X msg 321 147 1;
#X obj 321 127 t b b, f 8;
#X msg 366 147 0;
#X obj 414 157 t b b, f 8;
#X msg 414 177 0;
#X msg 459 177 1;
#X obj 82 17 inlet lista;
#X obj 321 17 inlet tamanho_da_lista;
#X obj 82 325 outlet sai_lista_completa;
#X obj 321 84 > 1;
#X obj 271 325 outlet mandar_lista_para_fatiamento;
#X connect 0 0 5 0;
#X connect 0 1 7 0;
#X connect 1 0 12 0;
#X connect 2 0 1 0;
#X connect 2 1 3 0;
#X connect 3 0 14 0;
#X connect 4 0 1 1;
#X connect 5 0 4 0;
#X connect 5 1 6 0;
#X connect 6 0 3 1;
#X connect 7 0 8 0;
#X connect 7 1 9 0;
#X connect 8 0 1 1;
#X connect 9 0 3 1;
#X connect 10 0 2 0;
#X connect 11 0 13 0;
#X connect 13 0 0 0;
#X restore 192 440 pd seletor_de_modo_de_saída;
#X text 503 303 argumento tempo, f 9;
#X text 96 134 argumento linha de ônibus, f 9;
#N canvas 733 62 502 514 fatiar_lista_no_tempo 0;
#X obj 37 37 inlet lista;
#X obj 271 37 inlet tempo;
#X text 342 38 (ms);
#X obj 37 452 outlet saída_elemento_a_elemento;
#X obj 37 225 spigot 0;
#X obj 271 109 t a a, f 11;
#N canvas 456 120 471 263 disparador_de_dados 0;
#X obj 89 17 inlet lista_de_dados;
#X obj 310 17 inlet tempo;
#X obj 89 200 outlet saída_dado_a_dado;
#X obj 89 68 list split 1, f 41;
#X obj 147 142 list append;
#X obj 28 128 del;
#X msg 28 102 bang;
#X obj 332 200 outlet bang_de_fim;
#X connect 0 0 3 0;
#X connect 1 0 5 1;
#X connect 3 0 6 0;
#X connect 3 0 2 0;
#X connect 3 1 4 1;
#X connect 3 2 7 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 6 0 5 0;
#X restore 169 267 pd disparador_de_dados;
#X f 28;
#X obj 37 111 t a a, f 8;
#N canvas 162 87 537 382 se_tempo_é_menor_que_0 0;
#X obj 35 20 inlet lista;
#X obj 194 20 inlet tempo;
#X obj 75 320 outlet libera_lista_completa;
#X obj 45 183 sel 1, f 11;
#X msg 45 205 1;
#X msg 108 205 0;
#X obj 28 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 133 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 301 256 spigot 1;
#X msg 313 205 1;
#X msg 376 205 0;
#X obj 292 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 405 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 313 183 sel 0, f 11;
#X obj 301 321 outlet libera_lista_pra_ser_fatiada;
#X obj 194 75 < 0;
#X text 354 58 Se o tempo é maior ou igual a zero \, este subpatch
libera os dados para serem fatiados, f 25;
#X connect 0 0 8 0;
#X connect 1 0 15 0;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 4 0 2 0;
#X connect 4 0 6 0;
#X connect 5 0 2 0;
#X connect 5 0 7 0;
#X connect 8 0 14 0;
#X connect 9 0 11 0;
#X connect 9 0 8 1;
#X connect 10 0 12 0;
#X connect 10 0 8 1;
#X connect 13 0 9 0;
#X connect 13 1 10 0;
#X connect 15 0 3 0;
#X connect 15 0 13 0;
#X restore 82 158 pd se_tempo_é_menor_que_0;
#X f 32;
#X obj 334 451 outlet bang_de_fim;
#X connect 0 0 7 0;
#X connect 1 0 5 0;
#X connect 4 0 3 0;
#X connect 5 0 8 1;
#X connect 5 1 6 1;
#X connect 6 0 3 0;
#X connect 6 1 9 0;
#X connect 7 0 4 0;
#X connect 7 1 8 0;
#X connect 8 0 4 1;
#X connect 8 1 6 0;
#X restore 351 488 pd fatiar_lista_no_tempo;
#X text 528 62 envia todos os dados de interval referentes a linha
requerida, f 22;
#X obj 158 9 inlet mensagem_de_entrada;
#X obj 158 254 text search onibus_qui;
#X obj 158 277 text get onibus_qui;
#X connect 2 1 3 0;
#X connect 3 0 11 0;
#X connect 4 0 0 0;
#X connect 4 1 1 0;
#X connect 5 0 17 0;
#X connect 5 1 8 0;
#X connect 6 0 11 1;
#X connect 7 0 5 0;
#X connect 7 1 6 0;
#X connect 8 0 14 1;
#X connect 9 0 10 0;
#X connect 10 0 4 0;
#X connect 11 0 4 0;
#X connect 11 1 14 0;
#X connect 14 0 1 0;
#X connect 14 1 0 0;
#X connect 16 0 7 0;
#X connect 17 0 9 0;
#X connect 17 0 18 0;
#X connect 18 0 2 0;
#X restore 292 306 pd interval;
#N canvas 51 126 480 585 coordenadas 0;
#X obj 272 475 outlet bang_de_fim;
#X obj 75 475 outlet saída_de_dados;
#X obj 63 68 list prepend symbol;
#X obj 63 89 list trim;
#X obj 39 35 inlet identificador;
#X text 243 321 envia os dados de coordenadas referentes ao identificador
, f 31;
#X obj 98 243 list split 1;
#X obj 132 270 list split 2;
#X obj 100 318 t b a;
#X obj 98 164 text search coordenadas_qui;
#X obj 98 202 text get coordenadas_qui;
#X connect 2 0 3 0;
#X connect 3 0 9 0;
#X connect 4 0 2 0;
#X connect 6 1 7 0;
#X connect 7 0 8 0;
#X connect 8 0 0 0;
#X connect 8 1 1 0;
#X connect 9 0 10 0;
#X connect 10 0 6 0;
#X restore 508 306 pd coordenadas;
#N canvas 84 68 712 602 avgspeed 0;
#X obj 398 538 outlet bang_de_fim;
#X obj 231 538 outlet saída_de_dados;
#X text 487 61 envia todos os dados de velocidade média referentes
ao identificador de trajeto, f 29;
#X obj 170 24 inlet identificador_de_trajeto;
#X obj 204 399 t b a;
#X obj 19 257 sel -1;
#X msg 19 278 linha não encontrada;
#N canvas 615 290 542 370 seletor_de_modo_de_saída 0;
#X obj 321 102 sel 0, f 16;
#X obj 82 211 spigot 1;
#X obj 82 70 t a a, f 32;
#X obj 271 251 spigot 1;
#X msg 321 147 1;
#X obj 321 127 t b b, f 8;
#X msg 366 147 0;
#X obj 414 157 t b b, f 8;
#X msg 414 177 0;
#X msg 459 177 1;
#X obj 82 17 inlet lista;
#X obj 321 17 inlet tamanho_da_lista;
#X obj 82 325 outlet sai_lista_completa;
#X obj 321 84 > 1;
#X obj 271 325 outlet manda_lista_para_fatiamento;
#X connect 0 0 5 0;
#X connect 0 1 7 0;
#X connect 1 0 12 0;
#X connect 2 0 1 0;
#X connect 2 1 3 0;
#X connect 3 0 14 0;
#X connect 4 0 1 1;
#X connect 5 0 4 0;
#X connect 5 1 6 0;
#X connect 6 0 3 1;
#X connect 7 0 8 0;
#X connect 7 1 9 0;
#X connect 8 0 1 1;
#X connect 9 0 3 1;
#X connect 10 0 2 0;
#X connect 11 0 13 0;
#X connect 13 0 0 0;
#X restore 204 347 pd seletor_de_modo_de_saída;
#X obj 363 99 list length;
#X obj 170 85 t a a;
#X obj 170 115 list split 1;
#X obj 504 244 list split 1;
#N canvas 733 62 502 514 fatiar_lista_no_tempo 0;
#X obj 37 37 inlet lista;
#X obj 271 37 inlet tempo;
#X text 342 38 (ms);
#X obj 37 452 outlet saída_elemento_a_elemento;
#X obj 37 225 spigot 0;
#X obj 271 109 t a a, f 11;
#N canvas 456 120 471 263 disparador_de_dados 0;
#X obj 89 17 inlet lista_de_dados;
#X obj 310 17 inlet tempo;
#X obj 89 200 outlet saída_dado_a_dado;
#X obj 89 68 list split 1, f 41;
#X obj 147 142 list append;
#X obj 28 128 del;
#X msg 28 102 bang;
#X obj 332 200 outlet bang_de_fim;
#X connect 0 0 3 0;
#X connect 1 0 5 1;
#X connect 3 0 6 0;
#X connect 3 0 2 0;
#X connect 3 1 4 1;
#X connect 3 2 7 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 6 0 5 0;
#X restore 169 267 pd disparador_de_dados;
#X f 28;
#X obj 37 111 t a a, f 8;
#N canvas 162 87 537 382 se_tempo_é_menor_que_0 0;
#X obj 35 20 inlet lista;
#X obj 194 20 inlet tempo;
#X obj 75 320 outlet libera_lista_completa;
#X obj 45 183 sel 1, f 11;
#X msg 45 205 1;
#X msg 108 205 0;
#X obj 28 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 133 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 301 256 spigot 1;
#X msg 313 205 1;
#X msg 376 205 0;
#X obj 292 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 405 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 313 183 sel 0, f 11;
#X obj 301 321 outlet libera_lista_pra_ser_fatiada;
#X obj 194 75 < 0;
#X text 354 58 Se o tempo é maior ou igual a zero \, este subpatch
libera os dados para serem fatiados, f 25;
#X connect 0 0 8 0;
#X connect 1 0 15 0;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 4 0 2 0;
#X connect 4 0 6 0;
#X connect 5 0 2 0;
#X connect 5 0 7 0;
#X connect 8 0 14 0;
#X connect 9 0 11 0;
#X connect 9 0 8 1;
#X connect 10 0 12 0;
#X connect 10 0 8 1;
#X connect 13 0 9 0;
#X connect 13 1 10 0;
#X connect 15 0 3 0;
#X connect 15 0 13 0;
#X restore 82 158 pd se_tempo_é_menor_que_0;
#X f 32;
#X obj 334 451 outlet bang_de_fim;
#X connect 0 0 7 0;
#X connect 1 0 5 0;
#X connect 4 0 3 0;
#X connect 5 0 8 1;
#X connect 5 1 6 1;
#X connect 6 0 3 0;
#X connect 6 1 9 0;
#X connect 7 0 4 0;
#X connect 7 1 8 0;
#X connect 8 0 4 1;
#X connect 8 1 6 0;
#X restore 363 381 pd fatiar_lista_no_tempo;
#X text 583 242 tempo, f 6;
#X text 24 131 identificador de trajeto;
#X obj 170 204 text search trajetos_qui;
#X obj 170 232 text get trajetos_qui;
#X obj 170 313 list split 2;
#X connect 3 0 9 0;
#X connect 4 0 0 0;
#X connect 4 1 1 0;
#X connect 5 0 6 0;
#X connect 6 0 4 0;
#X connect 7 0 4 0;
#X connect 7 1 12 0;
#X connect 8 0 7 1;
#X connect 9 0 10 0;
#X connect 9 1 8 0;
#X connect 10 0 15 0;
#X connect 10 1 11 0;
#X connect 11 0 12 1;
#X connect 12 0 1 0;
#X connect 12 1 0 0;
#X connect 15 0 5 0;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 17 1 7 0;
#X restore 777 306 pd avgspeed;
#N canvas 122 28 757 674 stops 0;
#X text 547 153 envia todos os dados de stops referentes à linha requerida
, f 25;
#X obj 531 631 outlet bang_de_fim;
#X obj 258 631 outlet saída_de_dados;
#X obj 160 363 list split 2;
#X obj 194 394 list split 24;
#X obj 231 550 t b a;
#X obj 160 136 list split 1;
#X obj 390 103 list length;
#X obj 160 89 t a a;
#X obj 531 292 list split 1;
#X obj 21 322 sel -1;
#X msg 21 343 linha não encontrada;
#N canvas 615 290 542 370 seletor_de_modo_de_saída 0;
#X obj 321 102 sel 0, f 16;
#X obj 82 211 spigot 1;
#X obj 82 70 t a a, f 32;
#X obj 271 251 spigot 1;
#X msg 321 147 1;
#X obj 321 127 t b b, f 8;
#X msg 366 147 0;
#X obj 414 157 t b b, f 8;
#X msg 414 177 0;
#X msg 459 177 1;
#X obj 82 17 inlet lista;
#X obj 321 17 inlet tamanho_da_lista;
#X obj 82 325 outlet sai_lista_completa;
#X obj 271 325 outlet sair_lista_elemento_a_elemento;
#X obj 321 84 > 1;
#X connect 0 0 5 0;
#X connect 0 1 7 0;
#X connect 1 0 12 0;
#X connect 2 0 1 0;
#X connect 2 1 3 0;
#X connect 3 0 13 0;
#X connect 4 0 1 1;
#X connect 5 0 4 0;
#X connect 5 1 6 0;
#X connect 6 0 3 1;
#X connect 7 0 8 0;
#X connect 7 1 9 0;
#X connect 8 0 1 1;
#X connect 9 0 3 1;
#X connect 10 0 2 0;
#X connect 11 0 14 0;
#X connect 14 0 0 0;
#X restore 231 445 pd seletor_de_modo_de_saída;
#X text 542 308 argumento tempo, f 9;
#X text 98 139 argumento linha de ônibus, f 9;
#N canvas 733 62 502 514 fatiar_lista_no_tempo 0;
#X obj 37 37 inlet lista;
#X obj 271 37 inlet tempo;
#X text 342 38 (ms);
#X obj 37 452 outlet saída_elemento_a_elemento;
#X obj 37 225 spigot 0;
#X obj 271 109 t a a, f 11;
#N canvas 456 120 471 263 disparador_de_dados 0;
#X obj 89 17 inlet lista_de_dados;
#X obj 310 17 inlet tempo;
#X obj 89 200 outlet saída_dado_a_dado;
#X obj 89 68 list split 1, f 41;
#X obj 147 142 list append;
#X obj 28 128 del;
#X msg 28 102 bang;
#X obj 332 200 outlet bang_de_fim;
#X connect 0 0 3 0;
#X connect 1 0 5 1;
#X connect 3 0 6 0;
#X connect 3 0 2 0;
#X connect 3 1 4 1;
#X connect 3 2 7 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 6 0 5 0;
#X restore 169 267 pd disparador_de_dados;
#X f 28;
#X obj 37 111 t a a, f 8;
#N canvas 162 87 537 382 se_tempo_é_menor_que_0 0;
#X obj 35 20 inlet lista;
#X obj 194 20 inlet tempo;
#X obj 75 320 outlet libera_lista_completa;
#X obj 45 183 sel 1, f 11;
#X msg 45 205 1;
#X msg 108 205 0;
#X obj 28 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 133 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 301 256 spigot 1;
#X msg 313 205 1;
#X msg 376 205 0;
#X obj 292 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 405 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 313 183 sel 0, f 11;
#X obj 301 321 outlet libera_lista_pra_ser_fatiada;
#X obj 194 75 < 0;
#X text 354 58 Se o tempo é maior ou igual a zero \, este subpatch
libera os dados para serem fatiados, f 25;
#X connect 0 0 8 0;
#X connect 1 0 15 0;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 4 0 2 0;
#X connect 4 0 6 0;
#X connect 5 0 2 0;
#X connect 5 0 7 0;
#X connect 8 0 14 0;
#X connect 9 0 11 0;
#X connect 9 0 8 1;
#X connect 10 0 12 0;
#X connect 10 0 8 1;
#X connect 13 0 9 0;
#X connect 13 1 10 0;
#X connect 15 0 3 0;
#X connect 15 0 13 0;
#X restore 82 158 pd se_tempo_é_menor_que_0;
#X f 32;
#X obj 334 451 outlet bang_de_fim;
#X connect 0 0 7 0;
#X connect 1 0 5 0;
#X connect 4 0 3 0;
#X connect 5 0 8 1;
#X connect 5 1 6 1;
#X connect 6 0 3 0;
#X connect 6 1 9 0;
#X connect 7 0 4 0;
#X connect 7 1 8 0;
#X connect 8 0 4 1;
#X connect 8 1 6 0;
#X restore 390 493 pd fatiar_lista_no_tempo;
#X obj 160 14 inlet mensagem_de_entrada;
#X obj 160 259 text search onibus_qui;
#X obj 160 282 text get onibus_qui;
#X connect 3 1 4 0;
#X connect 4 1 12 0;
#X connect 5 0 1 0;
#X connect 5 1 2 0;
#X connect 6 0 17 0;
#X connect 6 1 9 0;
#X connect 7 0 12 1;
#X connect 8 0 6 0;
#X connect 8 1 7 0;
#X connect 9 0 15 1;
#X connect 10 0 11 0;
#X connect 11 0 5 0;
#X connect 12 0 5 0;
#X connect 12 1 15 0;
#X connect 15 0 2 0;
#X connect 15 1 1 0;
#X connect 16 0 8 0;
#X connect 17 0 10 0;
#X connect 17 0 18 0;
#X connect 18 0 3 0;
#X restore 372 306 pd stops;
#N canvas 112 123 555 508 trajeto 0;
#X obj 139 27 inlet;
#X obj 285 400 outlet bang_de_fim;
#X obj 88 400 outlet saída_de_dados;
#N canvas 313 189 495 459 saída_trajeto 0;
#X text 300 17 Separa e retorna dados referentes ao primeiro e último
indicador de ponto de parada de ônibus, f 25;
#X obj 260 135 list length;
#X obj 203 174 list split;
#X obj 203 113 t l l;
#X obj 260 155 - 1;
#X msg 82 313 set symbol \$1-\$2;
#X msg 55 359 symbol 640000518id-920016702id;
#X obj 55 292 t b l;
#X obj 55 271 pack s s;
#X obj 55 59 list split 26;
#X obj 55 86 list split 1, f 50;
#X obj 55 238 list trim;
#X obj 231 238 list trim;
#X obj 55 207 list prepend symbol;
#X obj 231 207 list prepend symbol;
#X obj 55 18 inlet pontos_de_parada;
#X obj 55 408 outlet identificador_de_trajeto;
#X connect 1 0 4 0;
#X connect 2 1 14 0;
#X connect 3 0 2 0;
#X connect 3 1 1 0;
#X connect 4 0 2 1;
#X connect 5 0 6 0;
#X connect 6 0 16 0;
#X connect 7 0 6 0;
#X connect 7 1 5 0;
#X connect 8 0 7 0;
#X connect 9 1 10 0;
#X connect 10 0 13 0;
#X connect 10 1 3 0;
#X connect 11 0 8 0;
#X connect 12 0 8 1;
#X connect 13 0 11 0;
#X connect 14 0 12 0;
#X connect 15 0 9 0;
#X restore 138 313 pd saída_trajeto;
#X obj 138 82 list prepend symbol;
#X obj 138 103 list trim;
#X text 352 64 retorna um identificador de trajeto referente à linha
requerida, f 25;
#X obj 138 334 t b a;
#X obj 41 208 sel -1;
#X msg 41 229 linha não encontrada;
#X obj 203 168 text search onibus_qui;
#X obj 203 256 text get onibus_qui;
#X connect 0 0 4 0;
#X connect 3 0 7 0;
#X connect 4 0 5 0;
#X connect 5 0 10 0;
#X connect 7 0 1 0;
#X connect 7 1 2 0;
#X connect 8 0 9 0;
#X connect 9 0 7 0;
#X connect 10 0 8 0;
#X connect 10 0 11 0;
#X connect 11 0 3 0;
#X restore 659 306 pd trajeto;
#X connect 0 0 5 0;
#X connect 0 1 6 0;
#X connect 1 0 5 0;
#X connect 1 1 6 0;
#X connect 3 0 8 0;
#X connect 3 1 0 0;
#X connect 3 2 9 0;
#X connect 3 3 10 0;
#X connect 3 4 13 0;
#X connect 3 5 11 0;
#X connect 3 6 1 0;
#X connect 3 7 14 0;
#X connect 3 8 12 0;
#X connect 3 9 4 0;
#X connect 4 0 2 0;
#X connect 7 0 3 0;
#X connect 8 0 5 0;
#X connect 8 1 6 0;
#X connect 9 0 5 0;
#X connect 9 1 6 0;
#X connect 10 0 5 0;
#X connect 10 1 6 0;
#X connect 11 0 5 0;
#X connect 11 1 6 0;
#X connect 12 0 5 0;
#X connect 12 1 6 0;
#X connect 13 0 5 0;
#X connect 13 1 6 0;
#X connect 14 0 5 0;
#X connect 14 1 6 0;
#X restore 389 312 pd quinta;
#N canvas 96 60 1073 619 sexta 0;
#N canvas 300 107 710 513 buzu 0;
#X text 433 107 aponta para o indexador numérico e retorna a linha
de ônibus associada, f 35;
#X text 13 86 indexadores negativos retornam a quantidade total de
linhas de onibus cadastradas, f 21;
#X obj 173 414 outlet saída_de_dados;
#X obj 377 414 outlet bang_de_fim;
#X obj 174 118 moses 0, f 41;
#X floatatom 174 93 5 0 0 0 - - -;
#X msg 174 139 bang;
#X obj 174 243 t b f;
#X msg 417 244 \$1;
#X obj 417 265 t b a;
#X obj 174 22 inlet mensagem_de_entrada;
#X obj 174 222 text size onibus_sex;
#X obj 417 223 text get onibus_sex;
#X connect 4 0 6 0;
#X connect 4 1 12 0;
#X connect 5 0 4 0;
#X connect 6 0 11 0;
#X connect 7 0 3 0;
#X connect 7 1 2 0;
#X connect 8 0 9 0;
#X connect 9 0 3 0;
#X connect 9 1 2 0;
#X connect 10 0 5 0;
#X connect 11 0 7 0;
#X connect 12 0 8 0;
#X restore 136 308 pd buzu;
#N canvas 71 172 445 512 zona 0;
#X obj 242 415 outlet bang_de_fim;
#X obj 45 415 outlet saída_de_dados;
#X obj 63 68 list prepend symbol;
#X obj 63 89 list trim;
#X obj 39 35 inlet identificador;
#X obj 100 318 t b a;
#X text 221 90 envia o dado de zona referente ao identificador, f
31;
#X obj 98 243 list split 3;
#X obj 98 164 text search coordenadas_sex;
#X obj 98 202 text get coordenadas_sex;
#X connect 2 0 3 0;
#X connect 3 0 8 0;
#X connect 4 0 2 0;
#X connect 5 0 0 0;
#X connect 5 1 1 0;
#X connect 7 1 5 0;
#X connect 8 0 9 0;
#X connect 9 0 7 0;
#X restore 599 308 pd zona;
#X obj 788 219 print Erro;
#X obj 127 158 route linhas buzu start_time interval stops coordenadas
zona trajeto avgspeed, f 103;
#X msg 788 198 Verifique a formatação da mensagem no Help;
#X obj 205 540 outlet saída_de_dados;
#X obj 635 540 outlet bang_de_fim;
#X obj 127 62 inlet mensagem_de_entrada;
#N canvas 219 100 627 313 linhas 0;
#X text 342 89 Retorna todas as linhas de ônibus sequencialmente a
um intervalo de tempo definido, f 37;
#X obj 57 227 outlet dados;
#X obj 228 227 outlet bang_de_fim;
#X obj 127 19 inlet mensagem_de_entrada;
#N canvas 188 68 799 658 linhas_de_ônibus 0;
#X msg 172 408 line 0;
#X obj 367 125 t b b b;
#X obj 192 52 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 172 475 \$1;
#X floatatom 430 421 5 0 0 0 - - -;
#X msg 424 284 stop;
#X floatatom 525 231 5 0 0 0 - - -;
#N canvas 116 209 348 228 contador 0;
#X obj 32 117 f;
#X obj 75 117 + 1;
#X msg 141 84 -1;
#X text 69 5 CONTADOR COM RESET;
#X obj 32 144 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X text 27 206 bang de saída;
#X obj 32 188 outlet bang;
#X obj 152 188 outlet contagem;
#X text 146 206 contagem de saída;
#X obj 32 33 inlet bang;
#X text 64 48 bang de contagem, f 9;
#X obj 141 33 inlet reset;
#X text 194 48 reinicia contagem;
#X connect 0 0 1 0;
#X connect 0 0 4 0;
#X connect 0 0 7 0;
#X connect 1 0 0 1;
#X connect 2 0 1 0;
#X connect 4 0 6 0;
#X connect 9 0 0 0;
#X connect 11 0 2 0;
#X restore 367 380 pd contador;
#X obj 367 208 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 533 203 total de linhas de ônibus no dia, f 16;
#X obj 492 308 sel 10;
#N canvas 667 298 399 318 seletor 0;
#X obj 109 60 inlet;
#X obj 109 143 f;
#X obj 147 143 + 1;
#X obj 129 185 sel 1 2, f 15;
#X obj 109 112 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 89 217 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 172 217 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 214 102 1;
#X obj 89 282 outlet;
#X obj 172 282 outlet;
#X text 241 104 reseta contagem;
#X text 20 12 SELETOR - A cada bang recebido \, alterna bangs pelas
saídas.;
#X obj 214 81 loadbang;
#X connect 0 0 4 0;
#X connect 1 0 2 0;
#X connect 1 0 3 0;
#X connect 2 0 1 1;
#X connect 3 0 5 0;
#X connect 3 1 6 0;
#X connect 4 0 1 0;
#X connect 5 0 8 0;
#X connect 6 0 7 0;
#X connect 6 0 9 0;
#X connect 7 0 1 1;
#X connect 12 0 7 0;
#X restore 367 228 pd seletor;
#X obj 430 344 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 367 283 t b b b;
#X text 506 324 ao atingir o total de linhas de ônibus no dia \, o
[metro] é interrompido, f 22;
#X text 134 25 liga/desl;
#X text 380 25 tempo de leitura;
#X text 462 418 índice da linha a ser recuperada, f 11;
#X text 289 15 1;
#X text 553 17 2;
#X msg 367 408 step;
#X obj 367 350 metro 18;
#X obj 192 24 inlet liga/desl;
#X obj 480 24 inlet tempo;
#X msg 238 408 bang;
#X obj 172 544 outlet linhas;
#X obj 313 543 outlet acabou;
#X text 85 564 retorna linhas de ônibus no tempo determinado, f 24
;
#X text 345 560 bang ao terminar de retornar dados, f 18;
#X obj 238 343 t b b;
#X obj 385 104 t b f;
#X text 17 87 Máquina que retorna as linhas de ônibus a um intervalo
de tempo determinado no inlet 2 de um determinado dia, f 32;
#X floatatom 462 253 5 0 0 0 - - -;
#X obj 403 432 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#N canvas 537 137 539 406 processamento_de_dados 0;
#X floatatom 217 58 5 0 0 0 - - -;
#X obj 196 265 f, f 4;
#X floatatom 196 294 5 0 0 0 - - -;
#X obj 217 23 inlet tempo;
#X text 292 22 tempo em ms;
#X obj 196 344 outlet tempo;
#X obj 39 344 outlet zero;
#X obj 39 23 inlet bang;
#X obj 39 185 spigot 1;
#X obj 84 165 <= 0;
#X obj 39 49 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 217 78 t f f, f 8;
#X obj 39 82 t b b;
#X obj 262 99 > 0;
#X obj 196 120 spigot 0, f 12;
#X obj 39 323 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 196 241 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 311 219 Este subpatch retornará um bang pelo outlet esquerdo
sempre que o tempo de retorno fornecido entre cada linha de ônibus
seja igual ou menor que zero \, caso contrário \, retorna o tempo
pelo outlet direito para setar o [metro], f 34;
#X connect 0 0 11 0;
#X connect 1 0 2 0;
#X connect 2 0 5 0;
#X connect 3 0 0 0;
#X connect 7 0 10 0;
#X connect 8 0 15 0;
#X connect 9 0 8 1;
#X connect 10 0 12 0;
#X connect 11 0 9 0;
#X connect 11 0 1 1;
#X connect 11 1 13 0;
#X connect 12 0 8 0;
#X connect 12 1 14 0;
#X connect 13 0 14 1;
#X connect 14 0 16 0;
#X connect 15 0 6 0;
#X connect 16 0 1 0;
#X restore 238 82 pd processamento_de_dados;
#X obj 525 186 text size onibus_sex;
#X obj 172 454 text sequence onibus_sex;
#X connect 0 0 36 0;
#X connect 1 0 8 0;
#X connect 1 1 35 0;
#X connect 1 2 0 0;
#X connect 2 0 34 0;
#X connect 3 0 25 0;
#X connect 5 0 21 0;
#X connect 6 0 10 1;
#X connect 7 0 20 0;
#X connect 7 0 33 0;
#X connect 7 1 10 0;
#X connect 7 1 4 0;
#X connect 8 0 11 0;
#X connect 10 0 8 0;
#X connect 11 0 13 0;
#X connect 11 1 5 0;
#X connect 12 0 7 1;
#X connect 13 0 21 0;
#X connect 13 1 12 0;
#X connect 20 0 36 0;
#X connect 21 0 7 0;
#X connect 22 0 2 0;
#X connect 23 0 34 1;
#X connect 24 0 36 0;
#X connect 29 0 24 0;
#X connect 29 1 0 0;
#X connect 30 0 1 0;
#X connect 30 1 21 1;
#X connect 30 1 32 0;
#X connect 34 0 29 0;
#X connect 34 1 30 0;
#X connect 35 0 6 0;
#X connect 36 0 3 0;
#X connect 36 1 26 0;
#X restore 87 172 pd linhas_de_ônibus;
#X obj 127 97 t b f;
#X connect 3 0 5 0;
#X connect 4 0 1 0;
#X connect 4 1 2 0;
#X connect 5 0 4 0;
#X connect 5 1 4 1;
#X restore 63 307 pd linhas;
#N canvas 66 147 556 410 start_time 0;
#X text 332 54 Retorna o valor de start_time a partir do nome da linha
de ônibus, f 35;
#X obj 112 320 outlet saída_de_dados;
#X obj 302 320 outlet bang_de_fim;
#X msg 197 243 \$2;
#X obj 142 68 list prepend symbol;
#X obj 142 89 list trim;
#X obj 197 264 t b a;
#X obj 124 19 inlet linha_de_ônibus;
#X obj 46 182 sel -1;
#X msg 46 203 linha não encontrada;
#X obj 197 134 text search onibus_sex;
#X obj 197 222 text get onibus_sex;
#X connect 3 0 6 0;
#X connect 4 0 5 0;
#X connect 5 0 10 0;
#X connect 6 0 2 0;
#X connect 6 1 1 0;
#X connect 7 0 4 0;
#X connect 8 0 9 0;
#X connect 9 0 6 0;
#X connect 10 0 8 0;
#X connect 10 0 11 0;
#X connect 11 0 3 0;
#X restore 191 308 pd start_time;
#N canvas 278 73 722 691 interval 0;
#X obj 492 626 outlet bang_de_fim;
#X obj 219 626 outlet saída_de_dados;
#X obj 158 358 list split 2;
#X obj 192 389 list split 24;
#X obj 192 545 t b a;
#X obj 158 131 list split 1;
#X obj 351 98 list length;
#X obj 158 84 t a a;
#X obj 492 287 list split 1;
#X obj 19 317 sel -1;
#X msg 19 338 linha não encontrada;
#N canvas 615 290 542 370 seletor_de_modo_de_saída 0;
#X obj 321 102 sel 0, f 16;
#X obj 82 211 spigot 1;
#X obj 82 70 t a a, f 32;
#X obj 271 251 spigot 1;
#X msg 321 147 1;
#X obj 321 127 t b b, f 8;
#X msg 366 147 0;
#X obj 414 157 t b b, f 8;
#X msg 414 177 0;
#X msg 459 177 1;
#X obj 82 17 inlet lista;
#X obj 321 17 inlet tamanho_da_lista;
#X obj 82 325 outlet sai_lista_completa;
#X obj 321 84 > 1;
#X obj 271 325 outlet mandar_lista_para_fatiamento;
#X connect 0 0 5 0;
#X connect 0 1 7 0;
#X connect 1 0 12 0;
#X connect 2 0 1 0;
#X connect 2 1 3 0;
#X connect 3 0 14 0;
#X connect 4 0 1 1;
#X connect 5 0 4 0;
#X connect 5 1 6 0;
#X connect 6 0 3 1;
#X connect 7 0 8 0;
#X connect 7 1 9 0;
#X connect 8 0 1 1;
#X connect 9 0 3 1;
#X connect 10 0 2 0;
#X connect 11 0 13 0;
#X connect 13 0 0 0;
#X restore 192 440 pd seletor_de_modo_de_saída;
#X text 503 303 argumento tempo, f 9;
#X text 96 134 argumento linha de ônibus, f 9;
#N canvas 733 62 502 514 fatiar_lista_no_tempo 0;
#X obj 37 37 inlet lista;
#X obj 271 37 inlet tempo;
#X text 342 38 (ms);
#X obj 37 452 outlet saída_elemento_a_elemento;
#X obj 37 225 spigot 0;
#X obj 271 109 t a a, f 11;
#N canvas 456 120 471 263 disparador_de_dados 0;
#X obj 89 17 inlet lista_de_dados;
#X obj 310 17 inlet tempo;
#X obj 89 200 outlet saída_dado_a_dado;
#X obj 89 68 list split 1, f 41;
#X obj 147 142 list append;
#X obj 28 128 del;
#X msg 28 102 bang;
#X obj 332 200 outlet bang_de_fim;
#X connect 0 0 3 0;
#X connect 1 0 5 1;
#X connect 3 0 6 0;
#X connect 3 0 2 0;
#X connect 3 1 4 1;
#X connect 3 2 7 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 6 0 5 0;
#X restore 169 267 pd disparador_de_dados;
#X f 28;
#X obj 37 111 t a a, f 8;
#N canvas 162 87 537 382 se_tempo_é_menor_que_0 0;
#X obj 35 20 inlet lista;
#X obj 194 20 inlet tempo;
#X obj 75 320 outlet libera_lista_completa;
#X obj 45 183 sel 1, f 11;
#X msg 45 205 1;
#X msg 108 205 0;
#X obj 28 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 133 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 301 256 spigot 1;
#X msg 313 205 1;
#X msg 376 205 0;
#X obj 292 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 405 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 313 183 sel 0, f 11;
#X obj 301 321 outlet libera_lista_pra_ser_fatiada;
#X obj 194 75 < 0;
#X text 354 58 Se o tempo é maior ou igual a zero \, este subpatch
libera os dados para serem fatiados, f 25;
#X connect 0 0 8 0;
#X connect 1 0 15 0;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 4 0 2 0;
#X connect 4 0 6 0;
#X connect 5 0 2 0;
#X connect 5 0 7 0;
#X connect 8 0 14 0;
#X connect 9 0 11 0;
#X connect 9 0 8 1;
#X connect 10 0 12 0;
#X connect 10 0 8 1;
#X connect 13 0 9 0;
#X connect 13 1 10 0;
#X connect 15 0 3 0;
#X connect 15 0 13 0;
#X restore 82 158 pd se_tempo_é_menor_que_0;
#X f 32;
#X obj 334 451 outlet bang_de_fim;
#X connect 0 0 7 0;
#X connect 1 0 5 0;
#X connect 4 0 3 0;
#X connect 5 0 8 1;
#X connect 5 1 6 1;
#X connect 6 0 3 0;
#X connect 6 1 9 0;
#X connect 7 0 4 0;
#X connect 7 1 8 0;
#X connect 8 0 4 1;
#X connect 8 1 6 0;
#X restore 351 488 pd fatiar_lista_no_tempo;
#X text 528 62 envia todos os dados de interval referentes a linha
requerida, f 22;
#X obj 158 9 inlet mensagem_de_entrada;
#X obj 158 254 text search onibus_sex;
#X obj 158 277 text get onibus_sex;
#X connect 2 1 3 0;
#X connect 3 0 11 0;
#X connect 4 0 0 0;
#X connect 4 1 1 0;
#X connect 5 0 17 0;
#X connect 5 1 8 0;
#X connect 6 0 11 1;
#X connect 7 0 5 0;
#X connect 7 1 6 0;
#X connect 8 0 14 1;
#X connect 9 0 10 0;
#X connect 10 0 4 0;
#X connect 11 0 4 0;
#X connect 11 1 14 0;
#X connect 14 0 1 0;
#X connect 14 1 0 0;
#X connect 16 0 7 0;
#X connect 17 0 9 0;
#X connect 17 0 18 0;
#X connect 18 0 2 0;
#X restore 282 308 pd interval;
#N canvas 51 126 480 585 coordenadas 0;
#X obj 272 475 outlet bang_de_fim;
#X obj 75 475 outlet saída_de_dados;
#X obj 63 68 list prepend symbol;
#X obj 63 89 list trim;
#X obj 39 35 inlet identificador;
#X text 243 321 envia os dados de coordenadas referentes ao identificador
, f 31;
#X obj 98 243 list split 1;
#X obj 132 270 list split 2;
#X obj 100 318 t b a;
#X obj 98 164 text search coordenadas_sex;
#X obj 98 202 text get coordenadas_sex;
#X connect 2 0 3 0;
#X connect 3 0 9 0;
#X connect 4 0 2 0;
#X connect 6 1 7 0;
#X connect 7 0 8 0;
#X connect 8 0 0 0;
#X connect 8 1 1 0;
#X connect 9 0 10 0;
#X connect 10 0 6 0;
#X restore 498 308 pd coordenadas;
#N canvas 84 68 712 602 avgspeed 0;
#X obj 398 538 outlet bang_de_fim;
#X obj 231 538 outlet saída_de_dados;
#X text 487 61 envia todos os dados de velocidade média referentes
ao identificador de trajeto, f 29;
#X obj 170 24 inlet identificador_de_trajeto;
#X obj 204 399 t b a;
#X obj 19 257 sel -1;
#X msg 19 278 linha não encontrada;
#N canvas 615 290 542 370 seletor_de_modo_de_saída 0;
#X obj 321 102 sel 0, f 16;
#X obj 82 211 spigot 1;
#X obj 82 70 t a a, f 32;
#X obj 271 251 spigot 1;
#X msg 321 147 1;
#X obj 321 127 t b b, f 8;
#X msg 366 147 0;
#X obj 414 157 t b b, f 8;
#X msg 414 177 0;
#X msg 459 177 1;
#X obj 82 17 inlet lista;
#X obj 321 17 inlet tamanho_da_lista;
#X obj 82 325 outlet sai_lista_completa;
#X obj 321 84 > 1;
#X obj 271 325 outlet manda_lista_para_fatiamento;
#X connect 0 0 5 0;
#X connect 0 1 7 0;
#X connect 1 0 12 0;
#X connect 2 0 1 0;
#X connect 2 1 3 0;
#X connect 3 0 14 0;
#X connect 4 0 1 1;
#X connect 5 0 4 0;
#X connect 5 1 6 0;
#X connect 6 0 3 1;
#X connect 7 0 8 0;
#X connect 7 1 9 0;
#X connect 8 0 1 1;
#X connect 9 0 3 1;
#X connect 10 0 2 0;
#X connect 11 0 13 0;
#X connect 13 0 0 0;
#X restore 204 347 pd seletor_de_modo_de_saída;
#X obj 363 99 list length;
#X obj 170 85 t a a;
#X obj 170 115 list split 1;
#X obj 504 244 list split 1;
#N canvas 733 62 502 514 fatiar_lista_no_tempo 0;
#X obj 37 37 inlet lista;
#X obj 271 37 inlet tempo;
#X text 342 38 (ms);
#X obj 37 452 outlet saída_elemento_a_elemento;
#X obj 37 225 spigot 0;
#X obj 271 109 t a a, f 11;
#N canvas 456 120 471 263 disparador_de_dados 0;
#X obj 89 17 inlet lista_de_dados;
#X obj 310 17 inlet tempo;
#X obj 89 200 outlet saída_dado_a_dado;
#X obj 89 68 list split 1, f 41;
#X obj 147 142 list append;
#X obj 28 128 del;
#X msg 28 102 bang;
#X obj 332 200 outlet bang_de_fim;
#X connect 0 0 3 0;
#X connect 1 0 5 1;
#X connect 3 0 6 0;
#X connect 3 0 2 0;
#X connect 3 1 4 1;
#X connect 3 2 7 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 6 0 5 0;
#X restore 169 267 pd disparador_de_dados;
#X f 28;
#X obj 37 111 t a a, f 8;
#N canvas 162 87 537 382 se_tempo_é_menor_que_0 0;
#X obj 35 20 inlet lista;
#X obj 194 20 inlet tempo;
#X obj 75 320 outlet libera_lista_completa;
#X obj 45 183 sel 1, f 11;
#X msg 45 205 1;
#X msg 108 205 0;
#X obj 28 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 133 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 301 256 spigot 1;
#X msg 313 205 1;
#X msg 376 205 0;
#X obj 292 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 405 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 313 183 sel 0, f 11;
#X obj 301 321 outlet libera_lista_pra_ser_fatiada;
#X obj 194 75 < 0;
#X text 354 58 Se o tempo é maior ou igual a zero \, este subpatch
libera os dados para serem fatiados, f 25;
#X connect 0 0 8 0;
#X connect 1 0 15 0;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 4 0 2 0;
#X connect 4 0 6 0;
#X connect 5 0 2 0;
#X connect 5 0 7 0;
#X connect 8 0 14 0;
#X connect 9 0 11 0;
#X connect 9 0 8 1;
#X connect 10 0 12 0;
#X connect 10 0 8 1;
#X connect 13 0 9 0;
#X connect 13 1 10 0;
#X connect 15 0 3 0;
#X connect 15 0 13 0;
#X restore 82 158 pd se_tempo_é_menor_que_0;
#X f 32;
#X obj 334 451 outlet bang_de_fim;
#X connect 0 0 7 0;
#X connect 1 0 5 0;
#X connect 4 0 3 0;
#X connect 5 0 8 1;
#X connect 5 1 6 1;
#X connect 6 0 3 0;
#X connect 6 1 9 0;
#X connect 7 0 4 0;
#X connect 7 1 8 0;
#X connect 8 0 4 1;
#X connect 8 1 6 0;
#X restore 363 381 pd fatiar_lista_no_tempo;
#X text 583 242 tempo, f 6;
#X text 24 131 identificador de trajeto;
#X obj 170 204 text search trajetos_sex;
#X obj 170 232 text get trajetos_sex;
#X obj 170 313 list split 2;
#X connect 3 0 9 0;
#X connect 4 0 0 0;
#X connect 4 1 1 0;
#X connect 5 0 6 0;
#X connect 6 0 4 0;
#X connect 7 0 4 0;
#X connect 7 1 12 0;
#X connect 8 0 7 1;
#X connect 9 0 10 0;
#X connect 9 1 8 0;
#X connect 10 0 15 0;
#X connect 10 1 11 0;
#X connect 11 0 12 1;
#X connect 12 0 1 0;
#X connect 12 1 0 0;
#X connect 15 0 5 0;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 17 1 7 0;
#X restore 767 308 pd avgspeed;
#N canvas 122 28 757 674 stops 0;
#X text 547 153 envia todos os dados de stops referentes à linha requerida
, f 25;
#X obj 531 631 outlet bang_de_fim;
#X obj 258 631 outlet saída_de_dados;
#X obj 160 363 list split 2;
#X obj 194 394 list split 24;
#X obj 231 550 t b a;
#X obj 160 136 list split 1;
#X obj 390 103 list length;
#X obj 160 89 t a a;
#X obj 531 292 list split 1;
#X obj 21 322 sel -1;
#X msg 21 343 linha não encontrada;
#N canvas 615 290 542 370 seletor_de_modo_de_saída 0;
#X obj 321 102 sel 0, f 16;
#X obj 82 211 spigot 1;
#X obj 82 70 t a a, f 32;
#X obj 271 251 spigot 1;
#X msg 321 147 1;
#X obj 321 127 t b b, f 8;
#X msg 366 147 0;
#X obj 414 157 t b b, f 8;
#X msg 414 177 0;
#X msg 459 177 1;
#X obj 82 17 inlet lista;
#X obj 321 17 inlet tamanho_da_lista;
#X obj 82 325 outlet sai_lista_completa;
#X obj 271 325 outlet sair_lista_elemento_a_elemento;
#X obj 321 84 > 1;
#X connect 0 0 5 0;
#X connect 0 1 7 0;
#X connect 1 0 12 0;
#X connect 2 0 1 0;
#X connect 2 1 3 0;
#X connect 3 0 13 0;
#X connect 4 0 1 1;
#X connect 5 0 4 0;
#X connect 5 1 6 0;
#X connect 6 0 3 1;
#X connect 7 0 8 0;
#X connect 7 1 9 0;
#X connect 8 0 1 1;
#X connect 9 0 3 1;
#X connect 10 0 2 0;
#X connect 11 0 14 0;
#X connect 14 0 0 0;
#X restore 231 445 pd seletor_de_modo_de_saída;
#X text 542 308 argumento tempo, f 9;
#X text 98 139 argumento linha de ônibus, f 9;
#N canvas 733 62 502 514 fatiar_lista_no_tempo 0;
#X obj 37 37 inlet lista;
#X obj 271 37 inlet tempo;
#X text 342 38 (ms);
#X obj 37 452 outlet saída_elemento_a_elemento;
#X obj 37 225 spigot 0;
#X obj 271 109 t a a, f 11;
#N canvas 456 120 471 263 disparador_de_dados 0;
#X obj 89 17 inlet lista_de_dados;
#X obj 310 17 inlet tempo;
#X obj 89 200 outlet saída_dado_a_dado;
#X obj 89 68 list split 1, f 41;
#X obj 147 142 list append;
#X obj 28 128 del;
#X msg 28 102 bang;
#X obj 332 200 outlet bang_de_fim;
#X connect 0 0 3 0;
#X connect 1 0 5 1;
#X connect 3 0 6 0;
#X connect 3 0 2 0;
#X connect 3 1 4 1;
#X connect 3 2 7 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 6 0 5 0;
#X restore 169 267 pd disparador_de_dados;
#X f 28;
#X obj 37 111 t a a, f 8;
#N canvas 162 87 537 382 se_tempo_é_menor_que_0 0;
#X obj 35 20 inlet lista;
#X obj 194 20 inlet tempo;
#X obj 75 320 outlet libera_lista_completa;
#X obj 45 183 sel 1, f 11;
#X msg 45 205 1;
#X msg 108 205 0;
#X obj 28 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 133 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 301 256 spigot 1;
#X msg 313 205 1;
#X msg 376 205 0;
#X obj 292 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 405 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 313 183 sel 0, f 11;
#X obj 301 321 outlet libera_lista_pra_ser_fatiada;
#X obj 194 75 < 0;
#X text 354 58 Se o tempo é maior ou igual a zero \, este subpatch
libera os dados para serem fatiados, f 25;
#X connect 0 0 8 0;
#X connect 1 0 15 0;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 4 0 2 0;
#X connect 4 0 6 0;
#X connect 5 0 2 0;
#X connect 5 0 7 0;
#X connect 8 0 14 0;
#X connect 9 0 11 0;
#X connect 9 0 8 1;
#X connect 10 0 12 0;
#X connect 10 0 8 1;
#X connect 13 0 9 0;
#X connect 13 1 10 0;
#X connect 15 0 3 0;
#X connect 15 0 13 0;
#X restore 82 158 pd se_tempo_é_menor_que_0;
#X f 32;
#X obj 334 451 outlet bang_de_fim;
#X connect 0 0 7 0;
#X connect 1 0 5 0;
#X connect 4 0 3 0;
#X connect 5 0 8 1;
#X connect 5 1 6 1;
#X connect 6 0 3 0;
#X connect 6 1 9 0;
#X connect 7 0 4 0;
#X connect 7 1 8 0;
#X connect 8 0 4 1;
#X connect 8 1 6 0;
#X restore 390 493 pd fatiar_lista_no_tempo;
#X obj 160 14 inlet mensagem_de_entrada;
#X obj 160 259 text search onibus_sex;
#X obj 160 282 text get onibus_sex;
#X connect 3 1 4 0;
#X connect 4 1 12 0;
#X connect 5 0 1 0;
#X connect 5 1 2 0;
#X connect 6 0 17 0;
#X connect 6 1 9 0;
#X connect 7 0 12 1;
#X connect 8 0 6 0;
#X connect 8 1 7 0;
#X connect 9 0 15 1;
#X connect 10 0 11 0;
#X connect 11 0 5 0;
#X connect 12 0 5 0;
#X connect 12 1 15 0;
#X connect 15 0 2 0;
#X connect 15 1 1 0;
#X connect 16 0 8 0;
#X connect 17 0 10 0;
#X connect 17 0 18 0;
#X connect 18 0 3 0;
#X restore 362 308 pd stops;
#N canvas 112 123 555 508 trajeto 0;
#X obj 139 27 inlet;
#X obj 285 400 outlet bang_de_fim;
#X obj 88 400 outlet saída_de_dados;
#N canvas 313 189 495 459 saída_trajeto 0;
#X text 300 17 Separa e retorna dados referentes ao primeiro e último
indicador de ponto de parada de ônibus, f 25;
#X obj 260 135 list length;
#X obj 203 174 list split;
#X obj 203 113 t l l;
#X obj 260 155 - 1;
#X msg 82 313 set symbol \$1-\$2;
#X msg 55 359 symbol 640000518id-920016702id;
#X obj 55 292 t b l;
#X obj 55 271 pack s s;
#X obj 55 59 list split 26;
#X obj 55 86 list split 1, f 50;
#X obj 55 238 list trim;
#X obj 231 238 list trim;
#X obj 55 207 list prepend symbol;
#X obj 231 207 list prepend symbol;
#X obj 55 18 inlet pontos_de_parada;
#X obj 55 408 outlet identificador_de_trajeto;
#X connect 1 0 4 0;
#X connect 2 1 14 0;
#X connect 3 0 2 0;
#X connect 3 1 1 0;
#X connect 4 0 2 1;
#X connect 5 0 6 0;
#X connect 6 0 16 0;
#X connect 7 0 6 0;
#X connect 7 1 5 0;
#X connect 8 0 7 0;
#X connect 9 1 10 0;
#X connect 10 0 13 0;
#X connect 10 1 3 0;
#X connect 11 0 8 0;
#X connect 12 0 8 1;
#X connect 13 0 11 0;
#X connect 14 0 12 0;
#X connect 15 0 9 0;
#X restore 138 313 pd saída_trajeto;
#X obj 138 82 list prepend symbol;
#X obj 138 103 list trim;
#X text 352 64 retorna um identificador de trajeto referente à linha
requerida, f 25;
#X obj 138 334 t b a;
#X obj 41 208 sel -1;
#X msg 41 229 linha não encontrada;
#X obj 203 168 text search onibus_sex;
#X obj 203 256 text get onibus_sex;
#X connect 0 0 4 0;
#X connect 3 0 7 0;
#X connect 4 0 5 0;
#X connect 5 0 10 0;
#X connect 7 0 1 0;
#X connect 7 1 2 0;
#X connect 8 0 9 0;
#X connect 9 0 7 0;
#X connect 10 0 8 0;
#X connect 10 0 11 0;
#X connect 11 0 3 0;
#X restore 649 308 pd trajeto;
#X connect 0 0 5 0;
#X connect 0 1 6 0;
#X connect 1 0 5 0;
#X connect 1 1 6 0;
#X connect 3 0 8 0;
#X connect 3 1 0 0;
#X connect 3 2 9 0;
#X connect 3 3 10 0;
#X connect 3 4 13 0;
#X connect 3 5 11 0;
#X connect 3 6 1 0;
#X connect 3 7 14 0;
#X connect 3 8 12 0;
#X connect 3 9 4 0;
#X connect 4 0 2 0;
#X connect 7 0 3 0;
#X connect 8 0 5 0;
#X connect 8 1 6 0;
#X connect 9 0 5 0;
#X connect 9 1 6 0;
#X connect 10 0 5 0;
#X connect 10 1 6 0;
#X connect 11 0 5 0;
#X connect 11 1 6 0;
#X connect 12 0 5 0;
#X connect 12 1 6 0;
#X connect 13 0 5 0;
#X connect 13 1 6 0;
#X connect 14 0 5 0;
#X connect 14 1 6 0;
#X restore 459 312 pd sexta;
#N canvas 107 57 1080 558 sábado 0;
#N canvas 300 107 710 513 buzu 0;
#X text 433 107 aponta para o indexador numérico e retorna a linha
de ônibus associada, f 35;
#X text 13 86 indexadores negativos retornam a quantidade total de
linhas de onibus cadastradas, f 21;
#X obj 173 414 outlet saída_de_dados;
#X obj 377 414 outlet bang_de_fim;
#X obj 174 118 moses 0, f 41;
#X floatatom 174 93 5 0 0 0 - - -;
#X msg 174 139 bang;
#X obj 174 243 t b f;
#X msg 417 244 \$1;
#X obj 417 265 t b a;
#X obj 174 22 inlet mensagem_de_entrada;
#X obj 174 222 text size onibus_sab;
#X obj 417 223 text get onibus_sab;
#X connect 4 0 6 0;
#X connect 4 1 12 0;
#X connect 5 0 4 0;
#X connect 6 0 11 0;
#X connect 7 0 3 0;
#X connect 7 1 2 0;
#X connect 8 0 9 0;
#X connect 9 0 3 0;
#X connect 9 1 2 0;
#X connect 10 0 5 0;
#X connect 11 0 7 0;
#X connect 12 0 8 0;
#X restore 124 285 pd buzu;
#N canvas 71 172 445 512 zona 0;
#X obj 242 415 outlet bang_de_fim;
#X obj 45 415 outlet saída_de_dados;
#X obj 63 68 list prepend symbol;
#X obj 63 89 list trim;
#X obj 39 35 inlet identificador;
#X obj 100 318 t b a;
#X text 221 90 envia o dado de zona referente ao identificador, f
31;
#X obj 98 243 list split 3;
#X obj 98 164 text search coordenadas_sab;
#X obj 98 202 text get coordenadas_sab;
#X connect 2 0 3 0;
#X connect 3 0 8 0;
#X connect 4 0 2 0;
#X connect 5 0 0 0;
#X connect 5 1 1 0;
#X connect 7 1 5 0;
#X connect 8 0 9 0;
#X connect 9 0 7 0;
#X restore 587 285 pd zona;
#X obj 776 196 print Erro;
#X obj 115 135 route linhas buzu start_time interval stops coordenadas
zona trajeto avgspeed, f 103;
#X msg 776 175 Verifique a formatação da mensagem no Help;
#X obj 193 517 outlet saída_de_dados;
#X obj 623 517 outlet bang_de_fim;
#X obj 115 39 inlet mensagem_de_entrada;
#N canvas 219 100 627 313 linhas 0;
#X text 342 89 Retorna todas as linhas de ônibus sequencialmente a
um intervalo de tempo definido, f 37;
#X obj 57 227 outlet dados;
#X obj 228 227 outlet bang_de_fim;
#X obj 127 19 inlet mensagem_de_entrada;
#N canvas 188 68 799 658 linhas_de_ônibus 0;
#X msg 172 408 line 0;
#X obj 367 125 t b b b;
#X obj 192 52 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 172 475 \$1;
#X floatatom 430 421 5 0 0 0 - - -;
#X msg 424 284 stop;
#X floatatom 525 231 5 0 0 0 - - -;
#N canvas 116 209 348 228 contador 0;
#X obj 32 117 f;
#X obj 75 117 + 1;
#X msg 141 84 -1;
#X text 69 5 CONTADOR COM RESET;
#X obj 32 144 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X text 27 206 bang de saída;
#X obj 32 188 outlet bang;
#X obj 152 188 outlet contagem;
#X text 146 206 contagem de saída;
#X obj 32 33 inlet bang;
#X text 64 48 bang de contagem, f 9;
#X obj 141 33 inlet reset;
#X text 194 48 reinicia contagem;
#X connect 0 0 1 0;
#X connect 0 0 4 0;
#X connect 0 0 7 0;
#X connect 1 0 0 1;
#X connect 2 0 1 0;
#X connect 4 0 6 0;
#X connect 9 0 0 0;
#X connect 11 0 2 0;
#X restore 367 380 pd contador;
#X obj 367 208 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 533 203 total de linhas de ônibus no dia, f 16;
#X obj 492 308 sel 10;
#N canvas 667 298 399 318 seletor 0;
#X obj 109 60 inlet;
#X obj 109 143 f;
#X obj 147 143 + 1;
#X obj 129 185 sel 1 2, f 15;
#X obj 109 112 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 89 217 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 172 217 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 214 102 1;
#X obj 89 282 outlet;
#X obj 172 282 outlet;
#X text 241 104 reseta contagem;
#X text 20 12 SELETOR - A cada bang recebido \, alterna bangs pelas
saídas.;
#X obj 214 81 loadbang;
#X connect 0 0 4 0;
#X connect 1 0 2 0;
#X connect 1 0 3 0;
#X connect 2 0 1 1;
#X connect 3 0 5 0;
#X connect 3 1 6 0;
#X connect 4 0 1 0;
#X connect 5 0 8 0;
#X connect 6 0 7 0;
#X connect 6 0 9 0;
#X connect 7 0 1 1;
#X connect 12 0 7 0;
#X restore 367 228 pd seletor;
#X obj 430 344 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 367 283 t b b b;
#X text 506 324 ao atingir o total de linhas de ônibus no dia \, o
[metro] é interrompido, f 22;
#X text 134 25 liga/desl;
#X text 380 25 tempo de leitura;
#X text 462 418 índice da linha a ser recuperada, f 11;
#X text 289 15 1;
#X text 553 17 2;
#X msg 367 408 step;
#X obj 367 350 metro 18;
#X obj 192 24 inlet liga/desl;
#X obj 480 24 inlet tempo;
#X msg 238 408 bang;
#X obj 172 544 outlet linhas;
#X obj 313 543 outlet acabou;
#X text 85 564 retorna linhas de ônibus no tempo determinado, f 24
;
#X text 345 560 bang ao terminar de retornar dados, f 18;
#X obj 238 343 t b b;
#X obj 385 104 t b f;
#X text 17 87 Máquina que retorna as linhas de ônibus a um intervalo
de tempo determinado no inlet 2 de um determinado dia, f 32;
#X floatatom 462 253 5 0 0 0 - - -;
#X obj 403 432 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#N canvas 537 137 539 406 processamento_de_dados 0;
#X floatatom 217 58 5 0 0 0 - - -;
#X obj 196 265 f, f 4;
#X floatatom 196 294 5 0 0 0 - - -;
#X obj 217 23 inlet tempo;
#X text 292 22 tempo em ms;
#X obj 196 344 outlet tempo;
#X obj 39 344 outlet zero;
#X obj 39 23 inlet bang;
#X obj 39 185 spigot 1;
#X obj 84 165 <= 0;
#X obj 39 49 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 217 78 t f f, f 8;
#X obj 39 82 t b b;
#X obj 262 99 > 0;
#X obj 196 120 spigot 0, f 12;
#X obj 39 323 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 196 241 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 311 219 Este subpatch retornará um bang pelo outlet esquerdo
sempre que o tempo de retorno fornecido entre cada linha de ônibus
seja igual ou menor que zero \, caso contrário \, retorna o tempo
pelo outlet direito para setar o [metro], f 34;
#X connect 0 0 11 0;
#X connect 1 0 2 0;
#X connect 2 0 5 0;
#X connect 3 0 0 0;
#X connect 7 0 10 0;
#X connect 8 0 15 0;
#X connect 9 0 8 1;
#X connect 10 0 12 0;
#X connect 11 0 9 0;
#X connect 11 0 1 1;
#X connect 11 1 13 0;
#X connect 12 0 8 0;
#X connect 12 1 14 0;
#X connect 13 0 14 1;
#X connect 14 0 16 0;
#X connect 15 0 6 0;
#X connect 16 0 1 0;
#X restore 238 82 pd processamento_de_dados;
#X obj 525 186 text size onibus_sab;
#X obj 172 454 text sequence onibus_sab;
#X connect 0 0 36 0;
#X connect 1 0 8 0;
#X connect 1 1 35 0;
#X connect 1 2 0 0;
#X connect 2 0 34 0;
#X connect 3 0 25 0;
#X connect 5 0 21 0;
#X connect 6 0 10 1;
#X connect 7 0 20 0;
#X connect 7 0 33 0;
#X connect 7 1 10 0;
#X connect 7 1 4 0;
#X connect 8 0 11 0;
#X connect 10 0 8 0;
#X connect 11 0 13 0;
#X connect 11 1 5 0;
#X connect 12 0 7 1;
#X connect 13 0 21 0;
#X connect 13 1 12 0;
#X connect 20 0 36 0;
#X connect 21 0 7 0;
#X connect 22 0 2 0;
#X connect 23 0 34 1;
#X connect 24 0 36 0;
#X connect 29 0 24 0;
#X connect 29 1 0 0;
#X connect 30 0 1 0;
#X connect 30 1 21 1;
#X connect 30 1 32 0;
#X connect 34 0 29 0;
#X connect 34 1 30 0;
#X connect 35 0 6 0;
#X connect 36 0 3 0;
#X connect 36 1 26 0;
#X restore 87 172 pd linhas_de_ônibus;
#X obj 127 97 t b f;
#X connect 3 0 5 0;
#X connect 4 0 1 0;
#X connect 4 1 2 0;
#X connect 5 0 4 0;
#X connect 5 1 4 1;
#X restore 55 284 pd linhas;
#N canvas 66 147 556 410 start_time 0;
#X text 332 54 Retorna o valor de start_time a partir do nome da linha
de ônibus, f 35;
#X obj 112 320 outlet saída_de_dados;
#X obj 302 320 outlet bang_de_fim;
#X msg 197 243 \$2;
#X obj 142 68 list prepend symbol;
#X obj 142 89 list trim;
#X obj 197 264 t b a;
#X obj 124 19 inlet linha_de_ônibus;
#X obj 46 182 sel -1;
#X msg 46 203 linha não encontrada;
#X obj 197 134 text search onibus_sab;
#X obj 197 222 text get onibus_sab;
#X connect 3 0 6 0;
#X connect 4 0 5 0;
#X connect 5 0 10 0;
#X connect 6 0 2 0;
#X connect 6 1 1 0;
#X connect 7 0 4 0;
#X connect 8 0 9 0;
#X connect 9 0 6 0;
#X connect 10 0 8 0;
#X connect 10 0 11 0;
#X connect 11 0 3 0;
#X restore 183 285 pd start_time;
#N canvas 278 73 722 691 interval 0;
#X obj 492 626 outlet bang_de_fim;
#X obj 219 626 outlet saída_de_dados;
#X obj 158 358 list split 2;
#X obj 192 389 list split 24;
#X obj 192 545 t b a;
#X obj 158 131 list split 1;
#X obj 351 98 list length;
#X obj 158 84 t a a;
#X obj 492 287 list split 1;
#X obj 19 317 sel -1;
#X msg 19 338 linha não encontrada;
#N canvas 615 290 542 370 seletor_de_modo_de_saída 0;
#X obj 321 102 sel 0, f 16;
#X obj 82 211 spigot 1;
#X obj 82 70 t a a, f 32;
#X obj 271 251 spigot 1;
#X msg 321 147 1;
#X obj 321 127 t b b, f 8;
#X msg 366 147 0;
#X obj 414 157 t b b, f 8;
#X msg 414 177 0;
#X msg 459 177 1;
#X obj 82 17 inlet lista;
#X obj 321 17 inlet tamanho_da_lista;
#X obj 82 325 outlet sai_lista_completa;
#X obj 321 84 > 1;
#X obj 271 325 outlet mandar_lista_para_fatiamento;
#X connect 0 0 5 0;
#X connect 0 1 7 0;
#X connect 1 0 12 0;
#X connect 2 0 1 0;
#X connect 2 1 3 0;
#X connect 3 0 14 0;
#X connect 4 0 1 1;
#X connect 5 0 4 0;
#X connect 5 1 6 0;
#X connect 6 0 3 1;
#X connect 7 0 8 0;
#X connect 7 1 9 0;
#X connect 8 0 1 1;
#X connect 9 0 3 1;
#X connect 10 0 2 0;
#X connect 11 0 13 0;
#X connect 13 0 0 0;
#X restore 192 440 pd seletor_de_modo_de_saída;
#X text 503 303 argumento tempo, f 9;
#X text 96 134 argumento linha de ônibus, f 9;
#N canvas 733 62 502 514 fatiar_lista_no_tempo 0;
#X obj 37 37 inlet lista;
#X obj 271 37 inlet tempo;
#X text 342 38 (ms);
#X obj 37 452 outlet saída_elemento_a_elemento;
#X obj 37 225 spigot 0;
#X obj 271 109 t a a, f 11;
#N canvas 456 120 471 263 disparador_de_dados 0;
#X obj 89 17 inlet lista_de_dados;
#X obj 310 17 inlet tempo;
#X obj 89 200 outlet saída_dado_a_dado;
#X obj 89 68 list split 1, f 41;
#X obj 147 142 list append;
#X obj 28 128 del;
#X msg 28 102 bang;
#X obj 332 200 outlet bang_de_fim;
#X connect 0 0 3 0;
#X connect 1 0 5 1;
#X connect 3 0 6 0;
#X connect 3 0 2 0;
#X connect 3 1 4 1;
#X connect 3 2 7 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 6 0 5 0;
#X restore 169 267 pd disparador_de_dados;
#X f 28;
#X obj 37 111 t a a, f 8;
#N canvas 162 87 537 382 se_tempo_é_menor_que_0 0;
#X obj 35 20 inlet lista;
#X obj 194 20 inlet tempo;
#X obj 75 320 outlet libera_lista_completa;
#X obj 45 183 sel 1, f 11;
#X msg 45 205 1;
#X msg 108 205 0;
#X obj 28 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 133 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 301 256 spigot 1;
#X msg 313 205 1;
#X msg 376 205 0;
#X obj 292 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 405 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 313 183 sel 0, f 11;
#X obj 301 321 outlet libera_lista_pra_ser_fatiada;
#X obj 194 75 < 0;
#X text 354 58 Se o tempo é maior ou igual a zero \, este subpatch
libera os dados para serem fatiados, f 25;
#X connect 0 0 8 0;
#X connect 1 0 15 0;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 4 0 2 0;
#X connect 4 0 6 0;
#X connect 5 0 2 0;
#X connect 5 0 7 0;
#X connect 8 0 14 0;
#X connect 9 0 11 0;
#X connect 9 0 8 1;
#X connect 10 0 12 0;
#X connect 10 0 8 1;
#X connect 13 0 9 0;
#X connect 13 1 10 0;
#X connect 15 0 3 0;
#X connect 15 0 13 0;
#X restore 82 158 pd se_tempo_é_menor_que_0;
#X f 32;
#X obj 334 451 outlet bang_de_fim;
#X connect 0 0 7 0;
#X connect 1 0 5 0;
#X connect 4 0 3 0;
#X connect 5 0 8 1;
#X connect 5 1 6 1;
#X connect 6 0 3 0;
#X connect 6 1 9 0;
#X connect 7 0 4 0;
#X connect 7 1 8 0;
#X connect 8 0 4 1;
#X connect 8 1 6 0;
#X restore 351 488 pd fatiar_lista_no_tempo;
#X text 528 62 envia todos os dados de interval referentes a linha
requerida, f 22;
#X obj 158 9 inlet mensagem_de_entrada;
#X obj 158 254 text search onibus_sab;
#X obj 158 277 text get onibus_sab;
#X connect 2 1 3 0;
#X connect 3 0 11 0;
#X connect 4 0 0 0;
#X connect 4 1 1 0;
#X connect 5 0 17 0;
#X connect 5 1 8 0;
#X connect 6 0 11 1;
#X connect 7 0 5 0;
#X connect 7 1 6 0;
#X connect 8 0 14 1;
#X connect 9 0 10 0;
#X connect 10 0 4 0;
#X connect 11 0 4 0;
#X connect 11 1 14 0;
#X connect 14 0 1 0;
#X connect 14 1 0 0;
#X connect 16 0 7 0;
#X connect 17 0 9 0;
#X connect 17 0 18 0;
#X connect 18 0 2 0;
#X restore 274 285 pd interval;
#N canvas 51 126 480 585 coordenadas 0;
#X obj 272 475 outlet bang_de_fim;
#X obj 75 475 outlet saída_de_dados;
#X obj 63 68 list prepend symbol;
#X obj 63 89 list trim;
#X obj 39 35 inlet identificador;
#X text 243 321 envia os dados de coordenadas referentes ao identificador
, f 31;
#X obj 98 243 list split 1;
#X obj 132 270 list split 2;
#X obj 100 318 t b a;
#X obj 98 164 text search coordenadas_sab;
#X obj 98 202 text get coordenadas_sab;
#X connect 2 0 3 0;
#X connect 3 0 9 0;
#X connect 4 0 2 0;
#X connect 6 1 7 0;
#X connect 7 0 8 0;
#X connect 8 0 0 0;
#X connect 8 1 1 0;
#X connect 9 0 10 0;
#X connect 10 0 6 0;
#X restore 490 285 pd coordenadas;
#N canvas 84 68 712 602 avgspeed 0;
#X obj 398 538 outlet bang_de_fim;
#X obj 231 538 outlet saída_de_dados;
#X text 487 61 envia todos os dados de velocidade média referentes
ao identificador de trajeto, f 29;
#X obj 170 24 inlet identificador_de_trajeto;
#X obj 204 399 t b a;
#X obj 19 257 sel -1;
#X msg 19 278 linha não encontrada;
#N canvas 615 290 542 370 seletor_de_modo_de_saída 0;
#X obj 321 102 sel 0, f 16;
#X obj 82 211 spigot 1;
#X obj 82 70 t a a, f 32;
#X obj 271 251 spigot 1;
#X msg 321 147 1;
#X obj 321 127 t b b, f 8;
#X msg 366 147 0;
#X obj 414 157 t b b, f 8;
#X msg 414 177 0;
#X msg 459 177 1;
#X obj 82 17 inlet lista;
#X obj 321 17 inlet tamanho_da_lista;
#X obj 82 325 outlet sai_lista_completa;
#X obj 321 84 > 1;
#X obj 271 325 outlet manda_lista_para_fatiamento;
#X connect 0 0 5 0;
#X connect 0 1 7 0;
#X connect 1 0 12 0;
#X connect 2 0 1 0;
#X connect 2 1 3 0;
#X connect 3 0 14 0;
#X connect 4 0 1 1;
#X connect 5 0 4 0;
#X connect 5 1 6 0;
#X connect 6 0 3 1;
#X connect 7 0 8 0;
#X connect 7 1 9 0;
#X connect 8 0 1 1;
#X connect 9 0 3 1;
#X connect 10 0 2 0;
#X connect 11 0 13 0;
#X connect 13 0 0 0;
#X restore 204 347 pd seletor_de_modo_de_saída;
#X obj 363 99 list length;
#X obj 170 85 t a a;
#X obj 170 115 list split 1;
#X obj 504 244 list split 1;
#N canvas 733 62 502 514 fatiar_lista_no_tempo 0;
#X obj 37 37 inlet lista;
#X obj 271 37 inlet tempo;
#X text 342 38 (ms);
#X obj 37 452 outlet saída_elemento_a_elemento;
#X obj 37 225 spigot 0;
#X obj 271 109 t a a, f 11;
#N canvas 456 120 471 263 disparador_de_dados 0;
#X obj 89 17 inlet lista_de_dados;
#X obj 310 17 inlet tempo;
#X obj 89 200 outlet saída_dado_a_dado;
#X obj 89 68 list split 1, f 41;
#X obj 147 142 list append;
#X obj 28 128 del;
#X msg 28 102 bang;
#X obj 332 200 outlet bang_de_fim;
#X connect 0 0 3 0;
#X connect 1 0 5 1;
#X connect 3 0 6 0;
#X connect 3 0 2 0;
#X connect 3 1 4 1;
#X connect 3 2 7 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 6 0 5 0;
#X restore 169 267 pd disparador_de_dados;
#X f 28;
#X obj 37 111 t a a, f 8;
#N canvas 162 87 537 382 se_tempo_é_menor_que_0 0;
#X obj 35 20 inlet lista;
#X obj 194 20 inlet tempo;
#X obj 75 320 outlet libera_lista_completa;
#X obj 45 183 sel 1, f 11;
#X msg 45 205 1;
#X msg 108 205 0;
#X obj 28 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 133 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 301 256 spigot 1;
#X msg 313 205 1;
#X msg 376 205 0;
#X obj 292 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 405 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 313 183 sel 0, f 11;
#X obj 301 321 outlet libera_lista_pra_ser_fatiada;
#X obj 194 75 < 0;
#X text 354 58 Se o tempo é maior ou igual a zero \, este subpatch
libera os dados para serem fatiados, f 25;
#X connect 0 0 8 0;
#X connect 1 0 15 0;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 4 0 2 0;
#X connect 4 0 6 0;
#X connect 5 0 2 0;
#X connect 5 0 7 0;
#X connect 8 0 14 0;
#X connect 9 0 11 0;
#X connect 9 0 8 1;
#X connect 10 0 12 0;
#X connect 10 0 8 1;
#X connect 13 0 9 0;
#X connect 13 1 10 0;
#X connect 15 0 3 0;
#X connect 15 0 13 0;
#X restore 82 158 pd se_tempo_é_menor_que_0;
#X f 32;
#X obj 334 451 outlet bang_de_fim;
#X connect 0 0 7 0;
#X connect 1 0 5 0;
#X connect 4 0 3 0;
#X connect 5 0 8 1;
#X connect 5 1 6 1;
#X connect 6 0 3 0;
#X connect 6 1 9 0;
#X connect 7 0 4 0;
#X connect 7 1 8 0;
#X connect 8 0 4 1;
#X connect 8 1 6 0;
#X restore 363 381 pd fatiar_lista_no_tempo;
#X text 583 242 tempo, f 6;
#X text 24 131 identificador de trajeto;
#X obj 170 203 text search trajetos_sab;
#X obj 170 232 text get trajetos_sab;
#X obj 170 313 list split 2;
#X connect 3 0 9 0;
#X connect 4 0 0 0;
#X connect 4 1 1 0;
#X connect 5 0 6 0;
#X connect 6 0 4 0;
#X connect 7 0 4 0;
#X connect 7 1 12 0;
#X connect 8 0 7 1;
#X connect 9 0 10 0;
#X connect 9 1 8 0;
#X connect 10 0 15 0;
#X connect 10 1 11 0;
#X connect 11 0 12 1;
#X connect 12 0 1 0;
#X connect 12 1 0 0;
#X connect 15 0 5 0;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 17 1 7 0;
#X restore 759 285 pd avgspeed;
#N canvas 122 28 757 674 stops 0;
#X text 547 153 envia todos os dados de stops referentes à linha requerida
, f 25;
#X obj 531 631 outlet bang_de_fim;
#X obj 258 631 outlet saída_de_dados;
#X obj 160 363 list split 2;
#X obj 194 394 list split 24;
#X obj 231 550 t b a;
#X obj 160 136 list split 1;
#X obj 390 103 list length;
#X obj 160 89 t a a;
#X obj 531 292 list split 1;
#X obj 21 322 sel -1;
#X msg 21 343 linha não encontrada;
#N canvas 615 290 542 370 seletor_de_modo_de_saída 0;
#X obj 321 102 sel 0, f 16;
#X obj 82 211 spigot 1;
#X obj 82 70 t a a, f 32;
#X obj 271 251 spigot 1;
#X msg 321 147 1;
#X obj 321 127 t b b, f 8;
#X msg 366 147 0;
#X obj 414 157 t b b, f 8;
#X msg 414 177 0;
#X msg 459 177 1;
#X obj 82 17 inlet lista;
#X obj 321 17 inlet tamanho_da_lista;
#X obj 82 325 outlet sai_lista_completa;
#X obj 271 325 outlet sair_lista_elemento_a_elemento;
#X obj 321 84 > 1;
#X connect 0 0 5 0;
#X connect 0 1 7 0;
#X connect 1 0 12 0;
#X connect 2 0 1 0;
#X connect 2 1 3 0;
#X connect 3 0 13 0;
#X connect 4 0 1 1;
#X connect 5 0 4 0;
#X connect 5 1 6 0;
#X connect 6 0 3 1;
#X connect 7 0 8 0;
#X connect 7 1 9 0;
#X connect 8 0 1 1;
#X connect 9 0 3 1;
#X connect 10 0 2 0;
#X connect 11 0 14 0;
#X connect 14 0 0 0;
#X restore 231 445 pd seletor_de_modo_de_saída;
#X text 542 308 argumento tempo, f 9;
#X text 98 139 argumento linha de ônibus, f 9;
#N canvas 733 62 502 514 fatiar_lista_no_tempo 0;
#X obj 37 37 inlet lista;
#X obj 271 37 inlet tempo;
#X text 342 38 (ms);
#X obj 37 452 outlet saída_elemento_a_elemento;
#X obj 37 225 spigot 0;
#X obj 271 109 t a a, f 11;
#N canvas 456 120 471 263 disparador_de_dados 0;
#X obj 89 17 inlet lista_de_dados;
#X obj 310 17 inlet tempo;
#X obj 89 200 outlet saída_dado_a_dado;
#X obj 89 68 list split 1, f 41;
#X obj 147 142 list append;
#X obj 28 128 del;
#X msg 28 102 bang;
#X obj 332 200 outlet bang_de_fim;
#X connect 0 0 3 0;
#X connect 1 0 5 1;
#X connect 3 0 6 0;
#X connect 3 0 2 0;
#X connect 3 1 4 1;
#X connect 3 2 7 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 6 0 5 0;
#X restore 169 267 pd disparador_de_dados;
#X f 28;
#X obj 37 111 t a a, f 8;
#N canvas 162 87 537 382 se_tempo_é_menor_que_0 0;
#X obj 35 20 inlet lista;
#X obj 194 20 inlet tempo;
#X obj 75 320 outlet libera_lista_completa;
#X obj 45 183 sel 1, f 11;
#X msg 45 205 1;
#X msg 108 205 0;
#X obj 28 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 133 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 301 256 spigot 1;
#X msg 313 205 1;
#X msg 376 205 0;
#X obj 292 220 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 405 219 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 313 183 sel 0, f 11;
#X obj 301 321 outlet libera_lista_pra_ser_fatiada;
#X obj 194 75 < 0;
#X text 354 58 Se o tempo é maior ou igual a zero \, este subpatch
libera os dados para serem fatiados, f 25;
#X connect 0 0 8 0;
#X connect 1 0 15 0;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 4 0 2 0;
#X connect 4 0 6 0;
#X connect 5 0 2 0;
#X connect 5 0 7 0;
#X connect 8 0 14 0;
#X connect 9 0 11 0;
#X connect 9 0 8 1;
#X connect 10 0 12 0;
#X connect 10 0 8 1;
#X connect 13 0 9 0;
#X connect 13 1 10 0;
#X connect 15 0 3 0;
#X connect 15 0 13 0;
#X restore 82 158 pd se_tempo_é_menor_que_0;
#X f 32;
#X obj 334 451 outlet bang_de_fim;
#X connect 0 0 7 0;
#X connect 1 0 5 0;
#X connect 4 0 3 0;
#X connect 5 0 8 1;
#X connect 5 1 6 1;
#X connect 6 0 3 0;
#X connect 6 1 9 0;
#X connect 7 0 4 0;
#X connect 7 1 8 0;
#X connect 8 0 4 1;
#X connect 8 1 6 0;
#X restore 390 493 pd fatiar_lista_no_tempo;
#X obj 160 14 inlet mensagem_de_entrada;
#X obj 160 259 text search onibus_sab;
#X obj 160 282 text get onibus_sab;
#X connect 3 1 4 0;
#X connect 4 1 12 0;
#X connect 5 0 1 0;
#X connect 5 1 2 0;
#X connect 6 0 17 0;
#X connect 6 1 9 0;
#X connect 7 0 12 1;
#X connect 8 0 6 0;
#X connect 8 1 7 0;
#X connect 9 0 15 1;
#X connect 10 0 11 0;
#X connect 11 0 5 0;
#X connect 12 0 5 0;
#X connect 12 1 15 0;
#X connect 15 0 2 0;
#X connect 15 1 1 0;
#X connect 16 0 8 0;
#X connect 17 0 10 0;
#X connect 17 0 18 0;
#X connect 18 0 3 0;
#X restore 354 285 pd stops;
#N canvas 112 123 555 508 trajeto 0;
#X obj 139 27 inlet;
#X obj 285 400 outlet bang_de_fim;
#X obj 88 400 outlet saída_de_dados;
#N canvas 313 189 495 459 saída_trajeto 0;
#X text 300 17 Separa e retorna dados referentes ao primeiro e último
indicador de ponto de parada de ônibus, f 25;
#X obj 260 135 list length;
#X obj 203 174 list split;
#X obj 203 113 t l l;
#X obj 260 155 - 1;
#X msg 82 313 set symbol \$1-\$2;
#X msg 55 359 symbol 640000518id-920016702id;
#X obj 55 292 t b l;
#X obj 55 271 pack s s;
#X obj 55 59 list split 26;
#X obj 55 86 list split 1, f 50;
#X obj 55 238 list trim;
#X obj 231 238 list trim;
#X obj 55 207 list prepend symbol;
#X obj 231 207 list prepend symbol;
#X obj 55 18 inlet pontos_de_parada;
#X obj 55 408 outlet identificador_de_trajeto;
#X connect 1 0 4 0;
#X connect 2 1 14 0;
#X connect 3 0 2 0;
#X connect 3 1 1 0;
#X connect 4 0 2 1;
#X connect 5 0 6 0;
#X connect 6 0 16 0;
#X connect 7 0 6 0;
#X connect 7 1 5 0;
#X connect 8 0 7 0;
#X connect 9 1 10 0;
#X connect 10 0 13 0;
#X connect 10 1 3 0;
#X connect 11 0 8 0;
#X connect 12 0 8 1;
#X connect 13 0 11 0;
#X connect 14 0 12 0;
#X connect 15 0 9 0;
#X restore 138 313 pd saída_trajeto;
#X obj 138 82 list prepend symbol;
#X obj 138 103 list trim;
#X text 352 64 retorna um identificador de trajeto referente à linha
requerida, f 25;
#X obj 138 334 t b a;
#X obj 41 208 sel -1;
#X msg 41 229 linha não encontrada;
#X obj 203 168 text search onibus_sab;
#X obj 203 256 text get onibus_sab;
#X connect 0 0 4 0;
#X connect 3 0 7 0;
#X connect 4 0 5 0;
#X connect 5 0 10 0;
#X connect 7 0 1 0;
#X connect 7 1 2 0;
#X connect 8 0 9 0;
#X connect 9 0 7 0;
#X connect 10 0 8 0;
#X connect 10 0 11 0;
#X connect 11 0 3 0;
#X restore 641 285 pd trajeto;
#X connect 0 0 5 0;
#X connect 0 1 6 0;
#X connect 1 0 5 0;
#X connect 1 1 6 0;
#X connect 3 0 8 0;
#X connect 3 1 0 0;
#X connect 3 2 9 0;
#X connect 3 3 10 0;
#X connect 3 4 13 0;
#X connect 3 5 11 0;
#X connect 3 6 1 0;
#X connect 3 7 14 0;
#X connect 3 8 12 0;
#X connect 3 9 4 0;
#X connect 4 0 2 0;
#X connect 7 0 3 0;
#X connect 8 0 5 0;
#X connect 8 1 6 0;
#X connect 9 0 5 0;
#X connect 9 1 6 0;
#X connect 10 0 5 0;
#X connect 10 1 6 0;
#X connect 11 0 5 0;
#X connect 11 1 6 0;
#X connect 12 0 5 0;
#X connect 12 1 6 0;
#X connect 13 0 5 0;
#X connect 13 1 6 0;
#X connect 14 0 5 0;
#X connect 14 1 6 0;
#X restore 524 312 pd sábado;
#X obj 164 417 outlet saída_de_dados;
#X obj 464 417 outlet bang_de_fim;
#X connect 0 0 2 0;
#X connect 1 0 2 1;
#X connect 2 0 3 0;
#X connect 3 0 7 0;
#X connect 3 1 8 0;
#X connect 3 2 9 0;
#X connect 3 3 10 0;
#X connect 3 4 11 0;
#X connect 3 5 12 0;
#X connect 3 6 13 0;
#X connect 3 7 14 0;
#X connect 3 8 5 0;
#X connect 5 0 6 0;
#X connect 7 0 15 0;
#X connect 7 1 16 0;
#X connect 8 0 15 0;
#X connect 8 1 16 0;
#X connect 9 0 15 0;
#X connect 9 1 16 0;
#X connect 10 0 15 0;
#X connect 10 1 16 0;
#X connect 11 0 15 0;
#X connect 11 1 16 0;
#X connect 12 0 15 0;
#X connect 12 1 16 0;
#X connect 13 0 15 0;
#X connect 13 1 16 0;
#X connect 14 0 15 0;
#X connect 14 1 16 0;
